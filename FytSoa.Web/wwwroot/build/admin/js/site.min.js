!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.echarts={})}(this,function(n){"use strict";function pti(n){var t={},i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),u=n.match(/Edge\/([\d.]+)/),f=/micromessenger/i.test(n);return i&&(t.firefox=!0,t.version=i[1]),r&&(t.ie=!0,t.version=r[1]),u&&(t.edge=!0,t.version=u[1]),f&&(t.weChat=!0),{browser:t,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!t.ie&&!t.edge,pointerEventsSupported:"onpointerdown"in window&&(t.edge||t.ie&&t.version>=11)}}function net(n,t){"createCanvas"===n&&(kv=null);ptt[n]=t}function v(n){var i,r,e,t,u,f;if(null==n||"object"!=typeof n)return n;if(i=n,r=pc.call(n),"[object Array]"===r){if(!ho(n))for(i=[],t=0,u=n.length;u>t;t++)i[t]=v(n[t])}else if(nbt[r]){if(!ho(n))if(e=n.constructor,n.constructor.from)i=e.from(n);else for(i=new e(n.length),t=0,u=n.length;u>t;t++)i[t]=v(n[t])}else if(!gwt[r]&&!ho(n)&&!sh(n)){i={};for(f in n)n.hasOwnProperty(f)&&(i[f]=v(n[f]))}return i}function s(n,t,i){var r,e,o;if(!f(t)||!f(n))return i?v(t):n;for(r in t)t.hasOwnProperty(r)&&(e=n[r],o=t[r],!f(o)||!f(e)||u(o)||u(e)||sh(o)||sh(e)||eb(o)||eb(e)||ho(o)||ho(e)?!i&&r in n||(n[r]=v(t[r],!0)):s(e,o,i));return n}function fb(n,t){for(var i=n[0],r=1,u=n.length;u>r;r++)i=s(i,n[r],t);return i}function c(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function l(n,t,i){for(var r in t)t.hasOwnProperty(r)&&(i?null!=t[r]:null==n[r])&&(n[r]=t[r]);return n}function tet(){return kv||(kv=bv().getContext("2d")),kv}function y(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;r>i;i++)if(n[i]===t)return i}return-1}function vt(n,t){function r(){}var u=n.prototype,i;r.prototype=t.prototype;n.prototype=new r;for(i in u)n.prototype[i]=u[i];n.prototype.constructor=n;n.superClass=t}function rt(n,t,i){n="prototype"in n?n.prototype:n;t="prototype"in t?t.prototype:t;l(n,t,i)}function nu(n){if(n)return"string"==typeof n?!1:"number"==typeof n.length}function t(n,t,i){var r,f,u;if(n&&t)if(n.forEach&&n.forEach===api)n.forEach(t,i);else if(n.length===+n.length)for(r=0,f=n.length;f>r;r++)t.call(i,n[r],r,n);else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function i(n,t,i){if(n&&t){if(n.map&&n.map===ypi)return n.map(t,i);for(var u=[],r=0,f=n.length;f>r;r++)u.push(t.call(i,n[r],r,n));return u}}function oh(n,t,i,r){if(n&&t){if(n.reduce&&n.reduce===ppi)return n.reduce(t,i,r);for(var u=0,f=n.length;f>u;u++)i=t.call(r,i,n[u],u,n);return i}}function wt(n,t,i){if(n&&t){if(n.filter&&n.filter===vpi)return n.filter(t,i);for(var u=[],r=0,f=n.length;f>r;r++)t.call(i,n[r],r,n)&&u.push(n[r]);return u}}function wti(n,t,i){if(n&&t)for(var r=0,u=n.length;u>r;r++)if(t.call(i,n[r],r,n))return n[r]}function ut(n,t){var i=bc.call(arguments,2);return function(){return n.apply(t,i.concat(bc.call(arguments)))}}function p(n){var t=bc.call(arguments,1);return function(){return n.apply(this,t.concat(bc.call(arguments)))}}function u(n){return"[object Array]"===pc.call(n)}function fr(n){return"function"==typeof n}function dt(n){return"[object String]"===pc.call(n)}function f(n){var t=typeof n;return"function"===t||!!n&&"object"==t}function eb(n){return!!gwt[pc.call(n)]}function er(n){return!!nbt[pc.call(n)]}function sh(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function hh(n){return n!==n}function yu(){for(var n=0,t=arguments.length;t>n;n++)if(null!=arguments[n])return arguments[n]}function gt(n,t){return null!=n?n:t}function oo(n,t,i){return null!=n?n:null!=t?t:i}function ob(){return Function.call.apply(bc,arguments)}function sb(n){if("number"==typeof n)return[n,n,n,n];var t=n.length;return 2===t?[n[0],n[1],n[0],n[1]]:3===t?[n[0],n[1],n[2],n[1]]:n}function so(n,t){if(!n)throw new Error(t);}function hb(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function cb(n){n[wtt]=!0}function ho(n){return n[wtt]}function bl(n){function i(n,t){f?r.set(n,t):r.set(t,n)}var f=u(n),r=this;n instanceof bl?n.each(i):n&&t(n,i)}function a(n){return new bl(n)}function bti(n,t){for(var u,r=new n.constructor(n.length+t.length),i=0;i<n.length;i++)r[i]=n[i];for(u=n.length,i=0;i<t.length;i++)r[i+u]=t[i];return r}function pu(){}function ne(n,t){var i=new tbt(2);return null==n&&(n=0),null==t&&(t=0),i[0]=n,i[1]=t,i}function iet(n,t){return n[0]=t[0],n[1]=t[1],n}function lb(n){var t=new tbt(2);return t[0]=n[0],t[1]=n[1],t}function kti(n,t,i){return n[0]=t,n[1]=i,n}function ab(n,t,i){return n[0]=t[0]+i[0],n[1]=t[1]+i[1],n}function ret(n,t,i,r){return n[0]=t[0]+i[0]*r,n[1]=t[1]+i[1]*r,n}function kl(n,t,i){return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n}function vb(n){return Math.sqrt(yb(n))}function yb(n){return n[0]*n[0]+n[1]*n[1]}function dti(n,t,i){return n[0]=t[0]*i[0],n[1]=t[1]*i[1],n}function gti(n,t,i){return n[0]=t[0]/i[0],n[1]=t[1]/i[1],n}function nii(n,t){return n[0]*t[0]+n[1]*t[1]}function dl(n,t,i){return n[0]=t[0]*i,n[1]=t[1]*i,n}function gl(n,t){var i=vb(t);return 0===i?(n[0]=0,n[1]=0):(n[0]=t[0]/i,n[1]=t[1]/i),n}function ch(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}function uet(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])}function tii(n,t){return n[0]=-t[0],n[1]=-t[1],n}function iii(n,t,i,r){return n[0]=t[0]+r*(i[0]-t[0]),n[1]=t[1]+r*(i[1]-t[1]),n}function ni(n,t,i){var r=t[0],u=t[1];return n[0]=i[0]*r+i[2]*u+i[4],n[1]=i[1]*r+i[3]*u+i[5],n}function tu(n,t,i){return n[0]=Math.min(t[0],i[0]),n[1]=Math.min(t[1],i[1]),n}function iu(n,t,i){return n[0]=Math.max(t[0],i[0]),n[1]=Math.max(t[1],i[1]),n}function na(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}function co(n,t){return{target:n,topTarget:t&&t.topTarget}}function rii(n,t,i){return{type:n,event:i,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which}}function fet(){}function uii(n,t,i){if(n[n.rectHover?"rectContain":"contain"](t,i)){for(var u,r=n;r;){if(r.clipPath&&!r.clipPath.contain(t,i))return!1;r.silent&&(u=!0);r=r.parent}return u?ktt:!0}return!1}function lo(){var n=new gpi(6);return lh(n),n}function lh(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function pb(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function ao(n,t,i){var r=t[0]*i[0]+t[2]*i[1],u=t[1]*i[0]+t[3]*i[1],f=t[0]*i[2]+t[2]*i[3],e=t[1]*i[2]+t[3]*i[3],o=t[0]*i[4]+t[2]*i[5]+t[4],s=t[1]*i[4]+t[3]*i[5]+t[5];return n[0]=r,n[1]=u,n[2]=f,n[3]=e,n[4]=o,n[5]=s,n}function ta(n,t,i){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+i[0],n[5]=t[5]+i[1],n}function ia(n,t,i){var f=t[0],e=t[2],o=t[4],s=t[1],h=t[3],c=t[5],r=Math.sin(i),u=Math.cos(i);return n[0]=f*u+s*r,n[1]=-f*r+s*u,n[2]=e*u+h*r,n[3]=-e*r+u*h,n[4]=u*o+r*c,n[5]=u*c-r*o,n}function wb(n,t,i){var r=i[0],u=i[1];return n[0]=t[0]*r,n[1]=t[1]*u,n[2]=t[2]*r,n[3]=t[3]*u,n[4]=t[4]*r,n[5]=t[5]*u,n}function bb(n,t){var r=t[0],u=t[2],o=t[4],f=t[1],e=t[3],s=t[5],i=r*e-f*u;return i?(i=1/i,n[0]=e*i,n[1]=-f*i,n[2]=-u*i,n[3]=r*i,n[4]=(u*s-e*o)*i,n[5]=(f*o-r*s)*i,n):null}function fii(n){var t=lo();return pb(t,n),t}function te(n){return n>rbt||-rbt>n}function kb(n){this._target=n.target;this._life=n.life||1e3;this._delay=n.delay||0;this._initialized=!1;this.loop=null==n.loop?!1:n.loop;this.gap=n.gap||0;this.easing=n.easing||"Linear";this.onframe=n.onframe;this.ondestroy=n.ondestroy;this.onrestart=n.onrestart;this._pausedTime=0;this._paused=!1}function or(n){return n=Math.round(n),0>n?0:n>255?255:n}function eii(n){return n=Math.round(n),0>n?0:n>360?360:n}function ra(n){return 0>n?0:n>1?1:n}function db(n){return or(n.length&&"%"===n.charAt(n.length-1)?parseFloat(n)/100*255:parseInt(n,10))}function vo(n){return ra(n.length&&"%"===n.charAt(n.length-1)?parseFloat(n)/100:parseFloat(n))}function gb(n,t,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?n+(t-n)*i*6:1>2*i?t:2>3*i?n+(t-n)*(2/3-i)*6:n}function wu(n,t,i){return n+(t-n)*i}function nr(n,t,i,r,u){return n[0]=t,n[1]=i,n[2]=r,n[3]=u,n}function nk(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function yo(n,t){gv&&nk(gv,t);gv=ebt.put(n,gv||t.slice())}function ru(n,t){var e,r,f,o,i;if(n){if(t=t||[],e=ebt.get(n),e)return nk(t,e);if(n+="",r=n.replace(/ /g,"").toLowerCase(),r in fbt)return nk(t,fbt[r]),yo(n,t),t;if("#"!==r.charAt(0)){if(f=r.indexOf("("),o=r.indexOf(")"),-1!==f&&o+1===r.length){var h=r.substr(0,f),u=r.substr(f+1,o-(f+1)).split(","),s=1;switch(h){case"rgba":if(4!==u.length)return void nr(t,0,0,0,1);s=vo(u.pop());case"rgb":return 3!==u.length?void nr(t,0,0,0,1):(nr(t,db(u[0]),db(u[1]),db(u[2]),s),yo(n,t),t);case"hsla":return 4!==u.length?void nr(t,0,0,0,1):(u[3]=vo(u[3]),tk(u,t),yo(n,t),t);case"hsl":return 3!==u.length?void nr(t,0,0,0,1):(tk(u,t),yo(n,t),t);default:return}}nr(t,0,0,0,1)}else{if(4===r.length)return i=parseInt(r.substr(1),16),i>=0&&4095>=i?(nr(t,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),yo(n,t),t):void nr(t,0,0,0,1);if(7===r.length)return i=parseInt(r.substr(1),16),i>=0&&16777215>=i?(nr(t,(16711680&i)>>16,(65280&i)>>8,255&i,1),yo(n,t),t):void nr(t,0,0,0,1)}}}function tk(n,t){var u=(parseFloat(n[0])%360+360)%360/360,f=vo(n[1]),i=vo(n[2]),r=.5>=i?i*(f+1):i+f-i*f,e=2*i-r;return t=t||[],nr(t,or(255*gb(e,r,u+1/3)),or(255*gb(e,r,u)),or(255*gb(e,r,u-1/3)),1),4===n.length&&(t[3]=n[3]),t}function oii(n){var h;if(n){var i,s,u=n[0]/255,f=n[1]/255,e=n[2]/255,o=Math.min(u,f,e),t=Math.max(u,f,e),r=t-o,c=(t+o)/2;if(0===r)i=0,s=0;else{s=.5>c?r/(t+o):r/(2-t-o);var l=((t-u)/6+r/2)/r,a=((t-f)/6+r/2)/r,v=((t-e)/6+r/2)/r;u===t?i=v-a:f===t?i=1/3+l-v:e===t&&(i=2/3+a-l);0>i&&(i+=1);i>1&&(i-=1)}return h=[360*i,s,c],null!=n[3]&&h.push(n[3]),h}}function eet(n,t){var r=ru(n),i;if(r){for(i=0;3>i;i++)r[i]=0>t?r[i]*(1-t)|0:(255-r[i])*t+r[i]|0,r[i]>255?r[i]=255:n[i]<0&&(r[i]=0);return po(r,4===r.length?"rgba":"rgb")}}function oet(n){var t=ru(n);if(t)return(16777216+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function set(n,t,i){if(t&&t.length&&n>=0&&1>=n){i=i||[];var e=n*(t.length-1),o=Math.floor(e),s=Math.ceil(e),r=t[o],u=t[s],f=e-o;return i[0]=or(wu(r[0],u[0],f)),i[1]=or(wu(r[1],u[1],f)),i[2]=or(wu(r[2],u[2],f)),i[3]=ra(wu(r[3],u[3],f)),i}}function het(n,t,i){if(t&&t.length&&n>=0&&1>=n){var r=n*(t.length-1),o=Math.floor(r),s=Math.ceil(r),u=ru(t[o]),f=ru(t[s]),e=r-o,h=po([or(wu(u[0],f[0],e)),or(wu(u[1],f[1],e)),or(wu(u[2],f[2],e)),ra(wu(u[3],f[3],e))],"rgba");return i?{color:h,leftIndex:o,rightIndex:s,value:r}:h}}function sii(n,t,i,r){return n=ru(n),n?(n=oii(n),null!=t&&(n[0]=eii(t)),null!=i&&(n[1]=vo(i)),null!=r&&(n[2]=vo(r)),po(tk(n),"rgba")):void 0}function cet(n,t){return n=ru(n),n&&null!=t?(n[3]=ra(t),po(n,"rgba")):void 0}function po(n,t){if(n&&n.length){var i=n[0]+","+n[1]+","+n[2];return("rgba"===t||"hsva"===t||"hsla"===t)&&(i+=","+n[3]),t+"("+i+")"}}function hii(n,t){return n[t]}function cii(n,t,i){n[t]=i}function ik(n,t,i){return(t-n)*i+n}function aet(n,t,i){return i>.5?t:n}function vet(n,t,i,r,u){var o=n.length,s,f,e;if(1==u)for(f=0;o>f;f++)r[f]=ik(n[f],t[f],i);else for(s=o&&n[0].length,f=0;o>f;f++)for(e=0;s>e;e++)r[f][e]=ik(n[f][e],t[f][e],i)}function yet(n,t,i){var e=n.length,f=t.length,o,s,r,u;if(e!==f)if(o=e>f,o)n.length=f;else for(r=e;f>r;r++)n.push(1===i?t[r]:rit.call(t[r]));for(s=n[0]&&n[0].length,r=0;r<n.length;r++)if(1===i)isNaN(n[r])&&(n[r]=t[r]);else for(u=0;s>u;u++)isNaN(n[r][u])&&(n[r][u]=t[r][u])}function lii(n,t,i){var f,e,r,u;if(n===t)return!0;if(f=n.length,f!==t.length)return!1;if(1===i){for(r=0;f>r;r++)if(n[r]!==t[r])return!1}else for(e=n[0].length,r=0;f>r;r++)for(u=0;e>u;u++)if(n[r][u]!==t[r][u])return!1;return!0}function pet(n,t,i,r,u,f,e,o,s){var l=n.length,a,h,c;if(1==s)for(h=0;l>h;h++)o[h]=rk(n[h],t[h],i[h],r[h],u,f,e);else for(a=n[0].length,h=0;l>h;h++)for(c=0;a>c;c++)o[h][c]=rk(n[h][c],t[h][c],i[h][c],r[h][c],u,f,e)}function rk(n,t,i,r,u,f,e){var o=.5*(i-n),s=.5*(r-t);return(2*(t-i)+o+s)*e+(-3*(t-i)-2*o-s)*f+o*u+t}function aii(n){var r,i,t;if(nu(n)){if(r=n.length,nu(n[0])){for(i=[],t=0;r>t;t++)i.push(rit.call(n[t]));return i}return rit.call(n)}return n}function wet(n){return n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.floor(n[2]),"rgba("+n.join(",")+")"}function vii(n){var t=n[n.length-1].value;return nu(t&&t[0])?2:1}function yii(n,t,i,r,u,f){var it=n._getter,st=n._setter,at="spline"===t,s=r.length,c,ft,p,h,ct,e,g,w,b,nt,tt,et,k,lt,ot;if(s){var rt,vt=r[0].value,l=nu(vt),v=!1,d=!1,y=l?vii(r):0;r.sort(function(n,t){return n.time-t.time});rt=r[s-1].time;for(var a=[],o=[],ut=r[0].value,ht=!0,h=0;s>h;h++)a.push(r[h].time/rt),c=r[h].value,(l&&lii(c,ut,y)||!l&&c===ut||(ht=!1),ut=c,"string"==typeof c)&&(ft=ru(c),ft?(c=ft,v=!0):d=!0),o.push(c);if(f||!ht){for(p=o[s-1],h=0;s-1>h;h++)l?yet(o[h],p,y):!isNaN(o[h])||isNaN(p)||d||v||(o[h]=p);return l&&yet(it(n._target,u),p,y),tt=0,et=0,v&&(k=[0,0,0,0]),lt=function(n,t){var i,f,r;if(0>t)i=0;else if(et>t){for(ct=Math.min(tt+1,s-1),i=ct;i>=0&&!(a[i]<=t);i--);i=Math.min(i,s-2)}else{for(i=tt;s>i&&!(a[i]>t);i++);i=Math.min(i-1,s-2)}if(tt=i,et=t,f=a[i+1]-a[i],0!==f)if(e=(t-a[i])/f,at)if(w=o[i],g=o[0===i?i:i-1],b=o[i>s-2?s-1:i+1],nt=o[i>s-3?s-1:i+2],l)pet(g,w,b,nt,e,e*e,e*e*e,it(n,u),y);else{if(v)r=pet(g,w,b,nt,e,e*e,e*e*e,k,1),r=wet(k);else{if(d)return aet(w,b,e);r=rk(g,w,b,nt,e,e*e,e*e*e)}st(n,u,r)}else if(l)vet(o[i],o[i+1],e,it(n,u),y);else{if(v)vet(o[i],o[i+1],e,k,1),r=wet(k);else{if(d)return aet(o[i],o[i+1],e);r=ik(o[i],o[i+1],e)}st(n,u,r)}},ot=new kb({target:n._target,life:rt,loop:n._loop,delay:n._delay,onframe:lt,ondestroy:i}),t&&"spline"!==t&&(ot.easing=t),ot}}}function d(n,t,i,r){0>i&&(n+=i,i=-i);0>r&&(t+=r,r=-r);this.x=n;this.y=t;this.width=i;this.height=r}function pii(n){for(var t=0;n>=sbt;)t|=1&n,n>>=1;return n+t}function bet(n,t,i,r){var u=t+1;if(u===i)return 1;if(r(n[u++],n[t])<0){for(;i>u&&r(n[u],n[u-1])<0;)u++;wii(n,t,u)}else for(;i>u&&r(n[u],n[u-1])>=0;)u++;return u-t}function wii(n,t,i){for(i--;i>t;){var r=n[t];n[t++]=n[i];n[i--]=r}}function ket(n,t,i,r,u){var e;for(r===t&&r++;i>r;r++){for(var o,h=n[r],f=t,s=r;s>f;)o=f+s>>>1,u(h,n[o])<0?s=o:f=o+1;e=r-f;switch(e){case 3:n[f+3]=n[f+2];case 2:n[f+2]=n[f+1];case 1:n[f+1]=n[f];break;default:for(;e>0;)n[f+e]=n[f+e-1],e--}n[f]=h}}function uk(n,t,i,r,u,f){var o=0,s=0,e=1,c,h;if(f(n,t[i+u])>0){for(s=r-u;s>e&&f(n,t[i+u+e])>0;)o=e,e=(e<<1)+1,0>=e&&(e=s);e>s&&(e=s);o+=u;e+=u}else{for(s=u+1;s>e&&f(n,t[i+u-e])<=0;)o=e,e=(e<<1)+1,0>=e&&(e=s);e>s&&(e=s);c=o;o=u-e;e=u-c}for(o++;e>o;)h=o+(e-o>>>1),f(n,t[i+h])>0?o=h+1:e=h;return e}function fk(n,t,i,r,u,f){var o=0,s=0,e=1,c,h;if(f(n,t[i+u])<0){for(s=u+1;s>e&&f(n,t[i+u-e])<0;)o=e,e=(e<<1)+1,0>=e&&(e=s);e>s&&(e=s);c=o;o=u-e;e=u-c}else{for(s=r-u;s>e&&f(n,t[i+u+e])>=0;)o=e,e=(e<<1)+1,0>=e&&(e=s);e>s&&(e=s);o+=u;e+=u}for(o++;e>o;)h=o+(e-o>>>1),f(n,t[i+h])<0?e=h:o=h+1;return e}function bii(n,t){function s(n,t){e[u]=n;r[u]=t;u+=1}function h(){for(;u>1;){var n=u-2;if(n>=1&&r[n-1]<=r[n]+r[n+1]||n>=2&&r[n-2]<=r[n]+r[n-1])r[n-1]<r[n+1]&&n--;else if(r[n]>r[n+1])break;o(n)}}function c(){for(;u>1;){var n=u-2;n>0&&r[n-1]<r[n+1]&&n--;o(n)}}function o(i){var s=e[i],f=r[i],h=e[i+1],o=r[i+1],c;r[i]=f+o;i===u-3&&(e[i+1]=e[i+2],r[i+1]=r[i+2]);u--;c=fk(n[h],n,s,f,0,t);s+=c;f-=c;0!==f&&(o=uk(n[s+f-1],n,h,o,o-1,t),0!==o&&(o>=f?l(s,f,h,o):a(s,f,h,o)))}function l(r,u,e,o){for(var s=0,l,a,y,p,s=0;u>s;s++)i[s]=n[r+s];var c=0,v=e,h=r;if(n[h++]=n[v++],0!=--o){if(1===u){for(s=0;o>s;s++)n[h+s]=n[v+s];return void(n[h+o]=i[c])}for(p=f;;){l=0;a=0;y=!1;do if(t(n[v],i[c])<0){if(n[h++]=n[v++],a++,l=0,0==--o){y=!0;break}}else if(n[h++]=i[c++],l++,a=0,1==--u){y=!0;break}while(p>(l|a));if(y)break;do{if(l=fk(n[v],i,c,u,0,t),0!==l){for(s=0;l>s;s++)n[h+s]=i[c+s];if(h+=l,c+=l,u-=l,1>=u){y=!0;break}}if(n[h++]=n[v++],0==--o){y=!0;break}if(a=uk(i[c],n,v,o,0,t),0!==a){for(s=0;a>s;s++)n[h+s]=n[v+s];if(h+=a,v+=a,o-=a,0===o){y=!0;break}}if(n[h++]=i[c++],1==--u){y=!0;break}p--}while(l>=nl||a>=nl);if(y)break;0>p&&(p=0);p+=2}if(f=p,1>f&&(f=1),1===u){for(s=0;o>s;s++)n[h+s]=n[v+s];n[h+o]=i[c]}else{if(0===u)throw new Error;for(s=0;u>s;s++)n[h+s]=i[c+s]}}else for(s=0;u>s;s++)n[h+s]=i[c+s]}function a(r,u,e,o){for(var s=0,b,s=0;o>s;s++)i[s]=n[e+s];var l=r+u-1,y=o-1,h=e+o-1,c=0,p=0;if(n[h--]=n[l--],0!=--u){if(1===o){for(h-=u,l-=u,p=h+1,c=l+1,s=u-1;s>=0;s--)n[p+s]=n[c+s];return void(n[h]=i[y])}for(b=f;;){var a=0,v=0,w=!1;do if(t(i[y],n[l])<0){if(n[h--]=n[l--],a++,v=0,0==--u){w=!0;break}}else if(n[h--]=i[y--],v++,a=0,1==--o){w=!0;break}while(b>(a|v));if(w)break;do{if(a=u-fk(i[y],n,r,u,u-1,t),0!==a){for(h-=a,l-=a,u-=a,p=h+1,c=l+1,s=a-1;s>=0;s--)n[p+s]=n[c+s];if(0===u){w=!0;break}}if(n[h--]=i[y--],1==--o){w=!0;break}if(v=o-uk(n[l],i,0,o,o-1,t),0!==v){for(h-=v,y-=v,o-=v,p=h+1,c=y+1,s=0;v>s;s++)n[p+s]=i[c+s];if(1>=o){w=!0;break}}if(n[h--]=n[l--],0==--u){w=!0;break}b--}while(a>=nl||v>=nl);if(w)break;0>b&&(b=0);b+=2}if(f=b,1>f&&(f=1),1===o){for(h-=u,l-=u,p=h+1,c=l+1,s=u-1;s>=0;s--)n[p+s]=n[c+s];n[h]=i[y]}else{if(0===o)throw new Error;for(c=h-(o-1),s=0;o>s;s++)n[c+s]=i[s]}}else for(c=h-(o-1),s=0;o>s;s++)n[c+s]=i[s]}var e,r,f=nl,u=0,i=[];e=[];r=[];this.mergeRuns=h;this.forceMergeRuns=c;this.pushRun=s}function ua(n,t,i,r){var f,u,o,s,e;if(i||(i=0),r||(r=n.length),f=r-i,!(2>f)){if(u=0,sbt>f)return u=bet(n,i,r,t),void ket(n,i,r,i+u,t);o=new bii(n,t);s=pii(f);do(u=bet(n,i,r,t),s>u)&&(e=f,e>s&&(e=s),ket(n,i,i+e,i+u,t),u=e),o.pushRun(i,u),o.mergeRuns(),f-=u,i+=u;while(0!==f);o.forceMergeRuns()}}function det(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}function kii(n,t,i){var r=null==t.x?0:t.x,u=null==t.x2?1:t.x2,f=null==t.y?0:t.y,e=null==t.y2?0:t.y2;return t.global||(r=r*i.width+i.x,u=u*i.width+i.x,f=f*i.height+i.y,e=e*i.height+i.y),r=isNaN(r)?0:r,u=isNaN(u)?1:u,f=isNaN(f)?0:f,e=isNaN(e)?0:e,n.createLinearGradient(r,f,u,e)}function dii(n,t,i){var f=i.width,e=i.height,s=Math.min(f,e),r=null==t.x?.5:t.x,u=null==t.y?.5:t.y,o=null==t.r?.5:t.r;return t.global||(r=r*f+i.x,u=u*e+i.y,o*=s),n.createRadialGradient(r,u,0,r,u,o)}function gii(){return!1}function get(n,t,i){var u=bv(),f=t.getWidth(),e=t.getHeight(),r=u.style;return r&&(r.position="absolute",r.left=0,r.top=0,r.width=f+"px",r.height=e+"px",u.setAttribute("data-zr-dom-id",n)),u.width=f*i,u.height=e*i,u}function nri(n){if("string"==typeof n){var t=hit.get(n);return t&&t.image}return n}function not(n,t,i,r,u){if(n){if("string"==typeof n){if(t&&t.__zrImageSrc===n||!i)return t;var f=hit.get(n),e={hostEl:i,cb:r,cbPayload:u};return f?(t=f.image,!fa(t)&&f.pending.push(e)):(!t&&(t=new Image),t.onload=tri,hit.put(n,t.__cachedImgObj={image:t,pending:[e]}),t.src=t.__zrImageSrc=n),t}return n}return t}function tri(){var i=this.__cachedImgObj,n,t,r;for(this.onload=this.__cachedImgObj=null,n=0;n<i.pending.length;n++)t=i.pending[n],r=t.cb,r&&r(this,t.cbPayload),t.hostEl.dirty();i.pending.length=0}function fa(n){return n&&n.width&&n.height}function sr(n,t){var i;if(t=t||cy,i=n+":"+t,hy[i])return hy[i];for(var f=(n+"").split("\n"),r=0,u=0,e=f.length;e>u;u++)r=Math.max(eri(f[u],t).width,r);return cit>fwi&&(cit=0,hy={}),cit++,hy[i]=r,r}function ie(n,t,i,r,u,f,e){return f?rri(n,t,i,r,u,f,e):iri(n,t,i,r,u,e)}function iri(n,t,i,r,u,f){var o=fot(n,t,u,f),e=sr(n,t);u&&(e+=u[1]+u[3]);var s=o.outerHeight,c=ea(0,e,i),l=oa(0,s,r),h=new d(c,l,e,s);return h.lineHeight=o.lineHeight,h}function rri(n,t,i,r,u,f,e){var o=eot(n,{rich:f,truncate:e,font:t,textAlign:i,textPadding:u}),s=o.outerWidth,h=o.outerHeight,c=ea(0,s,i),l=oa(0,h,r);return new d(c,l,s,h)}function ea(n,t,i){return"right"===i?n-=t:"center"===i&&(n-=t/2),n}function oa(n,t,i){return"middle"===i?n-=t/2:"bottom"===i&&(n-=t),n}function uri(n,t,i){var r=t.x,u=t.y,s=t.height,o=t.width,h=s/2,f="left",e="top";switch(n){case"left":r-=i;u+=h;f="right";e="middle";break;case"right":r+=i+o;u+=h;e="middle";break;case"top":r+=o/2;u-=i;f="center";e="bottom";break;case"bottom":r+=o/2;u+=s+i;f="center";break;case"inside":r+=o/2;u+=h;f="center";e="middle";break;case"insideLeft":r+=i;u+=h;e="middle";break;case"insideRight":r+=o-i;u+=h;f="right";e="middle";break;case"insideTop":r+=o/2;u+=i;f="center";break;case"insideBottom":r+=o/2;u+=s-i;f="center";e="bottom";break;case"insideTopLeft":r+=i;u+=i;break;case"insideTopRight":r+=o-i;u+=i;f="right";break;case"insideBottomLeft":r+=i;u+=s-i;e="bottom";break;case"insideBottomRight":r+=o-i;u+=s-i;f="right";e="bottom"}return{x:r,y:u,textAlign:f,textVerticalAlign:e}}function tot(n,t,i,r,u){var f,e,o;if(!t)return"";for(f=(n+"").split("\n"),u=iot(t,i,r,u),e=0,o=f.length;o>e;e++)f[e]=rot(f[e],u);return f.join("\n")}function iot(n,t,i,r){var i,s,e,u,o,f;for(r=c({},r),r.font=t,i=gt(i,"..."),r.maxIterations=gt(r.maxIterations,2),s=r.minChar=gt(r.minChar,0),r.cnCharWidth=sr("国",t),e=r.ascCharWidth=sr("a",t),r.placeholder=gt(r.placeholder,""),u=n=Math.max(0,n-1),o=0;s>o&&u>=e;o++)u-=e;return f=sr(i),f>u&&(i="",f=0),u=n-f,r.ellipsis=i,r.ellipsisWidth=f,r.contentWidth=u,r.containerWidth=n,r}function rot(n,t){var f=t.containerWidth,e=t.font,u=t.contentWidth,i,r,o;if(!f)return"";if(i=sr(n,e),f>=i)return n;for(r=0;;r++){if(u>=i||r>=t.maxIterations){n+=t.ellipsis;break}o=0===r?fri(n,u,t.ascCharWidth,t.cnCharWidth):i>0?Math.floor(n.length*u/i):0;n=n.substr(0,o);i=sr(n,e)}return""===n&&(n=t.placeholder),n}function fri(n,t,i,r){for(var f,e=0,u=0,o=n.length;o>u&&t>e;u++)f=n.charCodeAt(u),e+=f>=0&&127>=f?i:r;return u}function uot(n){return sr("国",n)}function eri(n,t){return cbt.measureText(n,t)}function fot(n,t,i,r){var o,s;null!=n&&(n+="");var h=uot(t),u=n?n.split("\n"):[],c=u.length*h,e=c;if(i&&(e+=i[0]+i[2]),n&&r)if(o=r.outerHeight,s=r.outerWidth,null!=o&&e>o)n="",u=[];else if(null!=s)for(var l=iot(s-(i?i[1]+i[3]:0),t,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),f=0,a=u.length;a>f;f++)u[f]=rot(u[f],l);return{lines:u,height:c,outerHeight:e,lineHeight:h}}function eot(n,t){var u={lines:[],width:0,height:0},y,h,it,r,et,ot,s,a,v,o,i,ht;if(null!=n&&(n+=""),!n)return u;for(h=lit.lastIndex=0;null!=(y=lit.exec(n));)it=y.index,it>h&&ek(u,n.substring(h,it)),ek(u,y[2],y[1]),h=lit.lastIndex;h<n.length&&ek(u,n.substring(h,n.length));var st=u.lines,rt=0,p=0,ut=[],e=t.textPadding,c=t.truncate,w=c&&c.outerWidth,b=c&&c.outerHeight;for(e&&(null!=w&&(w-=e[1]+e[3]),null!=b&&(b-=e[0]+e[2])),o=0;o<st.length;o++){for(var k=st[o],d=0,g=0,ft=0;ft<k.tokens.length;ft++){var i=k.tokens[ft],f=i.styleName&&t.rich[i.styleName]||{},l=i.textPadding=f.textPadding,nt=i.font=f.font||t.font,tt=i.textHeight=gt(f.textHeight,uot(nt));if(l&&(tt+=l[0]+l[2]),i.height=tt,i.lineHeight=oo(f.textLineHeight,t.textLineHeight,tt),i.textAlign=f&&f.textAlign||t.textAlign,i.textVerticalAlign=f&&f.textVerticalAlign||"middle",null!=b&&rt+i.lineHeight>b)return{lines:[],width:0,height:0};i.textWidth=sr(i.text,nt);r=f.textWidth;et=null==r||"auto"===r;"string"==typeof r&&"%"===r.charAt(r.length-1)?(i.percentWidth=r,ut.push(i),r=0):(et&&(r=i.textWidth,ot=f.textBackgroundColor,s=ot&&ot.image,s&&(s=nri(s),fa(s)&&(r=Math.max(r,s.width*tt/s.height)))),a=l?l[1]+l[3]:0,r+=a,v=null!=w?w-g:null,null!=v&&r>v&&(!et||a>v?(i.text="",i.textWidth=r=0):(i.text=tot(i.text,v-a,nt,c.ellipsis,{minChar:c.minChar}),i.textWidth=sr(i.text,nt),r=i.textWidth+a)));g+=i.width=r;f&&(d=Math.max(d,i.lineHeight))}k.width=g;k.lineHeight=d;rt+=d;p=Math.max(p,g)}for(u.outerWidth=u.width=gt(t.textWidth,p),u.outerHeight=u.height=gt(t.textHeight,rt),e&&(u.outerWidth+=e[1]+e[3],u.outerHeight+=e[0]+e[2]),o=0;o<ut.length;o++)i=ut[o],ht=i.percentWidth,i.width=parseInt(ht,10)/100*p;return u}function ek(n,t,i){for(var e,o,r,s,h=""===t,c=t.split("\n"),u=n.lines,f=0;f<c.length;f++)e=c[f],o={styleName:i,text:e,isLineHolder:!e&&!h},f?u.push({tokens:[o]}):(r=(u[u.length-1]||(u[0]={tokens:[]})).tokens,s=r.length,1===s&&r[0].isLineHolder?r[0]=o:(e||!s||h)&&r.push(o))}function oot(n){var t=(n.fontSize||n.fontFamily)&&[n.fontStyle,n.fontWeight,(n.fontSize||12)+"px",n.fontFamily||"sans-serif"].join(" ");return t&&hb(t)||n.textFont||n.font}function sot(n,t){var i,r,u,f,c=t.x,l=t.y,o=t.width,s=t.height,e=t.r,h;0>o&&(c+=o,o=-o);0>s&&(l+=s,s=-s);"number"==typeof e?i=r=u=f=e:e instanceof Array?1===e.length?i=r=u=f=e[0]:2===e.length?(i=u=e[0],r=f=e[1]):3===e.length?(i=e[0],r=f=e[1],u=e[2]):(i=e[0],r=e[1],u=e[2],f=e[3]):i=r=u=f=0;i+r>o&&(h=i+r,i*=o/h,r*=o/h);u+f>o&&(h=u+f,u*=o/h,f*=o/h);r+u>s&&(h=r+u,r*=s/h,u*=s/h);i+f>s&&(h=i+f,i*=s/h,f*=s/h);n.moveTo(c+i,l);n.lineTo(c+o-r,l);0!==r&&n.arc(c+o-r,l+r,r,-Math.PI/2,0);n.lineTo(c+o,l+s-u);0!==u&&n.arc(c+o-u,l+s-u,u,0,Math.PI/2);n.lineTo(c+f,l+s);0!==f&&n.arc(c+f,l+s-f,f,Math.PI/2,Math.PI);n.lineTo(c,l+i);0!==i&&n.arc(c+i,l+i,i,Math.PI,1.5*Math.PI)}function ok(n){return hot(n),t(n.rich,hot),n}function hot(n){var t,i,r;n&&(n.font=oot(n),t=n.textAlign,"middle"===t&&(t="center"),n.textAlign=null==t||ewi[t]?t:"left",i=n.textVerticalAlign||n.textBaseline,"center"===i&&(i="middle"),n.textVerticalAlign=null==i||owi[i]?i:"top",r=n.textPadding,r&&(n.textPadding=sb(n.textPadding)))}function cot(n,t,i,r,u){r.rich?sri(n,t,i,r,u):ori(n,t,i,r,u)}function ori(n,t,i,r,u){var d=w(t,"font",r.font||cy),f=r.textPadding,e=n.__textCotentBlock,rt,l,ut,s;(!e||n.__dirty)&&(e=n.__textCotentBlock=fot(i,d,f,r.truncate));var a=e.outerHeight,v=e.lines,g=e.lineHeight,h=aot(a,r,u),c=h.baseX,nt=h.baseY,y=h.textAlign,et=h.textVerticalAlign;lot(t,r,u,c,nt);var tt=oa(nt,a,et),p=c,o=tt,it=hk(r);(it||f)&&(rt=sr(i,d),l=rt,f&&(l+=f[1]+f[3]),ut=ea(c,l,y),it&&ck(n,t,r,ut,tt,l,a),f&&(p=pot(c,y,f),o+=f[0]));w(t,"textAlign",y||"left");w(t,"textBaseline","middle");w(t,"shadowBlur",r.textShadowBlur||0);w(t,"shadowColor",r.textShadowColor||"transparent");w(t,"shadowOffsetX",r.textShadowOffsetX||0);w(t,"shadowOffsetY",r.textShadowOffsetY||0);o+=g/2;var ft=r.textStrokeWidth,b=lk(r.textStroke,ft),k=vot(r.textFill);for(b&&(w(t,"lineWidth",ft),w(t,"strokeStyle",b)),k&&w(t,"fillStyle",k),s=0;s<v.length;s++)b&&t.strokeText(v[s],p,o),k&&t.fillText(v[s],p,o),o+=g}function sri(n,t,i,r,u){var f=n.__textCotentBlock;(!f||n.__dirty)&&(f=n.__textCotentBlock=eot(i,r));hri(n,t,f,r,u)}function hri(n,t,i,r,u){var nt=i.width,tt=i.outerWidth,p=i.outerHeight,w=r.textPadding,h=aot(p,r,u),it=h.baseX,rt=h.baseY,ot=h.textAlign,st=h.textVerticalAlign,b,l;lot(t,r,u,it,rt);var ut=ea(it,tt,ot),ft=oa(rt,p,st),c=ut,s=ft;for(w&&(c+=w[3],s+=w[0]),b=c+nt,hk(r)&&ck(n,t,r,ut,ft,tt,p),l=0;l<i.lines.length;l++){for(var f,k=i.lines[l],a=k.tokens,et=a.length,v=k.lineHeight,d=k.width,e=0,o=c,g=b,y=et-1;et>e&&(f=a[e],!f.textAlign||"left"===f.textAlign);)sk(n,t,f,r,v,s,o,"left"),d-=f.width,o+=f.width,e++;for(;y>=0&&(f=a[y],"right"===f.textAlign);)sk(n,t,f,r,v,s,g,"right"),d-=f.width,g-=f.width,y--;for(o+=(nt-(o-c)-(b-g)-d)/2;y>=e;)f=a[e],sk(n,t,f,r,v,s,o+f.width/2,"center"),o+=f.width,e++;s+=v}}function lot(n,t,i,r,u){if(i&&t.textRotation){var f=t.textOrigin;"center"===f?(r=i.width/2+i.x,u=i.height/2+i.y):f&&(r=f[0]+i.x,u=f[1]+i.y);n.translate(r,u);n.rotate(-t.textRotation);n.translate(-r,-u)}}function sk(n,t,i,r,u,f,e,o){var s=r.rich[i.styleName]||{},l=i.textVerticalAlign,h=f+u/2,c;"top"===l?h=f+i.height/2:"bottom"===l&&(h=f+u-i.height/2);!i.isLineHolder&&hk(s)&&ck(n,t,s,"right"===o?e-i.width:"center"===o?e-i.width/2:e,h-i.height/2,i.width,i.height);c=i.textPadding;c&&(e=pot(e,o,c),h-=i.height/2-c[2]-i.textHeight/2);w(t,"shadowBlur",oo(s.textShadowBlur,r.textShadowBlur,0));w(t,"shadowColor",s.textShadowColor||r.textShadowColor||"transparent");w(t,"shadowOffsetX",oo(s.textShadowOffsetX,r.textShadowOffsetX,0));w(t,"shadowOffsetY",oo(s.textShadowOffsetY,r.textShadowOffsetY,0));w(t,"textAlign",o);w(t,"textBaseline","middle");w(t,"font",i.font||cy);var a=lk(s.textStroke||r.textStroke,y),v=vot(s.textFill||r.textFill),y=gt(s.textStrokeWidth,r.textStrokeWidth);a&&(w(t,"lineWidth",y),w(t,"strokeStyle",a),t.strokeText(i.text,e,h));v&&(w(t,"fillStyle",v),t.fillText(i.text,e,h))}function hk(n){return n.textBackgroundColor||n.textBorderWidth&&n.textBorderColor}function ck(n,t,i,r,u,e,o){var h=i.textBackgroundColor,c=i.textBorderWidth,l=i.textBorderColor,v=dt(h),a,s;(w(t,"shadowBlur",i.textBoxShadowBlur||0),w(t,"shadowColor",i.textBoxShadowColor||"transparent"),w(t,"shadowOffsetX",i.textBoxShadowOffsetX||0),w(t,"shadowOffsetY",i.textBoxShadowOffsetY||0),v||c&&l)&&(t.beginPath(),a=i.textBorderRadius,a?sot(t,{x:r,y:u,width:e,height:o,r:a}):t.rect(r,u,e,o),t.closePath());v?(w(t,"fillStyle",h),t.fill()):f(h)&&(s=h.image,s=not(s,null,n,cri,h),s&&fa(s)&&t.drawImage(s,r,u,e,o));c&&l&&(w(t,"lineWidth",c),w(t,"strokeStyle",l),t.stroke())}function cri(n,t){t.image=n}function aot(n,t,i){var f=t.x||0,e=t.y||0,s=t.textAlign,h=t.textVerticalAlign,r,u,o;return i&&(r=t.textPosition,r instanceof Array?(f=i.x+yot(r[0],i.width),e=i.y+yot(r[1],i.height)):(u=uri(r,i,t.textDistance),f=u.x,e=u.y,s=s||u.textAlign,h=h||u.textVerticalAlign),o=t.textOffset,o&&(f+=o[0],e+=o[1])),{baseX:f,baseY:e,textAlign:s,textVerticalAlign:h}}function w(n,t,i){return n[t]=hbt(n,t,i),n[t]}function lk(n,t){return null==n||0>=t||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function vot(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function yot(n,t){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function pot(n,t,i){return"right"===t?n-i[1]:"center"===t?n+i[3]/2-i[1]/2:n+i[3]}function wot(n,t){return null!=n&&(n||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}function ei(n){n=n||{};cr.call(this,n);for(var t in n)n.hasOwnProperty(t)&&"style"!==t&&(this[t]=n[t]);this.style=new ve(n.style,this);this._rect=null;this.__clipPaths=[]}function bu(n){ei.call(this,n)}function sa(n){return parseInt(n,10)}function lri(n){return n?n.__builtin__?!0:"function"!=typeof n.resize||"function"!=typeof n.refresh?!1:!0:!1}function ari(n,t,i){return yit.copy(n.getBoundingRect()),n.transform&&yit.applyTransform(n.transform),pit.width=t,pit.height=i,!yit.intersect(pit)}function vri(n,t){if(n==t)return!1;if(!n||!t||n.length!==t.length)return!0;for(var i=0;i<n.length;i++)if(n[i]!==t[i])return!0}function yri(n,t){for(var i,r=0;r<n.length;r++)i=n[r],i.setTransform(t),t.beginPath(),i.buildPath(t,i.shape),t.clip(),i.restoreTransform(t)}function pri(n,t){var i=document.createElement("div");return i.style.cssText=["position:relative","overflow:hidden","width:"+n+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}function wri(n){return n.getBoundingClientRect?n.getBoundingClientRect():{left:0,top:0}}function ak(n,t,i,r){return i=i||{},r||!e.canvasSupported?bot(n,t,i):e.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(i.zrX=t.layerX,i.zrY=t.layerY):null!=t.offsetX?(i.zrX=t.offsetX,i.zrY=t.offsetY):bot(n,t,i),i}function bot(n,t,i){var r=wri(n);i.zrX=t.clientX-r.left;i.zrY=t.clientY-r.top}function re(n,t,i){var u,e,f,r;return(t=t||window.event,null!=t.zrX)?t:(u=t.type,e=u&&u.indexOf("touch")>=0,e?(f="touchend"!=u?t.targetTouches[0]:t.changedTouches[0],f&&ak(n,f,t,i)):(ak(n,t,t,i),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),r=t.button,null==t.which&&void 0!==r&&hwi.test(t.type)&&(t.which=1&r?1:2&r?3:4&r?2:0),t)}function ha(n,t,i){bit?n.addEventListener(t,i):n.attachEvent("on"+t,i)}function bri(n,t,i){bit?n.removeEventListener(t,i):n.detachEvent("on"+t,i)}function kot(n){var t=n[1][0]-n[0][0],i=n[1][1]-n[0][1];return Math.sqrt(t*t+i*i)}function kri(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}function dot(n){return"mousewheel"===n&&e.browser.firefox?"DOMMouseScroll":n}function vk(n,t,i){var u=n._gestureMgr,r,f;"start"===i&&u.clear();r=u.recognize(t,n.handler.findHover(t.zrX,t.zrY,null).target,n.dom);("end"===i&&u.clear(),r)&&(f=r.type,t.gestureEvent=f,n.handler.dispatchToElement({target:r.target},f,r.event))}function yk(n){n._touching=!0;clearTimeout(n._touchTimer);n._touchTimer=setTimeout(function(){n._touching=!1},700)}function got(n){var t=n.pointerType;return"pen"===t||"touch"===t}function dri(n){function i(n,t){return function(){if(!t._touching)return n.apply(t,arguments)}}t(dit,function(t){n._handlers[t]=ut(si[t],n)});t(ybt,function(t){n._handlers[t]=ut(si[t],n)});t(vy,function(t){n._handlers[t]=i(si[t],n)})}function pk(n){function i(i,r){t(i,function(t){ha(n,dot(t),r._handlers[t])},r)}st.call(this);this.dom=n;this._touching=!1;this._touchTimer;this._gestureMgr=new ay;this._handlers={};dri(this);e.pointerEventsSupported?i(ybt,this):(e.touchEventsSupported&&i(dit,this),i(vy,this))}function wk(n,t){var i=new nrt(kwt(),n,t);return pe[i.id]=i,i}function gri(n){if(n)n.dispose();else{for(var t in pe)pe.hasOwnProperty(t)&&pe[t].dispose();pe={}}return this}function nui(n){return pe[n]}function tui(n,t){yy[n]=t}function iui(n){delete pe[n]}function oi(n){return n instanceof Array?n:null==n?[]:[n]}function ca(n,t,i){var u,f,r;if(n)for(n[t]=n[t]||{},n.emphasis=n.emphasis||{},n.emphasis[t]=n.emphasis[t]||{},u=0,f=i.length;f>u;u++)r=i[u],!n.emphasis[t].hasOwnProperty(r)&&n[t].hasOwnProperty(r)&&(n.emphasis[t][r]=n[t][r])}function la(n){return!ss(n)||ywi(n)||n instanceof Date?n:n.value}function rui(n){return ss(n)&&!(n instanceof Array)}function nst(n,t){t=(t||[]).slice();var r=i(n||[],function(n){return{exist:n}});return os(t,function(n,i){var u,f;if(ss(n)){for(u=0;u<r.length;u++)if(!r[u].option&&null!=n.id&&r[u].exist.id===n.id+"")return r[u].option=n,void(t[i]=null);for(u=0;u<r.length;u++)if(f=r[u].exist,!(r[u].option||null!=f.id&&null!=n.id||null==n.name||aa(n)||aa(f)||f.name!==n.name+""))return r[u].option=n,void(t[i]=null)}}),os(t,function(n){var t,i;if(ss(n)){for(t=0;t<r.length;t++)if(i=r[t].exist,!r[t].option&&!aa(i)&&null==n.id){r[t].option=n;break}t>=r.length&&r.push({option:n})}}),r}function uui(n){var t=a();os(n,function(n){var i=n.exist;i&&t.set(i.id,n)});os(n,function(n){var i=n.option;so(!i||null==i.id||!t.get(i.id)||t.get(i.id)===n,"id duplicates: "+(i&&i.id));i&&null!=i.id&&t.set(i.id,n);!n.keyInfo&&(n.keyInfo={})});os(n,function(n,i){var f=n.exist,u=n.option,r=n.keyInfo,e;if(ss(u)){if(r.name=null!=u.name?u.name+"":f?f.name:pbt+i,f)r.id=f.id;else if(null!=u.id)r.id=u.id+"";else{e=0;do r.id="\x00"+r.name+"\x00"+e++;while(t.get(r.id))}t.set(r.id,n)}})}function bk(n){var t=n.name;return!(!t||!t.indexOf(pbt))}function aa(n){return ss(n)&&n.id&&0===(n.id+"").indexOf("\x00_ec_\x00")}function va(n,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?u(t.dataIndex)?i(t.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(t.dataIndex):null!=t.name?u(t.name)?i(t.name,function(t){return n.indexOfName(t)}):n.indexOfName(t.name):void 0}function tr(){var n="__\x00ec_inner_"+pwi+++"_"+Math.random().toFixed(5);return function(t){return t[n]||(t[n]={})}}function ya(n,t,i){var f,r,u;return dt(t)&&(f={},f[t+"Index"]=0,t=f),r=i&&i.defaultMainType,!r||kk(t,r+"Index")||kk(t,r+"Id")||kk(t,r+"Name")||(t[r+"Index"]=0),u={},os(t,function(r,f){var r=t[f],s,h;if("dataIndex"===f||"dataIndexInside"===f)return void(u[f]=r);var c=f.match(/^(\w+)(Index|Id|Name)$/)||[],e=c[1],o=(c[2]||"").toLowerCase();!e||!o||null==r||"index"===o&&"none"===r||i&&i.includeMainTypes&&y(i.includeMainTypes,e)<0||(s={mainType:e},("index"!==o||"all"!==r)&&(s[o]=r),h=n.queryComponents(s),u[e+"Models"]=h,u[e+"Model"]=h[0])}),u}function kk(n,t){return n&&n.hasOwnProperty(t)}function tst(n,t,i){n.setAttribute?n.setAttribute(t,i):n[t]=i}function fui(n,t){return n.getAttribute?n.getAttribute(t):n[t]}function ku(n){var t={main:"",sub:""};return n&&(n=n.split(wwi),t.main=n[0]||"",t.sub=n[1]||""),t}function eui(n){so(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function ah(n){n.$constructor=n;n.extend=function(n){var i=this,t=function(){n.$constructor?n.$constructor.apply(this,arguments):i.apply(this,arguments)};return c(t.prototype,n),t.extend=this.extend,t.superCall=oui,t.superApply=sui,vt(t,this),t.superClass=i,t}}function ist(n){var t=["__\x00is_clz",bwi++,Math.random().toFixed(3)].join("_");n.prototype[t]=!0;n.isInstance=function(n){return!(!n||!n[t])}}function oui(n,t){var i=ob(arguments,2);return this.superClass.prototype[t].apply(n,i)}function sui(n,t,i){return this.superClass.prototype[t].apply(n,i)}function pa(n,i){function f(n){var t=r[n.main];return t&&t[we]||(t=r[n.main]={},t[we]=!0),t}var r,u;return i=i||{},r={},(n.registerClass=function(n,t){if(t)if(eui(t),t=ku(t),t.sub){if(t.sub!==we){var i=f(t);i[t.sub]=n}}else r[t.main]=n;return n},n.getClass=function(n,t,i){var u=r[n];if(u&&u[we]&&(u=t?u[t]:null),i&&!u)throw new Error(t?"Component "+n+"."+(t||"")+" not exists. Load it first.":n+".type should be specified.");return u},n.getClassesByMainType=function(n){n=ku(n);var u=[],i=r[n.main];return i&&i[we]?t(i,function(n,t){t!==we&&u.push(n)}):u.push(i),u},n.hasClass=function(n){return n=ku(n),!!r[n.main]},n.getAllClassMainTypes=function(){var n=[];return t(r,function(t,i){n.push(i)}),n},n.hasSubTypes=function(n){n=ku(n);var t=r[n.main];return t&&t[we]},n.parseClassType=ku,i.registerWhenExtend)&&(u=n.extend,u&&(n.extend=function(t){var i=u.call(this,t);return n.registerClass(i,t.type)})),n}function du(n){return n>-by&&by>n}function rst(n){return n>by||-by>n}function bt(n,t,i,r,u){var f=1-u;return f*f*(f*n+3*u*t)+u*u*(u*r+3*f*i)}function ust(n,t,i,r,u){var f=1-u;return 3*(((t-n)*f+2*(i-t)*u)*f+(r-i)*u*u)}function hui(n,t,i,r,u,f){var s=r+3*(t-i)-n,e=3*(i-2*t+n),v=3*(t-n),nt=n-u,h=e*e-3*s*v,l=e*v-9*s*nt,rt=v*v-3*e*nt,c=0,w,o;if(du(h)&&du(l))du(e)?f[0]=0:(o=-v/e,o>=0&&1>=o&&(f[c++]=o));else if(w=l*l-4*h*rt,du(w)){var tt=l/h,o=-e/s+tt,a=-tt/2;o>=0&&1>=o&&(f[c++]=o);a>=0&&1>=a&&(f[c++]=a)}else if(w>0){var it=of(w),y=h*e+1.5*s*(-l+it),p=h*e+1.5*s*(-l-it);y=0>y?-wy(-y,ky):wy(y,ky);p=0>p?-wy(-p,ky):wy(p,ky);o=(-e-(y+p))/(3*s);o>=0&&1>=o&&(f[c++]=o)}else{var ut=(2*h*e-3*s*l)/(2*of(h*h*h)),b=Math.acos(ut)/3,k=of(h),d=Math.cos(b),o=(-e-2*k*d)/(3*s),a=(-e+k*(d+kbt*Math.sin(b)))/(3*s),g=(-e+k*(d-kbt*Math.sin(b)))/(3*s);o>=0&&1>=o&&(f[c++]=o);a>=0&&1>=a&&(f[c++]=a);g>=0&&1>=g&&(f[c++]=g)}return c}function fst(n,t,i,r,u){var f=6*i-12*t+6*n,o=9*t+3*r-3*n-9*i,l=3*t-3*n,s=0,e,h;if(du(o))rst(f)&&(e=-l/f,e>=0&&1>=e&&(u[s++]=e));else if(h=f*f-4*o*l,du(h))u[0]=-f/(2*o);else if(h>0){var a=of(h),e=(-f+a)/(2*o),c=(-f-a)/(2*o);e>=0&&1>=e&&(u[s++]=e);c>=0&&1>=c&&(u[s++]=c)}return s}function est(n,t,i,r,u,f){var e=(t-n)*u+n,o=(i-t)*u+t,h=(r-i)*u+i,s=(o-e)*u+e,c=(h-o)*u+o,l=(c-s)*u+s;f[0]=n;f[1]=e;f[2]=s;f[3]=l;f[4]=l;f[5]=c;f[6]=h;f[7]=r}function cui(n,t,i,r,u,f,e,o,s,h,c){var a,p,w,v,k,b=.005,l=1/0,y,d;for(lr[0]=s,lr[1]=h,y=0;1>y;y+=.05)vi[0]=bt(n,i,u,e,y),vi[1]=bt(t,r,f,o,y),v=le(lr,vi),l>v&&(a=y,l=v);for(l=1/0,d=0;32>d&&!(bbt>b);d++)p=a-b,w=a+b,vi[0]=bt(n,i,u,e,p),vi[1]=bt(t,r,f,o,p),v=le(vi,lr),p>=0&&l>v?(a=p,l=v):(hs[0]=bt(n,i,u,e,w),hs[1]=bt(t,r,f,o,w),k=le(hs,lr),1>=w&&l>k?(a=w,l=k):b*=.5);return c&&(c[0]=bt(n,i,u,e,a),c[1]=bt(t,r,f,o,a)),of(l)}function ti(n,t,i,r){var u=1-r;return u*(u*n+2*r*t)+r*r*i}function ost(n,t,i,r){return 2*((1-r)*(t-n)+r*(i-t))}function lui(n,t,i,r,u){var o=n-2*t+i,e=2*(t-n),l=n-r,s=0,h,f;if(du(o))rst(e)&&(f=-l/e,f>=0&&1>=f&&(u[s++]=f));else if(h=e*e-4*o*l,du(h))f=-e/(2*o),f>=0&&1>=f&&(u[s++]=f);else if(h>0){var a=of(h),f=(-e+a)/(2*o),c=(-e-a)/(2*o);f>=0&&1>=f&&(u[s++]=f);c>=0&&1>=c&&(u[s++]=c)}return s}function sst(n,t,i){var r=n+i-2*t;return 0===r?.5:(n-t)/r}function hst(n,t,i,r,u){var f=(t-n)*r+n,e=(i-t)*r+t,o=(e-f)*r+f;u[0]=n;u[1]=f;u[2]=o;u[3]=o;u[4]=e;u[5]=i}function aui(n,t,i,r,u,f,e,o,s){var c,p=.005,h=1/0,l,w,v,y,a,b;for(lr[0]=e,lr[1]=o,l=0;1>l;l+=.05)vi[0]=ti(n,i,u,l),vi[1]=ti(t,r,f,l),a=le(lr,vi),h>a&&(c=l,h=a);for(h=1/0,w=0;32>w&&!(bbt>p);w++)v=c-p,y=c+p,vi[0]=ti(n,i,u,v),vi[1]=ti(t,r,f,v),a=le(vi,lr),v>=0&&h>a?(c=v,h=a):(hs[0]=ti(n,i,u,y),hs[1]=ti(t,r,f,y),b=le(hs,lr),1>=y&&h>b?(c=y,h=b):p*=.5);return s&&(s[0]=ti(n,i,u,c),s[1]=ti(t,r,f,c)),of(h)}function vui(n,t,i){if(0!==n.length){for(var r=n[0],f=r[0],e=r[0],o=r[1],s=r[1],u=1;u<n.length;u++)r=n[u],f=ri(f,r[0]),e=ui(e,r[0]),o=ri(o,r[1]),s=ui(s,r[1]);t[0]=f;t[1]=o;i[0]=e;i[1]=s}}function cst(n,t,i,r,u,f){u[0]=ri(n,i);u[1]=ri(t,r);f[0]=ui(n,i);f[1]=ui(t,r)}function yui(n,t,i,r,u,f,e,o,s,h){var c,y=fst,p=bt,l=y(n,i,u,e,dbt),a,v;for(s[0]=1/0,s[1]=1/0,h[0]=-1/0,h[1]=-1/0,c=0;l>c;c++)a=p(n,i,u,e,dbt[c]),s[0]=ri(a,s[0]),h[0]=ui(a,h[0]);for(l=y(t,r,f,o,gbt),c=0;l>c;c++)v=p(t,r,f,o,gbt[c]),s[1]=ri(v,s[1]),h[1]=ui(v,h[1]);s[0]=ri(n,s[0]);h[0]=ui(n,h[0]);s[0]=ri(e,s[0]);h[0]=ui(e,h[0]);s[1]=ri(t,s[1]);h[1]=ui(t,h[1]);s[1]=ri(o,s[1]);h[1]=ui(o,h[1])}function pui(n,t,i,r,u,f,e,o){var s=sst,h=ti,a=ui(ri(s(n,i,u),1),0),v=ui(ri(s(t,r,f),1),0),c=h(n,i,u,a),l=h(t,r,f,v);e[0]=ri(n,u,c);e[1]=ri(t,f,l);o[0]=ui(n,u,c);o[1]=ui(t,f,l)}function wui(n,t,i,r,u,f,e,o,s){var c=tu,l=iu,a=Math.abs(u-f),v,h;if(.0001>a%be&&a>.0001)return o[0]=n-i,o[1]=t-r,s[0]=n+i,void(s[1]=t+r);for((dy[0]=irt(u)*i+n,dy[1]=trt(u)*r+t,gy[0]=irt(f)*i+n,gy[1]=trt(f)*r+t,c(o,dy,gy),l(s,dy,gy),u%=be,0>u&&(u+=be),f%=be,0>f&&(f+=be),u>f&&!e?f+=be:f>u&&e&&(u+=be),e)&&(v=f,f=u,u=v),h=0;f>h;h+=Math.PI/2)h>u&&(np[0]=irt(h)*i+n,np[1]=trt(h)*r+t,c(o,np,o),l(s,np,s))}function wo(n,t,i,r,u,f,e){var h,l;if(0===u)return!1;var o=u,s=0,c=n;return e>t+o&&e>r+o||t-o>e&&r-o>e||f>n+o&&f>i+o||n-o>f&&i-o>f?!1:n===i?Math.abs(f-n)<=o/2:(s=(t-r)/(n-i),c=(n*r-i*t)/(n-i),h=s*f-e+c,l=h*h/(s*s+1),o/2*o/2>=l)}function bui(n,t,i,r,u,f,e,o,s,h,c){var l,a;return 0===s?!1:(l=s,c>t+l&&c>r+l&&c>f+l&&c>o+l||t-l>c&&r-l>c&&f-l>c&&o-l>c||h>n+l&&h>i+l&&h>u+l&&h>e+l||n-l>h&&i-l>h&&u-l>h&&e-l>h)?!1:(a=cui(n,t,i,r,u,f,e,o,h,c,null),l/2>=a)}function kui(n,t,i,r,u,f,e,o,s){var h,c;return 0===e?!1:(h=e,s>t+h&&s>r+h&&s>f+h||t-h>s&&r-h>s&&f-h>s||o>n+h&&o>i+h&&o>u+h||n-h>o&&i-h>o&&u-h>o)?!1:(c=aui(n,t,i,r,u,f,o,s,null),h/2>=c)}function gu(n){return n%=ikt,0>n&&(n+=ikt),n}function dui(n,t,i,r,u,f,e,o,s){var c,l,a,h;return 0===e?!1:(c=e,o-=n,s-=t,l=Math.sqrt(o*o+s*s),l-c>i||i>l+c)?!1:Math.abs(r-u)%rl<.0001?!0:(f?(a=r,r=gu(u),u=gu(a)):(r=gu(r),u=gu(u)),r>u&&(u+=rl),h=Math.atan2(s,o),0>h&&(h+=rl),h>=r&&u>=h||h+rl>=r&&u>=h+rl)}function uu(n,t,i,r,u,f){var o,e,s;return f>t&&f>r||t>f&&r>f?0:r===t?0:(o=t>r?1:-1,e=(f-t)/(r-t),(1===e||0===e)&&(o=t>r?.5:-.5),s=e*(i-n)+n,s===u?1/0:s>u?o:0)}function gui(n,t){return Math.abs(n-t)<tbi}function nfi(){var n=yi[0];yi[0]=yi[1];yi[1]=n}function tfi(n,t,i,r,u,f,e,o,s,h){var y;if(h>t&&h>r&&h>f&&h>o||t>h&&r>h&&f>h&&o>h||(y=hui(t,r,f,o,h,kt),0===y))return 0;for(var a,p,b=0,v=-1,w=0;y>w;w++){var l=kt[w],c=0===l||1===l?.5:1,k=bt(n,i,u,e,l);s>k||(0>v&&(v=fst(t,r,f,o,yi),yi[1]<yi[0]&&v>1&&nfi(),a=bt(t,r,f,o,yi[0]),v>1&&(p=bt(t,r,f,o,yi[1]))),b+=2==v?l<yi[0]?t>a?c:-c:l<yi[1]?a>p?c:-c:p>o?c:-c:l<yi[0]?t>a?c:-c:a>o?c:-c)}return b}function ifi(n,t,i,r,u,f,e,o){var a,c,s,l;if(o>t&&o>r&&o>f||t>o&&r>o&&f>o||(a=lui(t,r,f,o,kt),0===a))return 0;if(c=sst(t,r,f),c>=0&&1>=c){for(var v=0,y=ti(t,r,f,c),h=0;a>h;h++)s=0===kt[h]||1===kt[h]?.5:1,l=ti(n,i,u,kt[h]),e>l||(v+=kt[h]<c?t>y?s:-s:y>f?s:-s);return v}return s=0===kt[0]||1===kt[0]?.5:1,l=ti(n,i,u,kt[0]),e>l?0:t>f?s:-s}function rfi(n,t,i,r,u,f,e,o){var a,c,v,l,y,s,h;if((o-=t,o>i||-i>o)||(c=Math.sqrt(i*i-o*o),kt[0]=-c,kt[1]=c,a=Math.abs(r-u),.0001>a))return 0;if(.0001>a%ls)return r=0,u=ls,h=f?1:-1,e>=kt[0]+n&&e<=kt[1]+n?h:0;for(f?(c=r,r=gu(u),u=gu(c)):(r=gu(r),u=gu(u)),r>u&&(u+=ls),v=0,l=0;2>l;l++)y=kt[l],y+n>e&&(s=Math.atan2(o,y),h=f?1:-1,0>s&&(s=ls+s),(s>=r&&u>=s||s+ls>=r&&u>=s+ls)&&(s>Math.PI/2&&s<1.5*Math.PI&&(h=-h),v+=h));return v}function lst(n,t,i,r,u){for(var k,g,c=0,o=0,e=0,h=0,s=0,f=0;f<n.length;){k=n[f++];switch(k===hf.M&&f>1&&(i||(c+=uu(o,e,h,s,r,u))),1==f&&(o=n[f],e=n[f+1],h=o,s=e),k){case hf.M:h=n[f++];s=n[f++];o=h;e=s;break;case hf.L:if(i){if(wo(o,e,n[f],n[f+1],t,r,u))return!0}else c+=uu(o,e,n[f],n[f+1],r,u)||0;o=n[f++];e=n[f++];break;case hf.C:if(i){if(bui(o,e,n[f++],n[f++],n[f++],n[f++],n[f],n[f+1],t,r,u))return!0}else c+=tfi(o,e,n[f++],n[f++],n[f++],n[f++],n[f],n[f+1],r,u)||0;o=n[f++];e=n[f++];break;case hf.Q:if(i){if(kui(o,e,n[f++],n[f++],n[f],n[f+1],t,r,u))return!0}else c+=ifi(o,e,n[f++],n[f++],n[f],n[f+1],r,u)||0;o=n[f++];e=n[f++];break;case hf.A:var y=n[f++],w=n[f++],d=n[f++],p=n[f++],l=n[f++],b=n[f++],nt=(n[f++],1-n[f++]),a=Math.cos(l)*d+y,v=Math.sin(l)*p+w;if(f>1?c+=uu(o,e,a,v,r,u):(h=a,s=v),g=(r-y)*p/d+y,i){if(dui(y,w,p,l,l+b,nt,t,g,u))return!0}else c+=rfi(y,w,p,l,l+b,nt,g,u);o=Math.cos(l+b)*d+y;e=Math.sin(l+b)*p+w;break;case hf.R:h=o=n[f++];s=e=n[f++];var tt=n[f++],it=n[f++],a=h+tt,v=s+it;if(i){if(wo(h,s,a,s,t,r,u)||wo(a,s,a,v,t,r,u)||wo(a,v,h,v,t,r,u)||wo(h,v,h,s,t,r,u))return!0}else c+=uu(a,s,a,v,r,u),c+=uu(h,v,h,s,r,u);break;case hf.Z:if(i){if(wo(o,e,h,s,t,r,u))return!0}else c+=uu(o,e,h,s,r,u);o=h;e=s}}return i||gui(e,s)||(c+=uu(o,e,h,s,r,u)||0),0!==c}function ufi(n,t,i){return lst(n,0,!1,t,i)}function ffi(n,t,i,r){return lst(n,t,!0,i,r)}function b(n){ei.call(this,n);this.path=null}function ast(n,t,i,r,u,f,e,o,s,h,c){var v=s*(up/180),l=rp(v)*(n-i)/2+ip(v)*(t-r)/2,a=-1*ip(v)*(n-i)/2+rp(v)*(t-r)/2,b=l*l/(e*e)+a*a/(o*o);b>1&&(e*=ert(b),o*=ert(b));var g=(u===f?-1:1)*ert((e*e*o*o-e*e*a*a-o*o*l*l)/(e*e*a*a+o*o*l*l))||0,p=g*e*a/o,w=g*-o*l/e,nt=(n+i)/2+rp(v)*p-ip(v)*w,tt=(t+r)/2+ip(v)*p+rp(v)*w,it=ekt([1,0],[(l-p)/e,(a-w)/o]),k=[(l-p)/e,(a-w)/o],d=[(-1*l-p)/e,(-1*a-w)/o],y=ekt(k,d);ort(k,d)<=-1&&(y=up);ort(k,d)>=1&&(y=0);0===f&&y>0&&(y-=2*up);1===f&&0>y&&(y+=2*up);c.addData(h,nt,tt,e,o,it,y,v,f)}function efi(n){var y,k,b,c,l,d,g,nt,tt,it,s,h,a,v;if(!n)return[];for(k=n.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,","),y=0;y<frt.length;y++)k=k.replace(new RegExp(frt[y],"g"),"|"+frt[y]);var p,rt=k.split("|"),r=0,u=0,e=new pr,o=pr.CMD;for(y=1;y<rt.length;y++){var f,ut=rt[y],w=ut.charAt(0),i=0,t=ut.slice(1).replace(/e,-/g,"e-").split(",");for(t.length>0&&""===t[0]&&t.shift(),b=0;b<t.length;b++)t[b]=parseFloat(t[b]);for(;i<t.length&&!isNaN(t[i])&&!isNaN(t[0]);){s=r;h=u;switch(w){case"l":r+=t[i++];u+=t[i++];f=o.L;e.addData(f,r,u);break;case"L":r=t[i++];u=t[i++];f=o.L;e.addData(f,r,u);break;case"m":r+=t[i++];u+=t[i++];f=o.M;e.addData(f,r,u);w="l";break;case"M":r=t[i++];u=t[i++];f=o.M;e.addData(f,r,u);w="L";break;case"h":r+=t[i++];f=o.L;e.addData(f,r,u);break;case"H":r=t[i++];f=o.L;e.addData(f,r,u);break;case"v":u+=t[i++];f=o.L;e.addData(f,r,u);break;case"V":u=t[i++];f=o.L;e.addData(f,r,u);break;case"C":f=o.C;e.addData(f,t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]);r=t[i-2];u=t[i-1];break;case"c":f=o.C;e.addData(f,t[i++]+r,t[i++]+u,t[i++]+r,t[i++]+u,t[i++]+r,t[i++]+u);r+=t[i-2];u+=t[i-1];break;case"S":c=r;l=u;a=e.len();v=e.data;p===o.C&&(c+=r-v[a-4],l+=u-v[a-3]);f=o.C;s=t[i++];h=t[i++];r=t[i++];u=t[i++];e.addData(f,c,l,s,h,r,u);break;case"s":c=r;l=u;a=e.len();v=e.data;p===o.C&&(c+=r-v[a-4],l+=u-v[a-3]);f=o.C;s=r+t[i++];h=u+t[i++];r+=t[i++];u+=t[i++];e.addData(f,c,l,s,h,r,u);break;case"Q":s=t[i++];h=t[i++];r=t[i++];u=t[i++];f=o.Q;e.addData(f,s,h,r,u);break;case"q":s=t[i++]+r;h=t[i++]+u;r+=t[i++];u+=t[i++];f=o.Q;e.addData(f,s,h,r,u);break;case"T":c=r;l=u;a=e.len();v=e.data;p===o.Q&&(c+=r-v[a-4],l+=u-v[a-3]);r=t[i++];u=t[i++];f=o.Q;e.addData(f,c,l,r,u);break;case"t":c=r;l=u;a=e.len();v=e.data;p===o.Q&&(c+=r-v[a-4],l+=u-v[a-3]);r+=t[i++];u+=t[i++];f=o.Q;e.addData(f,c,l,r,u);break;case"A":d=t[i++];g=t[i++];nt=t[i++];tt=t[i++];it=t[i++];s=r;h=u;r=t[i++];u=t[i++];f=o.A;ast(s,h,r,u,tt,it,d,g,nt,f,e);break;case"a":d=t[i++];g=t[i++];nt=t[i++];tt=t[i++];it=t[i++];s=r;h=u;r+=t[i++];u+=t[i++];f=o.A;ast(s,h,r,u,tt,it,d,g,nt,f,e)}}("z"===w||"Z"===w)&&(f=o.Z,e.addData(f));p=f}return e.toStatic(),e}function vst(n,t){var i=efi(n);return t=t||{},t.buildPath=function(n){var t;n.setData?(n.setData(i.data),t=n.getContext(),t&&n.rebuildPath(t)):(t=n,i.rebuildPath(t))},t.applyTransform=function(n){fbi(i,n);this.dirty(!0)},t}function ofi(n,t){return new b(vst(n,t))}function sfi(n,t){return b.extend(vst(n,t))}function hfi(n,t){for(var i,r,f=[],e=n.length,u=0;e>u;u++)i=n[u],i.path||i.createPathProxy(),i.__dirtyPath&&i.buildPath(i.path,i.shape,!0),f.push(i.path);return r=new b(t),r.createPathProxy(),r.buildPath=function(n){n.appendPath(f);var t=n.getContext();t&&n.rebuildPath(t)},r}function yst(n,t,i,r,u,f,e){var o=.5*(i-n),s=.5*(r-t);return(2*(t-i)+o+s)*e+(-3*(t-i)-2*o-s)*f+o*u+t}function pst(n,t,i){var r=t.points,f=t.smooth,o,e,u,l;if(r&&r.length>=2){if(f&&"spline"!==f)for(o=sbi(r,f,i,t.smoothConstraint),n.moveTo(r[0][0],r[0][1]),e=r.length,u=0;(i?e:e-1)>u;u++){var s=o[2*u],h=o[2*u+1],c=r[(u+1)%e];n.bezierCurveTo(s[0],s[1],h[0],h[1],c[0],c[1])}else for("spline"===f&&(r=obi(r,i)),n.moveTo(r[0][0],r[0][1]),u=1,l=r.length;l>u;u++)n.lineTo(r[u][0],r[u][1]);i&&n.closePath()}}function wst(n,t,i){var r=n.cpx2,u=n.cpy2;return null===r||null===u?[(i?ust:bt)(n.x1,n.cpx1,n.cpx2,n.x2,t),(i?ust:bt)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(i?ost:ti)(n.x1,n.cpx1,n.x2,t),(i?ost:ti)(n.y1,n.cpy1,n.y2,t)]}function ir(n){ei.call(this,n);this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.notClear=!0}function ue(n){return b.extend(n)}function cfi(n,t){return sfi(n,t)}function dk(n,t,i,r){var u=ofi(n,t),f=u.getBoundingRect();return i&&("center"===r&&(i=kst(i,f)),dst(u,i)),u}function bst(n,t,i){var r=new bu({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(n){if("center"===i){var u={width:n.width,height:n.height};r.setStyle(kst(t,u))}}});return r}function kst(n,t){var r,u=t.width/t.height,i=n.height*u,f,e;return i<=n.width?r=n.height:(i=n.width,r=i/u),f=n.x+n.width/2,e=n.y+n.height/2,{x:f-i/2,y:e-r/2,width:i,height:r}}function dst(n,t){if(n.applyTransform){var i=n.getBoundingRect(),r=i.calculateTransform(t);n.applyTransform(r)}}function vh(n){var t=n.shape,i=n.style.lineWidth;return ps(2*t.x1)===ps(2*t.x2)&&(t.x1=t.x2=fe(t.x1,i,!0)),ps(2*t.y1)===ps(2*t.y2)&&(t.y1=t.y2=fe(t.y1,i,!0)),n}function gst(n){var t=n.shape,i=n.style.lineWidth,f=t.x,e=t.y,r=t.width,u=t.height;return t.x=fe(t.x,i,!0),t.y=fe(t.y,i,!0),t.width=Math.max(fe(f+r,i,!1)-t.x,0===r?0:1),t.height=Math.max(fe(e+u,i,!1)-t.y,0===u?0:1),n}function fe(n,t,i){var r=ps(2*n);return(r+ps(t))%2==0?r/2:(r+(i?1:-1))/2}function nht(n){return null!=n&&"none"!=n}function tht(n){return"string"==typeof n?eet(n,-.1):n}function iht(n){var r,i;if(n.__hoverStlDirty){var u=n.style.stroke,f=n.style.fill,t=n.__hoverStl;t.fill=t.fill||(nht(f)?tht(f):null);t.stroke=t.stroke||(nht(u)?tht(u):null);r={};for(i in t)null!=t[i]&&(r[i]=n.style[i]);n.__normalStl=r;n.__hoverStlDirty=!1}}function rht(n){if(!n.__isHover){if(iht(n),n.useHoverLayer)n.__zr&&n.__zr.addHover(n,n.__hoverStl);else{var t=n.style,i=t.insideRollbackOpt;i&&bfi(t);t.extendFrom(n.__hoverStl);i&&(cht(t,t.insideOriginalTextPosition,i),null==t.textFill&&(t.textFill=i.autoColor));n.dirty(!1);n.z2+=1}n.__isHover=!0}}function uht(n){if(n.__isHover){var t=n.__normalStl;n.useHoverLayer?n.__zr&&n.__zr.removeHover(n):(t&&n.setStyle(t),n.z2-=1);n.__isHover=!1}}function fht(n){"group"===n.type?n.traverse(function(n){"group"!==n.type&&rht(n)}):rht(n)}function eht(n){"group"===n.type?n.traverse(function(n){"group"!==n.type&&uht(n)}):uht(n)}function oht(n,t){n.__hoverStl=n.hoverStyle||t||{};n.__hoverStlDirty=!0;n.__isHover&&iht(n)}function lfi(n){this.__hoverSilentOnTouch&&n.zrByTouch||!this.__isEmphasis&&fht(this)}function afi(n){this.__hoverSilentOnTouch&&n.zrByTouch||!this.__isEmphasis&&eht(this)}function vfi(){this.__isEmphasis=!0;fht(this)}function yfi(){this.__isEmphasis=!1;eht(this)}function nf(n,t,i){n.__hoverSilentOnTouch=i&&i.hoverSilentOnTouch;"group"===n.type?n.traverse(function(n){"group"!==n.type&&oht(n,t)}):oht(n,t);n.on("mouseover",lfi).on("mouseout",afi);n.on("emphasis",vfi).on("normal",yfi)}function yh(n,t,i,r,u,f,e){var c,l;u=u||op;var o,s=u.labelFetcher,h=u.labelDataIndex,a=u.labelDimIndex,v=i.getShallow("show"),y=r.getShallow("show");(v||y)&&(s&&(o=s.getFormattedLabel(h,"normal",null,a)),null==o&&(o=fr(u.defaultText)?u.defaultText(h,u):u.defaultText));c=v?o:null;l=y?gt(s?s.getFormattedLabel(h,"emphasis",null,a):null,o):null;(null!=c||null!=l)&&(fu(n,i,f,u),fu(t,r,e,u,!0));n.text=c;t.text=l}function fu(n,t,i,r,u){return sht(n,t,r,u),i&&c(n,i),n.host&&n.host.dirty&&n.host.dirty(!1),n}function pfi(n,t,i){var r,u={isRectText:!0};i===!1?r=!0:u.autoColor=i;sht(n,t,u,r);n.host&&n.host.dirty&&n.host.dirty(!1)}function sht(n,t,i,r){var u,f,e,l;(i=i||op,i.isRectText)&&(u=t.getShallow("position")||(r?null:"inside"),"outside"===u&&(u="top"),n.textPosition=u,n.textOffset=t.getShallow("offset"),f=t.getShallow("rotate"),null!=f&&(f*=Math.PI/180),n.textRotation=f,n.textDistance=gt(t.getShallow("distance"),r?null:5));var o,h=t.ecModel,c=h&&h.option.textStyle,s=wfi(t);if(s){o={};for(e in s)s.hasOwnProperty(e)&&(l=t.getModel(["rich",e]),hht(o[e]={},l,c,i,r))}return n.rich=o,hht(n,t,c,i,r,!0),i.forceRich&&!i.textStyle&&(i.textStyle={}),n}function wfi(n){for(var t,i,r;n&&n!==n.ecModel;){if(i=(n.option||op).rich,i){t=t||{};for(r in i)i.hasOwnProperty(r)&&(t[r]=1)}n=n.parentModel}return t}function hht(n,t,i,r,u,f){if(i=!u&&i||op,n.textFill=wa(t.getShallow("color"),r)||i.color,n.textStroke=wa(t.getShallow("textBorderColor"),r)||i.textBorderColor,n.textStrokeWidth=gt(t.getShallow("textBorderWidth"),i.textBorderWidth),!u){if(f){var e=n.textPosition;n.insideRollback=cht(n,e,r);n.insideOriginalTextPosition=e;n.insideRollbackOpt=r}null==n.textFill&&(n.textFill=r.autoColor)}n.fontStyle=t.getShallow("fontStyle")||i.fontStyle;n.fontWeight=t.getShallow("fontWeight")||i.fontWeight;n.fontSize=t.getShallow("fontSize")||i.fontSize;n.fontFamily=t.getShallow("fontFamily")||i.fontFamily;n.textAlign=t.getShallow("align");n.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline");n.textLineHeight=t.getShallow("lineHeight");n.textWidth=t.getShallow("width");n.textHeight=t.getShallow("height");n.textTag=t.getShallow("tag");f&&r.disableBox||(n.textBackgroundColor=wa(t.getShallow("backgroundColor"),r),n.textPadding=t.getShallow("padding"),n.textBorderColor=wa(t.getShallow("borderColor"),r),n.textBorderWidth=t.getShallow("borderWidth"),n.textBorderRadius=t.getShallow("borderRadius"),n.textBoxShadowColor=t.getShallow("shadowColor"),n.textBoxShadowBlur=t.getShallow("shadowBlur"),n.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),n.textBoxShadowOffsetY=t.getShallow("shadowOffsetY"));n.textShadowColor=t.getShallow("textShadowColor")||i.textShadowColor;n.textShadowBlur=t.getShallow("textShadowBlur")||i.textShadowBlur;n.textShadowOffsetX=t.getShallow("textShadowOffsetX")||i.textShadowOffsetX;n.textShadowOffsetY=t.getShallow("textShadowOffsetY")||i.textShadowOffsetY}function wa(n,t){return"auto"!==n?n:t&&t.autoColor?t.autoColor:null}function cht(n,t,i){var r,u=i.useInsideStyle;return null==n.textFill&&u!==!1&&(u===!0||i.isRectText&&t&&"string"==typeof t&&t.indexOf("inside")>=0)&&(r={textFill:null,textStroke:n.textStroke,textStrokeWidth:n.textStrokeWidth},n.textFill="#fff",null==n.textStroke&&(n.textStroke=i.autoColor,null==n.textStrokeWidth&&(n.textStrokeWidth=2))),r}function bfi(n){var t=n.insideRollback;t&&(n.textFill=t.textFill,n.textStroke=t.textStroke,n.textStrokeWidth=t.textStrokeWidth)}function lht(n,t){var i=t||t.getModel("textStyle");return hb([n.fontStyle||i&&i.getShallow("fontStyle")||"",n.fontWeight||i&&i.getShallow("fontWeight")||"",(n.fontSize||i&&i.getShallow("fontSize")||12)+"px",n.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}function aht(n,t,i,r,u,f){var h;if("function"==typeof u&&(f=u,u=null),h=r&&r.isAnimationEnabled(),h){var s=n?"Update":"",e=r.getShallow("animationDuration"+s),c=r.getShallow("animationEasing"+s),o=r.getShallow("animationDelay"+s);"function"==typeof o&&(o=o(u,r.getAnimationDelayParams?r.getAnimationDelayParams(t,u):null));"function"==typeof e&&(e=e(u));e>0?t.animateTo(i,e,o||0,c,f,!!f):(t.stopAnimation(),t.attr(i),f&&f())}else t.stopAnimation(),t.attr(i),f&&f()}function ot(n,t,i,r,u){aht(!0,n,t,i,r,u)}function ee(n,t,i,r,u){aht(!1,n,t,i,r,u)}function gk(n,t){for(var i=lh([]);n&&n!==t;)ao(i,n.getLocalTransform(),i),n=n.parent;return i}function nd(n,t,i){return t&&!nu(t)&&(t=us.getLocalTransform(t)),i&&(t=bb([],t)),ni([],n,t)}function vht(n,t,i){var u=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),f=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),r=["left"===n?-u:"right"===n?u:0,"top"===n?-f:"bottom"===n?f:0];return r=nd(r,t,i),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"}function yht(n,t,i){function u(n){var t={};return n.traverse(function(n){!n.isGroup&&n.anid&&(t[n.anid]=n)}),t}function r(n){var t={position:lb(n.position),rotation:n.rotation};return n.shape&&(t.shape=c({},n.shape)),t}if(n&&t){var f=u(n);t.traverse(function(n){var t,u;!n.isGroup&&n.anid&&(t=f[n.anid],t&&(u=r(n),n.attr(r(t)),ot(n,u,i,n.dataIndex)))})}}function pht(n,t){return i(n,function(n){var r=n[0],i;return r=fp(r,t.x),r=ep(r,t.x+t.width),i=n[1],i=fp(i,t.y),i=ep(i,t.y+t.height),[r,i]})}function kfi(n,t){var i=fp(n.x,t.x),u=ep(n.x+n.width,t.x+t.width),r=fp(n.y,t.y),f=ep(n.y+n.height,t.y+t.height);if(u>=i&&f>=r)return{x:i,y:r,width:u-i,height:f-r}}function ba(n,t,i){t=c({rectHover:!0},t);var r=t.style={strokeNoScale:!0};return i=i||{x:-1,y:-1,width:2,height:2},n?0===n.indexOf("image://")?(r.image=n.slice(8),l(r,i),new bu(t)):dk(n.replace("path://",""),t,i,"center"):void 0}function g(n,t,i){this.parentModel=t;this.ecModel=i;this.option=n}function wht(n,t,i){for(var r=0;r<t.length&&(!t[r]||(n=n&&"object"==typeof n?n[t[r]]:null,null!=n));r++);return null==n&&i&&(n=i.get(t)),n}function td(n,t){var i=lkt(n).getParent;return i?i.call(n,t):n.parentModel}function ka(n){return[n||"",pbi++,Math.random().toFixed(5)].join("_")}function dfi(n){var t={};return n.registerSubTypeDefaulter=function(n,i){n=ku(n);t[n.main]=i},n.determineSubType=function(i,r){var u=r.type,f;return u||(f=ku(i).main,n.hasSubTypes(i)&&t[f]&&(u=t[f](r))),u},n}function gfi(n,i){function u(n){var u={},e=[];return t(n,function(o){var s=r(u,o),c=s.originalDeps=i(o),h=f(c,n);s.entryCount=h.length;0===s.entryCount&&e.push(o);t(h,function(n){y(s.predecessor,n)<0&&s.predecessor.push(n);var t=r(u,n);y(t.successor,n)<0&&t.successor.push(o)})}),{graph:u,noEntryList:e}}function r(n,t){return n[t]||(n[t]={predecessor:[],successor:[]}),n[t]}function f(n,i){var r=[];return t(n,function(n){y(i,n)>=0&&r.push(n)}),r}n.topologicalTravel=function(n,i,r,f){function c(n){s[n].entryCount--;0===s[n].entryCount&&h.push(n)}function y(n){e[n]=!0;c(n)}if(n.length){var l=u(i),s=l.graph,h=l.noEntryList,e={};for(t(n,function(n){e[n]=!0});h.length;){var o=h.pop(),a=s[o],v=!!e[o];v&&(r.call(f,o,a.originalDeps.slice()),delete e[o]);t(a.successor,v?y:c)}t(e,function(){throw new Error("Circle dependency may exists");})}}}function nei(n){return n.replace(/^\s+/,"").replace(/\s+$/,"")}function oe(n,t,i,r){var u=t[1]-t[0],f=i[1]-i[0];if(0===u)return 0===f?i[0]:(i[0]+i[1])/2;if(r)if(u>0){if(n<=t[0])return i[0];if(n>=t[1])return i[1]}else{if(n>=t[0])return i[0];if(n<=t[1])return i[1]}else{if(n===t[0])return i[0];if(n===t[1])return i[1]}return(n-t[0])/u*f+i[0]}function k(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return"string"==typeof n?nei(n).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):null==n?NaN:+n}function ii(n,t,i){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),n=(+n).toFixed(t),i?n:+n}function bht(n){return n.sort(function(n,t){return n-t}),n}function kht(n){if(n=+n,isNaN(n))return 0;for(var t=1,i=0;Math.round(n*t)/t!==n;)t*=10,i++;return i}function da(n){var t=n.toString(),u=t.indexOf("e"),i,r;return u>0?(i=+t.slice(u+1),0>i?-i:0):(r=t.indexOf("."),0>r?0:t.length-1-r)}function id(n,t){var i=Math.log,r=Math.LN10,f=Math.floor(i(n[1]-n[0])/r),e=Math.round(i(Math.abs(t[1]-t[0]))/r),u=Math.min(Math.max(-f+e,0),20);return isFinite(u)?u:20}function dht(n,t,r){var o;if(!n[t]||(o=oh(n,function(n,t){return n+(isNaN(t)?0:t)},0),0===o))return 0;for(var s=Math.pow(10,r),c=i(n,function(n){return(isNaN(n)?0:n)/o*s*100}),v=100*s,f=i(c,function(n){return Math.floor(n)}),l=oh(f,function(n,t){return n+t},0),e=i(c,function(n,t){return n-f[t]});v>l;){for(var a=Number.NEGATIVE_INFINITY,h=null,u=0,y=e.length;y>u;++u)e[u]>a&&(a=e[u],h=u);++f[h];e[h]=0;++l}return f[t]/s}function rd(n){var t=2*Math.PI;return(n%t+t)%t}function ph(n){return n>-akt&&akt>n}function ga(n){var t,i;return n instanceof Date?n:"string"==typeof n?(t=wbi.exec(n),!t)?new Date(NaN):t[8]?(i=+t[4]||0,"Z"!==t[8].toUpperCase()&&(i-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,i,+(t[5]||0),+t[6]||0,+t[7]||0))):new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0):new Date(null==n?NaN:Math.round(n))}function ght(n){return Math.pow(10,nct(n))}function nct(n){return Math.floor(Math.log(n)/Math.LN10)}function ud(n,t){var u,r=nct(n),f=Math.pow(10,r),i=n/f;return u=t?1.5>i?1:2.5>i?2:4>i?3:7>i?5:10:1>i?1:2>i?2:3>i?3:5>i?5:10,n=u*f,r>=-20?+n.toFixed(0>r?-r:0):n}function tei(n){function e(n,t,i){return n.interval[i]<t.interval[i]||n.interval[i]===t.interval[i]&&(n.close[i]-t.close[i]==(i?-1:1)||!i&&e(n,t,1))}n.sort(function(n,t){return e(n,t,0)?-1:1});for(var f=-1/0,o=1,i=0;i<n.length;){for(var r=n[i].interval,u=n[i].close,t=0;2>t;t++)r[t]<=f&&(r[t]=f,u[t]=t?1:1-o),f=r[t],o=u[t];r[0]===r[1]&&u[0]*u[1]!=1?n.splice(i,1):i++}return n}function iei(n){return n-parseFloat(n)>=0}function wh(n){return isNaN(n)?"-":(n=(n+"").split("."),n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:""))}function tct(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(n,t){return t.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}function hi(n){return null==n?"":(n+"").replace(kbi,function(n,t){return dbi[t]})}function fd(n,t,i){var s,e,o,h,r,f,c;if(u(t)||(t=[t]),s=t.length,!s)return"";for(e=t[0].$vars||[],o=0;o<e.length;o++)h=vkt[o],n=n.replace(lrt(h),lrt(h,0));for(r=0;s>r;r++)for(f=0;f<e.length;f++)c=t[r][e[f]],n=n.replace(lrt(vkt[f],r),i?hi(c):c);return n}function rei(n,i,r){return t(i,function(t,i){n=n.replace("{"+i+"}",r?hi(t):t)}),n}function nv(n,t){n=dt(n)?{color:n,extraCssText:t}:n||{};var i=n.color,r=n.type,t=n.extraCssText;return i?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+hi(i)+";"+(t||"")+'"><\/span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+hi(i)+";"+(t||"")+'"><\/span>':""}function bo(n,t){return n+="","0000".substr(0,t-n.length)+n}function ed(n,t,i){("week"===n||"month"===n||"quarter"===n||"half-year"===n||"year"===n)&&(n="MM-dd\nyyyy");var r=ga(t),u=i?"UTC":"",f=r["get"+u+"FullYear"](),e=r["get"+u+"Month"]()+1,o=r["get"+u+"Date"](),s=r["get"+u+"Hours"](),h=r["get"+u+"Minutes"](),c=r["get"+u+"Seconds"](),l=r["get"+u+"Milliseconds"]();return n.replace("MM",bo(e,2)).replace("M",e).replace("yyyy",f).replace("yy",f%100).replace("dd",bo(o,2)).replace("d",o).replace("hh",bo(s,2)).replace("h",s).replace("mm",bo(h,2)).replace("m",h).replace("ss",bo(c,2)).replace("s",c).replace("SSS",bo(l,3))}function od(n){return n?n.charAt(0).toUpperCase()+n.substr(1):n}function sd(n,t,i,r,u){var e=0,o=0,f;null==r&&(r=1/0);null==u&&(u=1/0);f=0;t.eachChild(function(s,h){var l,a,w=s.position,c=s.getBoundingRect(),b=t.childAt(h+1),v=b&&b.getBoundingRect(),y,p;"horizontal"===n?(y=c.width+(v?-v.x+c.x:0),l=e+y,l>r||s.newline?(e=0,l=y,o+=f+i,f=c.height):f=Math.max(f,c.height)):(p=c.height+(v?-v.y+c.y:0),a=o+p,a>u||s.newline?(e+=f+i,o=0,a=p,f=c.width):f=Math.max(f,c.width));s.newline||(w[0]=e,w[1]=o,"horizontal"===n?e=l+i:o=a+i)})}function tf(n,t,i){var y;i=el(i||0);var f=t.width,e=t.height,o=k(n.left,f),s=k(n.top,e),a=k(n.right,f),v=k(n.bottom,e),r=k(n.width,f),u=k(n.height,e),h=i[2]+i[0],c=i[1]+i[3],l=n.aspect;switch(isNaN(r)&&(r=f-a-c-o),isNaN(u)&&(u=e-v-h-s),null!=l&&(isNaN(r)&&isNaN(u)&&(l>f/e?r=.8*f:u=.8*e),isNaN(r)&&(r=l*u),isNaN(u)&&(u=r/l)),isNaN(o)&&(o=f-a-r-c),isNaN(s)&&(s=e-v-u-h),n.left||n.right){case"center":o=f/2-r/2-i[3];break;case"right":o=f-r-c}switch(n.top||n.bottom){case"middle":case"center":s=e/2-u/2-i[0];break;case"bottom":s=e-u-h}return o=o||0,s=s||0,isNaN(r)&&(r=f-c-o-(a||0)),isNaN(u)&&(u=e-h-s-(v||0)),y=new d(o+i[3],s+i[0],r,u),y.margin=i,y}function uei(n,t,i,r,u){var e=!u||!u.hv||u.hv[0],o=!u||!u.hv||u.hv[1],s=u&&u.boundingMode||"all",f,h;if(e||o){"raw"===s?f="group"===n.type?new d(0,0,+t.width||0,+t.height||0):n.getBoundingRect():(f=n.getBoundingRect(),n.needLocalTransform())&&(h=n.getLocalTransform(),f=f.clone(),f.applyTransform(h));t=tf(l({width:f.width,height:f.height},t),i,r);var c=n.position,a=e?t.x-f.x:0,v=o?t.y-f.y:0;n.attr("position","raw"===s?[a,v]:[c[0]+a,c[1]+v])}}function ko(n,t,i){function s(i,u){var s={},l=0,f={},a=0,v=2,c,h;if(cp(i,function(t){f[t]=n[t]}),cp(i,function(n){o(t,n)&&(s[n]=f[n]=t[n]);e(s,n)&&l++;e(f,n)&&a++}),r[u])return e(t,i[1])?f[i[2]]=null:e(t,i[2])&&(f[i[1]]=null),f;if(a!==v&&l){if(l>=v)return s;for(c=0;c<i.length;c++)if(h=i[c],!o(s,h)&&o(n,h)){s[h]=n[h];break}return s}return f}function o(n,t){return n.hasOwnProperty(t)}function e(n,t){return null!=n[t]&&"auto"!==n[t]}function h(n,t,i){cp(n,function(n){t[n]=i[n]})}var r,c,l;f(i)||(i={});r=i.ignoreSize;u(r)||(r=[r,r]);c=s(lp[0],0);l=s(lp[1],1);h(lp[0],n,c);h(lp[1],n,l)}function tv(n){return fei({},n)}function fei(n,t){return t&&n&&cp(tki,function(i){t.hasOwnProperty(i)&&(n[i]=t[i])}),n}function eei(n){var r=[];return t(nt.getClassesByMainType(n),function(n){r=r.concat(n.prototype.dependencies||[])}),r=i(r,function(n){return ku(n).main}),"dataset"!==n&&y(r,"dataset")<=0&&r.unshift("dataset"),r}function oei(n,t){for(var r=n.length,i=0;r>i;i++)if(n[i].length>t)return n[i];return n[r-1]}function ict(n){var i=n.get("coordinateSystem"),t={coordSysName:i,coordSysDims:[],axisMap:a(),categoryAxisMap:a()},r=fki[i];if(r)return(r(n,t,t.axisMap,t.categoryAxisMap),t)}function go(n){return"category"===n.get("type")}function rr(n){this.fromDataset=n.fromDataset;this.data=n.data||(n.sourceFormat===pp?{}:[]);this.sourceFormat=n.sourceFormat||pkt;this.seriesLayoutBy=n.seriesLayoutBy||wkt;this.dimensionsDefine=n.dimensionsDefine;this.encodeDefine=n.encodeDefine&&a(n.encodeDefine);this.startIndex=n.startIndex||0;this.dimensionsDetectCount=n.dimensionsDetectCount}function sei(n){var t=n.option.source,i=pkt,r,s,e,o;if(er(t))i=wp;else if(u(t)){for(r=0,s=t.length;s>r;r++)if(e=t[r],null!=e){if(u(e)){i=vp;break}if(f(e)){i=yp;break}}}else if(f(t)){for(o in t)if(t.hasOwnProperty(o)&&nu(t[o])){i=pp;break}}else if(null!=t)throw new Error("Invalid data");ws(n).sourceFormat=i}function hei(n){return ws(n).source}function cei(n){ws(n).datasetMap=a()}function rct(n){var t=n.option,i=t.data,o=er(i)?wp:de,l=!1,r=t.seriesLayoutBy,h=t.sourceHeader,c=t.dimensions,u=yei(n),f,e,s;u&&(f=u.option,i=f.source,o=ws(u).sourceFormat,l=!0,r=r||f.seriesLayoutBy,null==h&&(h=f.sourceHeader),c=c||f.dimensions);e=lei(i,o,r,h,c);s=t.encode;!s&&u&&(s=vei(n,u,i,o,r,e));ws(n).source=new rr({data:i,fromDataset:l,seriesLayoutBy:r,sourceFormat:o,dimensionsDefine:e.dimensionsDefine,startIndex:e.startIndex,dimensionsDetectCount:e.dimensionsDetectCount,encodeDefine:s})}function lei(n,i,r,e,o){var h,s,c,l,a;return n?(i===vp?("auto"===e||null==e?fct(function(n){null!=n&&"-"!==n&&(dt(n)?null==s&&(s=1):s=0)},r,n,10):s=e?1:0,o||1!==s||(o=[],fct(function(n,t){o[t]=null!=n?n:""},r,n)),h=o?o.length:r===prt?n.length:n[0]?n[0].length:null):i===yp?o||(o=aei(n),c=!0):i===pp?o||(o=[],c=!0,t(n,function(n,t){o.push(t)})):i===de&&(l=la(n[0]),h=u(l)&&l.length||1),c&&t(o,function(n,t){"name"===(f(n)?n.name:n)&&(a=t)}),{startIndex:s,dimensionsDefine:uct(o),dimensionsDetectCount:h,potentialNameDimIndex:a}):{dimensionsDefine:uct(o)}}function uct(n){if(n){var t=a();return i(n,function(n){if(n=c({},f(n)?n:{name:n}),null==n.name)return n;n.name+="";null==n.displayName&&(n.displayName=n.name);var i=t.get(n.name);return i?n.name+="-"+i.count++:t.set(n.name,{count:1}),n})}}function fct(n,t,i,r){var f,u;if(null==r&&(r=1/0),t===prt)for(u=0;u<i.length&&r>u;u++)n(i[u]?i[u][0]:null,u);else for(f=i[0]||[],u=0;u<f.length&&r>u;u++)n(f[u],u)}function aei(n){for(var i,u,r=0;r<n.length&&!(i=n[r++]););if(i)return u=[],t(i,function(n,t){u.push(t)}),u}function vei(n,i,r,u,f,e){var l=ict(n),o={},v=[],s=[],p=n.subType,d=a(["pie","map","funnel"]),g=a(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]),h,c,y;if(l&&null!=g.get(p)){var nt=n.ecModel,w=ws(nt).datasetMap,b=i.uid+"_"+f,k=w.get(b)||w.set(b,{categoryWayDim:1,valueWayDim:0});t(l.coordSysDims,function(n){var t;null==l.firstCategoryDimIndex?(t=k.valueWayDim++,o[n]=t,s.push(t)):l.categoryAxisMap.get(n)?(o[n]=0,v.push(0)):(t=k.categoryWayDim++,o[n]=t,s.push(t))})}else if(null!=d.get(p)){for(c=0;5>c&&null==h;c++)ect(r,u,f,e.dimensionsDefine,e.startIndex,c)||(h=c);null!=h&&(o.value=h,y=e.potentialNameDimIndex||Math.max(h-1,0),s.push(y),v.push(y))}return v.length&&(o.itemName=v),s.length&&(o.seriesName=s),o}function yei(n){var t=n.option,i=t.data;if(!i)return n.ecModel.getComponent("dataset",t.datasetIndex||0)}function pei(n,t){return ect(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function ect(n,t,i,r,e,o){function a(n){return null!=n&&isFinite(n)&&""!==n?!1:dt(n)&&"-"!==n?!0:void 0}var h,v=5,c,p,l,s,y,w;if(er(n))return!1;if(r&&(c=r[o],c=f(c)?c.name:c),t===vp){if(i===prt){for(l=n[o],s=0;s<(l||[]).length&&v>s;s++)if(null!=(h=a(l[e+s])))return h}else for(s=0;s<n.length&&v>s;s++)if(p=n[e+s],p&&null!=(h=a(p[o])))return h}else if(t===yp){if(!c)return;for(s=0;s<n.length&&v>s;s++)if(y=n[s],y&&null!=(h=a(y[c])))return h}else if(t===pp){if(!c)return;if(l=n[c],!l||er(l))return!1;for(s=0;s<l.length&&v>s;s++)if(null!=(h=a(l[s])))return h}else if(t===de)for(s=0;s<n.length&&v>s;s++){if(y=n[s],w=la(y),!u(w))return!1;if(null!=(h=a(w[o])))return h}return!1}function wei(n,t){if(t){var i=t.seiresIndex,r=t.seriesId,u=t.seriesName;return null!=i&&n.componentIndex!==i||null!=r&&n.id!==r||null!=u&&n.name!==u}}function bei(n,i){var r=n.color&&!n.colorLayer;t(i,function(t,i){"colorLayer"===i&&r||nt.hasClass(i)||("object"==typeof t?n[i]=n[i]?s(n[i],t,!1):v(t):null==n[i]&&(n[i]=t))})}function kei(n){n=n;this.option={};this.option[wrt]=1;this._componentsMap=a({series:[]});this._seriesIndices;this._seriesIndicesMap;bei(n,this._theme.option);s(n,uki,!1);this.mergeOption(n)}function dei(n,i){u(i)||(i=i?[i]:[]);var r={};return t(i,function(t){r[t]=(n.get(t)||[]).slice()}),r}function gei(n,t,i){return t.type?t.type:i?i.subType:nt.determineSubType(n,t)}function hd(n,t){n._seriesIndicesMap=a(n._seriesIndices=i(t,function(n){return n.componentIndex})||[])}function oct(n,t){return t.hasOwnProperty("subType")?wt(n,function(n){return n.subType===t.subType}):n}function sct(n){t(bkt,function(t){this[t]=ut(n[t],n)},this)}function eu(){this._coordinateSystems=[]}function cd(n){this._api=n;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}function noi(n,t,r){var f,u,e=[],o=[],s=n.timeline,h;return(n.baseOption&&(u=n.baseOption),(s||n.options)&&(u=u||{},e=(n.options||[]).slice()),n.media)&&(u=u||{},h=n.media,kp(h,function(n){n&&n.option&&(n.query?o.push(n):f||(f=n))})),u||(u=n),u.timeline||(u.timeline=s),kp([u].concat(e).concat(i(o,function(n){return n.option})),function(n){kp(t,function(t){t(n,r)})}),{baseOption:u,timelineOptions:e,mediaDefault:f,mediaList:o}}function toi(n,i,r){var f={width:i,height:r,aspectratio:i/r},u=!0;return t(n,function(n,t){var i=t.match(eki),r,e;i&&i[1]&&i[2]&&(r=i[1],e=i[2].toLowerCase(),ioi(f[e],n,r)||(u=!1))}),u}function ioi(n,t,i){return"min"===i?n>=t:"max"===i?t>=n:n===t}function roi(n,t){return n.join(",")===t.join(",")}function uoi(n,t){t=t||{};kp(t,function(t,i){var r,u;null!=t&&(r=n[i],nt.hasClass(i)?(t=oi(t),r=oi(r),u=nst(r,t),n[i]=dp(u,function(n){return n.option&&n.exist?kkt(n.exist,n.option,!0):n.exist||n.option})):n[i]=kkt(r,t,!0))})}function ld(n){var f=n&&n.itemStyle,u,e;if(f)for(u=0,e=dkt.length;e>u;u++){var t=dkt[u],i=f.normal,r=f.emphasis;i&&i[t]&&(n[t]=n[t]||{},n[t].normal?s(n[t].normal,i[t]):n[t].normal=i[t],i[t]=null);r&&r[t]&&(n[t]=n[t]||{},n[t].emphasis?s(n[t].emphasis,r[t]):n[t].emphasis=r[t],r[t]=null)}}function yt(n,t,i){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var r=n[t].normal,u=n[t].emphasis;r&&(i?(n[t].normal=n[t].emphasis=null,l(n[t],r)):n[t]=r);u&&(n.emphasis=n.emphasis||{},n.emphasis[t]=u)}}function bh(n){yt(n,"itemStyle");yt(n,"lineStyle");yt(n,"areaStyle");yt(n,"label");yt(n,"labelLine");yt(n,"upperLabel");yt(n,"edgeLabel")}function ft(n,t){var r=ol(n)&&n[t],u=ol(r)&&r.textStyle,i,f,t;if(u)for(i=0,f=wbt.length;f>i;i++)t=wbt[i],u.hasOwnProperty(t)&&(r[t]=u[t])}function ci(n){n&&(bh(n),ft(n,"label"),n.emphasis&&ft(n.emphasis,"label"))}function foi(n){var h,e,s,r,c,f,o,i;if(ol(n)){if(ld(n),bh(n),ft(n,"label"),ft(n,"upperLabel"),ft(n,"edgeLabel"),n.emphasis&&(ft(n.emphasis,"label"),ft(n.emphasis,"upperLabel"),ft(n.emphasis,"edgeLabel")),r=n.markPoint,r&&(ld(r),ci(r)),f=n.markLine,f&&(ld(f),ci(f)),h=n.markArea,h&&ci(h),e=n.data,"graph"===n.type){if(e=e||n.nodes,s=n.links||n.edges,s&&!er(s))for(i=0;i<s.length;i++)ci(s[i]);t(n.categories,function(n){bh(n)})}if(e&&!er(e))for(i=0;i<e.length;i++)ci(e[i]);if(r=n.markPoint,r&&r.data)for(c=r.data,i=0;i<c.length;i++)ci(c[i]);if(f=n.markLine,f&&f.data)for(o=f.data,i=0;i<o.length;i++)u(o[i])?(ci(o[i][0]),ci(o[i][1])):ci(o[i]);"gauge"===n.type?(ft(n,"axisLabel"),ft(n,"title"),ft(n,"detail")):"treemap"===n.type?(yt(n.breadcrumb,"itemStyle"),t(n.levels,function(n){bh(n)})):"tree"===n.type&&bh(n.leaves)}}function ou(n){return u(n)?n:n?[n]:[]}function hct(n){return(u(n)?n[0]:n)||{}}function eoi(n,t){t=t.split(",");for(var i=n,r=0;r<t.length&&(i=i&&i[t[r]],null!=i);r++);return i}function ooi(n,t,i,r){t=t.split(",");for(var e,u=n,f=0;f<t.length-1;f++)e=t[f],null==u[e]&&(u[e]={}),u=u[e];(r||null==u[t[f]])&&(u[t[f]]=i)}function cct(n){t(ski,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}function soi(n){t(n,function(t,i){var u=[],o=[NaN,NaN],s=[t.stackResultDimension,t.stackedOverDimension],r=t.data,f=t.isStackedByIndex,e=r.map(s,function(e,s,h){var c=r.get(t.stackedDimension,h),w,v,p,y,l,a;if(isNaN(c))return o;for(f?v=r.getRawIndex(h):w=r.get(t.stackedByDimension,h),p=NaN,y=i-1;y>=0;y--)if(l=n[y],(f||(v=l.data.rawIndexOf(l.stackedByDimension,w)),v>=0)&&(a=l.data.getByRawIndex(l.stackResultDimension,v),c>=0&&a>0||0>=c&&0>a)){c+=a;p=a;break}return u[0]=c,u[1]=p,u});r.hostModel.setData(e);t.data=e})}function lct(n,t){var r,i,u;rr.isInstance(n)||(n=rr.seriesDataToSource(n));this._source=n;r=this._data=n.data;i=n.sourceFormat;i===wp&&(this._offset=0,this._dimSize=t,this._data=r);u=lki[i===vp?i+"_"+n.seriesLayoutBy:i];c(this,u)}function act(){return this._data.length}function vct(n){return this._data[n]}function ad(n){for(var t=0;t<n.length;t++)this._data.push(n[t])}function vd(n,t,i){return null!=i?n[i]:n}function yct(n,t,i,r){return yd(n[r],this._dimensionInfos[t])}function yd(n,t){var r=t&&t.type,i;return"ordinal"===r?(i=t&&t.ordinalMeta,i?i.parseAndCollect(n):n):("time"===r&&"number"!=typeof n&&null!=n&&"-"!==n&&(n=+ga(n)),null==n||""===n?NaN:+n)}function se(n,t,i){var u,f,e,o,r;if(n&&(u=n.getRawDataItem(t),null!=u))return o=n.getProvider().getSource().sourceFormat,r=n.getDimensionInfo(i),r&&(f=r.name,e=r.index),aki[o](u,t,e,f)}function hoi(n,t,i){var u,r;if(n&&(u=n.getProvider().getSource().sourceFormat,u===de||u===yp))return r=n.getRawDataItem(t),u!==de||f(r)||(r=null),r?r[i]:void 0}function kh(n){return new pct(n)}function pct(n){n=n||{};this._reset=n.reset;this._plan=n.plan;this._count=n.count;this._onDirty=n.onDirty;this._dirty=!0;this.context}function wct(n,t,i,r,u,f){drt.reset(i,r,u,f);n._callingProgress=t;n._callingProgress({start:i,end:r,count:r-i,next:drt.next},n.context)}function coi(n,t){var i,f,r;return n._dueIndex=n._outputDueEnd=n._dueEnd=0,n._settedOutputEnd=null,!t&&n._reset&&(i=n._reset(n.context),i&&i.progress&&(f=i.forceFirstProgress,i=i.progress),u(i)&&!i.length&&(i=null)),n._progress=i,n._modBy=n._modDataCount=null,r=n._downstream,r&&r.dirty(),f}function bct(n){var t=n.name;bk(n)||(n.name=loi(n)||t)}function loi(n){var i=n.getRawData(),u=i.mapDimension("seriesName",!0),r=[];return t(u,function(n){var t=i.getDimensionInfo(n);t.displayName&&r.push(t.displayName)}),r.join(" ")}function aoi(n){return n.model.getRawData().count()}function voi(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),yoi}function yoi(n,t){n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function kct(n,i){t(n.CHANGABLE_METHODS,function(t){n.wrapMethod(t,p(poi,i))})}function poi(n){var t=pd(n);t&&t.setOutputEnd(this.count())}function pd(n){var r=(n.ecModel||{}).scheduler,u=r&&r.getPipeline(n.uid),t,i;if(u)return t=u.currentTask,t&&(i=t.agentStubMap,i&&(t=i.get(n.uid))),t}function li(){this.group=new o;this.uid=ka("viewChart");this.renderTask=kh({plan:woi,reset:boi});this.renderTask.context={view:this}}function wd(n,t){if(n&&(n.trigger(t),"group"===n.type))for(var i=0;i<n.childCount();i++)wd(n.childAt(i),t)}function dct(n,i,r){var u=va(n,i);null!=u?t(oi(u),function(t){wd(n.getItemGraphicEl(t),r)}):n.eachItemGraphicEl(function(n){wd(n,r)})}function woi(n){return pki(n.model)}function boi(n){var u=n.model,e=n.ecModel,o=n.api,t=n.payload,s=u.pipelineContext.progressiveRender,f=n.view,i=t&&tdt(t).updateMethod,r=s?"incrementalPrepareRender":i&&f[i]?i:"render";return"render"!==r&&f[r](u,e,o,t),wki[r]}function bd(n,t,i){function e(){a=(new Date).getTime();r=null;n.apply(h,c||[])}var o,s,h,c,u,l=0,a=0,r=null,f;return t=t||0,f=function(){o=(new Date).getTime();h=this;c=arguments;var n=u||t,f=u||i;u=null;s=o-(f?l:a)-n;clearTimeout(r);f?r=setTimeout(e,n):s>=0?e():r=setTimeout(e,-s);l=o},f.clear=function(){r&&(clearTimeout(r),r=null)},f.debounceNextCall=function(n){u=n},f}function koi(n,t,i,r){var u=n[t];if(u){var f=u[idt]||u,e=u[udt],o=u[rdt];if(o!==i||e!==r){if(null==i||!r)return n[t]=f;u=n[t]=bd(f,i,"debounce"===r);u[idt]=f;u[udt]=r;u[rdt]=i}return u}}function iv(n,t,i,r){this.ecInstance=n;this.api=t;this.unfinished;var i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice();this._allHandlers=i.concat(r);this._stageTaskMap=a()}function gct(n,i,r,u,f){function o(n,t){return n.setDirty&&(!n.dirtyMap||n.dirtyMap.get(t.__pipeline.id))}f=f||{};var e;t(i,function(t){var a,s,h;if(!f.visualType||f.visualType===t.visualType){var c=n._stageTaskMap.get(t.uid),l=c.seriesTaskMap,i=c.overallTask;i?(s=i.agentStubMap,s.each(function(n){o(f,n)&&(n.dirty(),a=!0)}),a&&i.dirty(),nut(i,u),h=n.getPerformArgs(i,f.block),s.each(function(n){n.perform(h)}),e|=i.perform(h)):l&&l.each(function(i){o(f,i)&&i.dirty();var s=n.getPerformArgs(i,f.block);s.skip=!t.performRawSeries&&r.isSeriesFiltered(i.context.model);nut(i,u);e|=i.perform(s)})}});n.unfinished|=e}function doi(n,t,i,r,u){function e(i){var e=i.uid,o=f.get(e)||f.set(e,kh({plan:usi,reset:fsi,count:esi}));o.context={model:i,ecModel:r,api:u,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:n};rv(n,i,o)}var f=i.seriesTaskMap||(i.seriesTaskMap=a()),o=t.seriesType,s=t.getTargetSeries,h;t.createOnAllSeries?r.eachRawSeries(e):o?r.eachRawSeriesByType(o,e):s&&s(r,u).each(e);h=n._pipelineMap;f.each(function(n,t){h.get(t)||(n.dispose(),f.removeKey(t))})}function goi(n,i,r,u,f){function s(t){var r=t.uid,i=o.get(r);i||(i=o.set(r,kh({reset:tsi,onDirty:rsi})),e.dirty());i.context={model:t,overallProgress:h,modifyOutputEnd:y};i.agent=e;i.__block=h;rv(n,t,i)}var e=r.overallTask=r.overallTask||kh({reset:nsi}),v;e.context={ecModel:u,api:f,overallReset:i.overallReset,scheduler:n};var o=e.agentStubMap=e.agentStubMap||a(),c=i.seriesType,l=i.getTargetSeries,h=!0,y=i.modifyOutputEnd;c?u.eachRawSeriesByType(c,s):l?l(u,f).each(s):(h=!1,t(u.getSeries(),s));v=n._pipelineMap;o.each(function(n,t){v.get(t)||(n.dispose(),e.dirty(),o.removeKey(t))})}function nsi(n){n.overallReset(n.ecModel,n.api,n.payload)}function tsi(n){return n.overallProgress&&isi}function isi(){this.agent.dirty();this.getDownstream().dirty()}function rsi(){this.agent&&this.agent.dirty()}function usi(n){return n.plan&&n.plan(n.model,n.ecModel,n.api,n.payload)}function fsi(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=oi(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?i(t,function(n,t){return nlt(t)}):fdt}function nlt(n){return function(t,i){var f=i.data,r=i.resetDefines[n],u;if(r&&r.dataEach)for(u=t.start;u<t.end;u++)r.dataEach(f,u);else r&&r.progress&&r.progress(t,f)}}function esi(n){return n.data.count()}function rv(n,t,i){var u=t.uid,r=n._pipelineMap.get(u);r.head||(r.head=i);r.tail&&r.tail.pipe(i);r.tail=i;i.__idxInPipeline=r.count++;i.__pipeline=r}function osi(n){iw=null;try{n(ds,tut)}catch(t){}return iw}function tlt(n,t){for(var i in t.prototype)n[i]=pu}function ns(n){return function(t,i,r){t=t&&t.toLowerCase();st.prototype[n].call(this,t,i,r)}}function dh(){st.call(this)}function gh(n,t,i){function u(n,t){return n.__prio-t.__prio}var f,r,t,e;i=i||{};"string"==typeof t&&(t=kdt[t]);this.id;this.group;this._dom=n;f="canvas";r=this._zr=wk(n,{renderer:i.renderer||f,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=bd(ut(r.flush,r),17);t=v(t);t&&gkt(t,!0);this._theme=t;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new eu;e=this._api=asi(this);ua(ew,u);ua(uut,u);this._scheduler=new iv(this,e,uut,ew);st.call(this);this._messageCenter=new dh;this._initEvents();this.resize=ut(this.resize,this);this._pendingActions=[];r.animation.on("frame",this._onframe,this);ssi(r,this);cb(this)}function ilt(n,t,i){var f,e=this._model,o=this._coordSysMgr.getCoordinateSystems(),r,u;for(t=ya(e,t),r=0;r<o.length;r++)if(u=o[r],u[n]&&null!=(f=u[n](e,t,i)))return f}function nc(n){var i=n._model,t=n._scheduler;t.restorePipelines(i);t.prepareStageTasks();elt(n,"component",i,t);elt(n,"chart",i,t);t.plan()}function rlt(n,t,i,r,u){function h(r){r&&r.__alive&&r[t]&&r[t](r.__model,o,n._api,i)}var o=n._model,e,s,f;if(!r)return void ct(n._componentsViews.concat(n._chartsViews),h);e={};e[r+"Id"]=i[r+"Id"];e[r+"Index"]=i[r+"Index"];e[r+"Name"]=i[r+"Name"];s={mainType:r,query:e};u&&(s.subType=u);f=i.excludeSeriesId;null!=f&&(f=a(oi(f)));o&&o.eachComponent(s,function(t){f&&null!=f.get(t.id)||h(n["series"===r?"_chartsMap":"_componentsMap"][t.__viewId])},n)}function ult(n,t){var i=n._chartsMap,r=n._scheduler;t.eachSeries(function(n){r.updateStreamModes(n,i[n.__viewId])})}function flt(n,t){var f=n.type,p=n.escapeConnect,y=uw[f],s=y.actionInfo,u=(s.update||"update").split(":"),e=u.pop(),h,a,r,o,v;u=null!=u[0]&&sdt(u[0]);this[br]=!0;h=[n];a=!1;n.batch&&(a=!0,h=i(n.batch,function(t){return t=l(c({},t),n),t.batch=null,t}));o=[];v="highlight"===f||"downplay"===f;ct(h,function(n){r=y.action(n,this._model,this._api);r=r||c({},n);r.type=s.event||r.type;o.push(r);v?rlt(this,e,n,"series"):u&&rlt(this,e,n,u.main,u.sub)},this);"none"===e||v||u||(this[af]?(nc(this),lu.update.call(this,n),this[af]=!1):lu[e].call(this,n));r=a?{type:s.event||f,escapeConnect:p,batch:o}:o[0];this[br]=!1;!t&&this._messageCenter.trigger(r.type,r)}function uv(n){for(var i,t=this._pendingActions;t.length;)i=t.shift(),flt.call(this,i,n)}function fv(n){n||this.trigger("updated")}function ssi(n,t){n.on("rendered",function(){t.trigger("rendered");!n.animation.isFinished()||t[af]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")})}function elt(n,t,i,r){function c(n){var f="_ec_"+n.id+"_"+n.type,t=s[f],u,c;t||(u=sdt(n.type),c=e?wr.getClass(u.main,u.sub):li.getClass(u.sub),t=new c,t.init(i,h),s[f]=t,o.push(t),l.add(t.group));n.__viewId=t.__id=f;t.__alive=!0;t.__model=n;t.group.__ecComponentInfo={mainType:n.mainType,index:n.componentIndex};!e&&r.prepareView(t,n,i,h)}for(var f,e="component"===t,o=e?n._componentsViews:n._chartsViews,s=e?n._componentsMap:n._chartsMap,l=n._zr,h=n._api,u=0;u<o.length;u++)o[u].__alive=!1;for(e?i.eachComponent(function(n,t){"series"!==n&&c(t)}):i.eachSeries(c),u=0;u<o.length;)f=o[u],f.__alive?u++:(!e&&f.renderTask.dispose(),l.remove(f.group),f.dispose(i,h),o.splice(u,1),delete s[f.__id],f.__id=f.group.__ecComponentInfo=null)}function kd(n){n.clearColorPalette();n.eachSeries(function(n){n.clearColorPalette()})}function olt(n,t,i,r){hsi(n,t,i,r);ct(n._chartsViews,function(n){n.__alive=!1});dd(n,t,i,r);ct(n._chartsViews,function(n){n.__alive||n.remove(t,i)})}function hsi(n,t,i,r,u){ct(u||n._componentsViews,function(n){var u=n.__model;n.render(u,t,i,r);slt(u,n)})}function dd(n,t,i,r,u){var e,f=n._scheduler;t.eachSeries(function(t){var i=n._chartsMap[t.__viewId],o;i.__alive=!0;o=i.renderTask;f.updatePayload(o,r);u&&u.get(t.uid)&&o.dirty();e|=o.perform(f.getPerformArgs(o));i.group.silent=!!t.get("silent");slt(t,i);lsi(t,i)});f.unfinished|=e;csi(n._zr,t);kki(n._zr.dom,t)}function gd(n,t){ct(bdt,function(i){i(n,t)})}function csi(n,t){var i=n.storage,r=0;i.traverse(function(n){n.isGroup||r++});r>t.get("hoverLayerThreshold")&&!e.node&&i.traverse(function(n){n.isGroup||(n.useHoverLayer=!0)})}function lsi(n,t){var i=n.get("blendMode")||null;t.group.traverse(function(n){n.isGroup||n.style.blend!==i&&n.setStyle("blend",i);n.eachPendingDisplayable&&n.eachPendingDisplayable(function(n){n.setStyle("blend",i)})})}function slt(n,t){var i=n.get("z"),r=n.get("zlevel");t.group.traverse(function(n){"group"!==n.type&&(null!=i&&(n.z=i),null!=r&&(n.zlevel=r))})}function asi(n){var t=n._coordSysMgr;return c(new sct(n),{getCoordinateSystems:ut(t.getCoordinateSystems,t),getComponentByElement:function(t){for(;t;){var i=t.__ecComponentInfo;if(null!=i)return n._model.getComponent(i.mainType,i.index);t=t.parent}}})}function vsi(n){function i(n,i){for(var u,r=0;r<n.length;r++)u=n[r],u[t]=i}var r=0,u=1,f=2,t="__connectUpdateStatus";ct(fw,function(e,o){n._messageCenter.on(o,function(e){if(ow[n.group]&&n[t]!==r){if(e&&e.escapeConnect)return;var s=n.makeActionFromEvent(e),o=[];ct(to,function(t){t!==n&&t.group===n.group&&o.push(t)});i(o,r);ct(o,function(n){n[t]!==u&&n.dispatchAction(s)});i(o,f)}})})}function ysi(n,t,i){var u=ng(n),r;return u?u:(r=new gh(n,t,i),r.id="ec_"+rdi++,to[r.id]=r,tst(n,eut,r.id),vsi(r),r)}function psi(n){if(u(n)){var t=n;n=null;ct(t,function(t){null!=t.group&&(n=t.group)});n=n||"g_"+udi++;ct(t,function(t){t.group=n})}return ow[n]=!0,n}function hlt(n){ow[n]=!1}function wsi(n){"string"==typeof n?n=to[n]:n instanceof gh||(n=ng(n));n instanceof gh&&!n.isDisposed()&&n.dispose()}function ng(n){return to[fui(n,eut)]}function bsi(n){return to[n]}function tg(n,t){kdt[n]=t}function rf(n){wdt.push(n)}function he(n,t){ig(uut,n,t,hdt)}function ksi(n){bdt.push(n)}function pt(n,t,i){"function"==typeof t&&(i=t,t="");var r=sl(n)?n.type:[n,n={event:t}][0];n.event=(n.event||r).toLowerCase();t=n.event;ndi(ydt.test(r)&&ydt.test(t));uw[r]||(uw[r]={action:i,actionInfo:n});fw[t]=r}function dsi(n,t){eu.register(n,t)}function gsi(n){var t=eu.get(n);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function tc(n,t){ig(ew,n,t,ldt,"layout")}function ic(n,t){ig(ew,n,t,vdt,"visual")}function ig(n,t,i,r,u){(tdi(t)||sl(t))&&(i=t,t=r);var f=iv.wrapStageHandler(i,u);return f.__prio=t,f.__raw=i,n.push(f),f}function clt(n,t){fut[n]=t}function uf(n){return nt.extend(n)}function su(n){return wr.extend(n)}function llt(n){return ks.extend(n)}function alt(n){return li.extend(n)}function nhi(n){net("createCanvas",n)}function thi(n,t,i){t.geoJson&&!t.features&&(i=t.specialAreas,t=t.geoJson);"string"==typeof t&&(t="undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")());ddt[n]={geoJson:t,specialAreas:i}}function ihi(n){return ddt[n]}function vlt(n){return n}function rc(n,t,i,r,u){this._old=n;this._new=t;this._oldKeyGetter=i||vlt;this._newKeyGetter=r||vlt;this.context=u}function ylt(n,t,i,r,u){for(var o,e,f=0;f<n.length;f++)o="_ec_"+u[r](n[f],f),e=t[o],null==e?(i.push(o),t[o]=f):(e.length||(t[o]=e=[e]),e.push(f))}function rhi(n){var u={},i=u.encode={},c=a(),f=[],r=[],e,h,o,s;return t(n.dimensions,function(t){var u=n.getDimensionInfo(t),e=u.coordDim,o;e&&(o=i[e],i.hasOwnProperty(e)||(o=i[e]=[]),o[u.coordDimIndex]=t,u.isExtraCoord||(c.set(e,1),fhi(u.type)&&(f[0]=t)),u.defaultTooltip&&r.push(t));ngt.each(function(n,t){var f=i[t],r;i.hasOwnProperty(t)||(f=i[t]=[]);r=u.otherDims[t];null!=r&&r!==!1&&(f[r]=u.name)})}),e=[],h={},c.each(function(n,t){var r=i[t];h[t]=r[0];e=e.concat(r)}),u.dataDimsOnCoord=e,u.encodeFirstDimNotExtra=h,o=i.label,o&&o.length&&(f=o.slice()),s=i.tooltip,s&&s.length?r=s.slice():r.length||(r=f.slice()),i.defaultedLabel=f,i.defaultedTooltip=r,u}function uhi(n){return"category"===n?"ordinal":"time"===n?"time":"float"}function fhi(n){return!("ordinal"===n||"time"===n)}function ev(n){return n._rawCount>65535?tgt:sdi}function ehi(n){var t=n.constructor;return t===Array?n.slice():new t(n)}function plt(n,i){t(hdi.concat(i.__wrappedMethods||[]),function(t){i.hasOwnProperty(t)&&(n[t]=i[t])});n.__wrappedMethods=i.__wrappedMethods;t(cdi,function(t){n[t]=v(i[t])});n._calculationInfo=c(i._calculationInfo)}function ohi(n){var i=n._invertedIndicesMap;t(i,function(t,r){var e=n._dimensionInfos[r],f=e.ordinalMeta,u;if(f){for(t=i[r]=new tgt(f.categories.length),u=0;u<t.length;u++)t[u]=NaN;for(u=0;u<n._count;u++)t[n.get(r,u)]=u}})}function wlt(n,t,i){var r,u;if(null!=t){var f=n._chunkSize,s=Math.floor(i/f),h=i%f,e=n.dimensions[t],o=n._storage[e][s];o&&(r=o[h],u=n._dimensionInfos[e].ordinalMeta,u&&u.categories.length&&(r=u.categories[r]))}return r}function uc(n){return n}function fc(n){return n<this._count&&n>=0?this._indices[n]:-1}function rg(n,t){var i=n._idList[t];return null==i&&(i=wlt(n,n._idDimIdx,t)),null==i&&(i=edi+t),i}function ug(n){return u(n)||(n=[n]),n}function blt(n,t){var f=n.dimensions,u=new bi(i(f,n.getDimensionInfo,n),n.hostModel),r;plt(u,n);for(var s=u._storage={},e=n._storage,o=0;o<f.length;o++)r=f[o],e[r]&&(y(t,r)>=0?(s[r]=shi(e[r]),u._rawExtent[r]=fg(),u._extent[r]=null):s[r]=e[r]);return u}function shi(n){for(var i=new Array(n.length),t=0;t<n.length;t++)i[t]=ehi(n[t]);return i}function fg(){return[1/0,-1/0]}function klt(n,i,r){function tt(n,t,i){null!=ngt.get(t)?n.otherDims[t]=i:(n.coordDim=t,n.coordDimIndex=i,it.set(t,!0))}var s,rt,h,u,ut;rr.isInstance(i)||(i=rr.seriesDataToSource(i));r=r||{};n=(n||[]).slice();for(var y=(r.dimsDef||[]).slice(),d=a(r.encodeDef),b=a(),it=a(),e=[],g=hhi(i,n,y,r.dimCount),o=0;g>o;o++){var p=y[o]=c({},f(y[o])?y[o]:{name:y[o]}),k=p.name,u=e[o]={otherDims:{}};null!=k&&null==b.get(k)&&(u.name=u.displayName=k,b.set(k,o));null!=p.type&&(u.type=p.type);null!=p.displayName&&(u.displayName=p.displayName)}d.each(function(n,i){n=oi(n).slice();var r=d.set(i,[]);t(n,function(n,t){dt(n)&&(n=b.get(n));null!=n&&g>n&&(r[t]=n,tt(e[n],i,t))})});s=0;t(n,function(n){var r,n,i,o,c,u,h;if(dt(n)?(r=n,n={}):(r=n.name,c=n.ordinalMeta,n.ordinalMeta=null,n=v(n),n.ordinalMeta=c,i=n.dimsDef,o=n.otherDims,n.name=n.coordDim=n.coordDimIndex=n.dimsDef=n.otherDims=null),u=oi(d.get(r)),!u.length)for(h=0;h<(i&&i.length||1);h++){for(;s<e.length&&null!=e[s].coordDim;)s++;s<e.length&&u.push(s++)}t(u,function(t,u){var s=e[t],h;(tt(l(s,n),r,u),null==s.name&&i)&&(h=i[u],f(h)||(h={name:h}),s.name=s.displayName=h.name,s.defaultTooltip=h.defaultTooltip);o&&l(s.otherDims,o)})});var nt=r.generateCoord,w=r.generateCoordCount,ft=null!=w;for(w=nt?w||1:0,rt=nt||"value",h=0;g>h;h++)u=e[h]=e[h]||{},ut=u.coordDim,null==ut&&(u.coordDim=dlt(rt,it,ft),u.coordDimIndex=0,(!nt||0>=w)&&(u.isExtraCoord=!0),w--),null==u.name&&(u.name=dlt(u.coordDim,b)),null==u.type&&pei(i,h,u.name)&&(u.type="ordinal");return e}function hhi(n,i,r,u){var f=Math.max(n.dimensionsDetectCount||1,i.length,r.length,u||0);return t(i,function(n){var t=n.dimsDef;t&&(f=Math.max(f,t.length))}),f}function dlt(n,t,i){if(i||null!=t.get(n)){for(var r=0;null!=t.get(n+r);)r++;n+=r}return t.set(n,!0),n}function glt(n,i,r){r=r||{};var f,u,h,e,o=r.byIndex,c=r.stackedCoordDimension,v=!(!n||!n.get("stack"));if(t(i,function(n,t){dt(n)&&(i[t]=n={name:n});v&&!n.isExtraCoord&&(o||f||!n.ordinalMeta||(f=n),u||"ordinal"===n.type||"time"===n.type||c&&c!==n.coordDim||(u=n))}),!u||o||f||(o=!0),u){h="__\x00ecstackresult";e="__\x00ecstackedover";f&&(f.createInvertedIndices=!0);var l=u.coordDim,a=u.type,s=0;t(i,function(n){n.coordDim===l&&s++});i.push({name:h,coordDim:l,coordDimIndex:s,type:a,isExtraCoord:!0,isCalculationCoord:!0});s++;i.push({name:e,coordDim:e,coordDimIndex:s,type:a,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:u&&u.name,stackedByDimension:f&&f.name,isStackedByIndex:o,stackedOverDimension:e,stackResultDimension:h}}function ff(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function nat(n,t){return ff(n,t)?n.getCalculationInfo("stackResultDimension"):t}function eg(n,r,u){var f,l,o,a,s,v;u=u||{};rr.isInstance(n)||(n=rr.seriesDataToSource(n));var h,y=r.get("coordinateSystem"),c=eu.get(y),e=ict(r);return e&&(h=i(e.coordSysDims,function(n){var t={name:n},i=e.axisMap.get(n),r;return i&&(r=i.get("type"),t.type=uhi(r)),t})),h||(h=c&&(c.getDimensionsInfo?c.getDimensionsInfo():c.dimensions.slice())||["x","y"]),o=cw(n,{coordDimensions:h,generateCoord:u.generateCoord}),e&&t(o,function(n,t){var r=n.coordDim,i=e.categoryAxisMap.get(r);i&&(null==f&&(f=t),n.ordinalMeta=i.getOrdinalMeta());null!=n.otherDims.itemName&&(l=!0)}),l||null==f||(o[f].otherDims.itemName=0),a=glt(r,o),s=new bi(o,r),s.setCalculationInfo(a),v=null!=f&&chi(n)?function(n,t,i,r){return r===f?i:this.defaultDimValueGetter(n,t,i,r)}:null,s.hasItemOption=!1,s.initData(n,null,v),s}function chi(n){if(n.sourceFormat===de){var t=lhi(n.data||[]);return null!=t&&!u(la(t))}}function lhi(n){for(var t=0;t<n.length&&null==n[t];)t++;return n[t]}function et(n){this._setting=n||{};this._extent=[1/0,-1/0];this._interval=0;this.init&&this.init.apply(this,arguments)}function ec(n){this.categories=n.categories||[];this._needCollect=n.needCollect;this._deduplication=n.deduplication;this._map}function tat(n){return n._map||(n._map=a(n.categories))}function ahi(n){return f(n)&&null!=n.value?n.value:n+""}function vhi(n,t,i,r){var f={},s=n[1]-n[0],u=f.interval=ud(s/t,!0),e,o;return null!=i&&i>u&&(u=f.interval=i),null!=r&&u>r&&(u=f.interval=r),e=f.intervalPrecision=iat(u),o=f.niceTickExtent=[sut(Math.ceil(n[0]/u)*u,e),sut(Math.floor(n[1]/u)*u,e)],uat(o,n),f}function iat(n){return da(n)+2}function rat(n,t,i){n[t]=Math.max(Math.min(n[t],i[1]),i[0])}function uat(n,t){isFinite(n[0])||(n[0]=t[0]);!isFinite(n[1])&&(n[1]=t[1]);rat(n,0,t);rat(n,1,t);n[0]>n[1]&&(n[0]=n[1])}function yhi(n,t,i,r){var u=[],e,f;if(!n)return u;for(e=1e4,t[0]<i[0]&&u.push(t[0]),f=i[0];f<=i[1]&&(u.push(f),f=sut(f+n,r),f!==u[u.length-1]);)if(u.length>e)return[];return t[1]>(u.length?u[u.length-1]:i[1])&&u.push(t[1]),u}function og(n){return n.get("stack")||ldi+n.seriesIndex}function sg(n){return n.dim+n.index}function fat(n,t){var i=[];return t.eachSeriesByType(n,function(n){oat(n)&&!sat(n)&&i.push(n)}),i}function hg(n){var i=[];return t(n,function(n){var f=n.getData(),e=n.coordinateSystem,t=e.getBaseAxis(),u=t.getExtent(),r="category"===t.type?t.getBandWidth():Math.abs(u[1]-u[0])/f.count(),o=k(n.get("barWidth"),r),s=k(n.get("barMaxWidth"),r),h=n.get("barGap"),c=n.get("barCategoryGap");i.push({bandWidth:r,barWidth:o,barMaxWidth:s,barGap:h,barCategoryGap:c,axisKey:sg(t),stackId:og(n)})}),phi(i)}function phi(n){var r={},i;return t(n,function(n){var h=n.axisKey,c=n.bandWidth,t=r[h]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},u=t.stacks,i,f,e,o,s;r[h]=t;i=n.stackId;u[i]||t.autoWidthCount++;u[i]=u[i]||{width:0,maxWidth:0};f=n.barWidth;f&&!u[i].width&&(u[i].width=f,f=Math.min(t.remainedWidth,f),t.remainedWidth-=f);e=n.barMaxWidth;e&&(u[i].maxWidth=e);o=n.barGap;null!=o&&(t.gap=o);s=n.barCategoryGap;null!=s&&(t.categoryGap=s)}),i={},t(r,function(n,r){var c,s,l;i[r]={};var h=n.stacks,v=n.bandWidth,a=k(n.categoryGap,v),f=k(n.gap,1),o=n.remainedWidth,e=n.autoWidthCount,u=(o-a)/(e+(e-1)*f);u=Math.max(u,0);t(h,function(n){var t=n.maxWidth;t&&u>t&&(t=Math.min(t,o),n.width&&(t=Math.min(t,n.width)),o-=t,n.width=t,e--)});u=(o-a)/(e+(e-1)*f);u=Math.max(u,0);s=0;t(h,function(n){n.width||(n.width=u);c=n;s+=n.width*(1+f)});c&&(s-=c.width*f);l=-s/2;t(h,function(n,t){i[r][t]=i[r][t]||{offset:l,width:n.width};l+=n.width*(1+f)})}),i}function eat(n,t,i){if(n&&t){var r=n[sg(t)];return null!=r&&null!=i&&(r=r[og(i)]),r}}function whi(n,i){var u=fat(n,i),f=hg(u),r={};t(u,function(n){var t=n.getData(),a=n.coordinateSystem,v=a.getBaseAxis(),i=og(n),it=f[sg(v)][i],k=it.offset,d=it.width,g=a.getOtherAxis(v),y=n.get("barMinHeight")||0,l,u,w,b,nt,tt,e,o,s;r[i]=r[i]||[];t.setLayout({offset:k,size:d});for(var rt=t.mapDimension(g.dim),ut=t.mapDimension(v.dim),p=ff(t,rt),ft=g.isHorizontal(),h=hat(v,g,p),c=0,et=t.count();et>c;c++)l=t.get(rt,c),u=t.get(ut,c),isNaN(l)||(w=l>=0?"p":"n",b=h,p&&(r[i][u]||(r[i][u]={p:h,n:h}),b=r[i][u][w]),ft?(s=a.dataToPoint([l,u]),nt=b,tt=s[1]+k,e=s[0]-h,o=d,Math.abs(e)<y&&(e=(0>e?-1:1)*y),p&&(r[i][u][w]+=e)):(s=a.dataToPoint([u,l]),nt=s[0]+k,tt=b,e=d,o=s[1]-h,Math.abs(o)<y&&(o=(0>=o?-1:1)*y),p&&(r[i][u][w]+=o)),t.setItemLayout(c,{x:nt,y:tt,width:e,height:o}))},this)}function oat(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function sat(n){return n.pipelineContext&&n.pipelineContext.large}function hat(n,t,i){return y(n.getAxesOnZeroOf(),t)>=0||i?t.toGlobalCoord(t.dataToCoord(0)):t.getGlobalExtent()[0]}function ov(n,t){return bdi(n,wdi(t))}function bhi(n,i){var h,e,c,s=n.type,r=i.getMin(),f=i.getMax(),w=null!=r,b=null!=f,o=n.getExtent(),l,y,a,p,v;return"ordinal"===s?h=i.getCategories().length:(e=i.get("boundaryGap"),u(e)||(e=[e||0,e||0]),"boolean"==typeof e[0]&&(e=[0,0]),e[0]=k(e[0],1),e[1]=k(e[1],1),c=o[1]-o[0]||Math.abs(o[0])),null==r&&(r="ordinal"===s?h?0:NaN:o[0]-e[0]*c),null==f&&(f="ordinal"===s?h?h-1:NaN:o[1]+e[1]*c),"dataMin"===r?r=o[0]:"function"==typeof r&&(r=r({min:o[0],max:o[1]})),"dataMax"===f?f=o[1]:"function"==typeof f&&(f=f({min:o[0],max:o[1]})),(null==r||!isFinite(r))&&(r=NaN),(null==f||!isFinite(f))&&(f=NaN),n.setBlank(hh(r)||hh(f)||"ordinal"===s&&!n.getOrdinalMeta().categories.length),i.getNeedCrossZero()&&(r>0&&f>0&&!w&&(r=0),0>r&&0>f&&!b&&(f=0)),l=i.ecModel,l&&"time"===s&&(a=fat("bar",l),(t(a,function(n){y|=n.getBaseAxis()===i.axis}),y)&&(p=hg(a),v=khi(r,f,i,p),r=v.min,f=v.max)),[r,f]}function khi(n,i,r,u){var s=r.axis.getExtent(),a=s[1]-s[0],o=eat(u,r.axis),f,e;if(void 0===o)return{min:n,max:i};f=1/0;t(o,function(n){f=Math.min(n.offset,f)});e=-1/0;t(o,function(n){e=Math.max(n.offset+n.width,e)});f=Math.abs(f);e=Math.abs(e);var h=f+e,c=i-n,v=1-(f+e)/a,l=c/v-c;return i+=l*(e/h),n-=l*(f/h),{min:n,max:i}}function cg(n,t){var u=bhi(n,t),f=null!=t.getMin(),e=null!=t.getMax(),o=t.get("splitNumber"),i,r;"log"===n.type&&(n.base=t.get("logBase"));i=n.type;n.setExtent(u[0],u[1]);n.niceExtent({splitNumber:o,fixMin:f,fixMax:e,minInterval:"interval"===i||"time"===i?t.get("minInterval"):null,maxInterval:"interval"===i||"time"===i?t.get("maxInterval"):null});r=t.get("interval");null!=r&&n.setInterval&&n.setInterval(r)}function cat(n,t){if(t=t||n.get("type"))switch(t){case"category":return new aw(n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),[1/0,-1/0]);case"value":return new au;default:return(et.getClass(t)||au).create(n)}}function dhi(n){var t=n.scale.getExtent(),i=t[0],r=t[1];return!(i>0&&r>0||0>i&&0>r)}function oc(n){var t=n.getLabelModel().get("formatter"),i="category"===n.type?n.scale.getExtent()[0]:null;return"string"==typeof t?t=function(n){return function(t){return n.replace("{value}",null!=t?t:"")}}(t):"function"==typeof t?function(r,u){return null!=i&&(u=r-i),t(lg(n,r),u)}:function(t){return n.scale.getLabel(t)}}function lg(n,t){return"category"===n.type?n.scale.getLabel(t):t}function ghi(n){var l=n.model,r=n.scale,u,t,e,o,i;if(l.get("axisLabel.show")&&!r.isBlank()){e="category"===n.type;o=r.getExtent();e?t=r.count():(u=r.getTicks(),t=u.length);var f,s=n.getLabelModel(),a=oc(n),h=1;for(t>40&&(h=Math.ceil(t/40)),i=0;t>i;i+=h){var v=u?u[i]:o[0]+i,y=a(v),p=s.getTextRect(y),c=nci(p,s.get("rotate")||0);f?f.union(c):f=c}return f}}function nci(n,t){var i=t*Math.PI/180,r=n.plain(),u=r.width,f=r.height,e=u*Math.cos(i)+f*Math.sin(i),o=u*Math.sin(i)+f*Math.cos(i);return new d(r.x,r.y,e,o)}function tci(n,t){if("image"!==this.type){var i=this.style,r=this.shape;r&&"line"===r.symbolType?i.stroke=n:this.__isEmptyBrush?(i.stroke=n,i.fill=t||"#fff"):(i.fill&&(i.fill=n),i.stroke&&(i.stroke=n));this.dirty(!1)}}function ts(n,t,i,r,u,f,e){var s=0===n.indexOf("empty"),o;return s&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),o=0===n.indexOf("image://")?bst(n.slice(8),new d(t,i,r,u),e?"center":"cover"):0===n.indexOf("path://")?dk(n.slice(7),{},new d(t,i,r,u),e?"center":"cover"):new fgi({shape:{symbolType:n,x:t,y:i,width:r,height:u}}),o.__isEmptyBrush=s,o.setColor=tci,o.setColor(f),o}function ici(n){return eg(n.getSource(),n)}function rci(n,t){var i=t,r;return g.isInstance(t)||(i=new g(t),rt(i,aut)),r=cat(i),r.setExtent(n[0],n[1]),cg(r,i),r}function uci(n){rt(n,aut)}function lat(n,t){return Math.abs(n-t)<sgi}function aat(n,t,i){var o=0,r=n[0],f,e,u;if(!r)return!1;for(f=1;f<n.length;f++)e=n[f],o+=uu(r[0],r[1],e[0],e[1],t,i),r=e;return u=n[0],lat(r[0],u[0])&&lat(r[1],u[1])||(o+=uu(r[0],r[1],u[0],u[1],t,i)),0!==o}function ag(n,t,i){if(this.name=n,this.geometries=t,i)i=[i[0],i[1]];else{var r=this.getBoundingRect();i=[r.x+r.width/2,r.y+r.height/2]}this.center=i}function fci(n){var r,o,f,u,i,c;if(!n.UTF8Encoding)return n;for(r=n.UTF8Scale,null==r&&(r=1024),o=n.features,f=0;f<o.length;f++)for(var l=o[f],e=l.geometry,s=e.coordinates,h=e.encodeOffsets,t=0;t<s.length;t++)if(u=s[t],"Polygon"===e.type)s[t]=vat(u,h[t],r);else if("MultiPolygon"===e.type)for(i=0;i<u.length;i++)c=u[i],u[i]=vat(c,h[t][i],r);return n.UTF8Encoding=!1,n}function vat(n,t,i){for(var r,u,e=[],o=t[0],s=t[1],f=0;f<n.length;f+=2)r=n.charCodeAt(f)-64,u=n.charCodeAt(f+1)-64,r=r>>1^-(1&r),u=u>>1^-(1&u),r+=o,u+=s,o=r,s=u,e.push([r/i,u/i]);return e}function eci(n){return"category"===n.type?sci(n):cci(n)}function oci(n,t){return"category"===n.type?hci(n,t):{ticks:n.scale.getTicks()}}function sci(n){var t=n.getLabelModel(),i=yat(n,t);return!t.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}function yat(n,t){var f=pat(n,"labels"),i=gat(t),e=wat(f,i),r,u;return e?e:(fr(i)?r=dat(n,i):(u="auto"===i?lci(n):i,r=kat(n,u)),bat(f,i,{labels:r,labelCategoryInterval:u}))}function hci(n,t){var o=pat(n,"ticks"),r=gat(t),s=wat(o,r),u,f,e;return s?s:(((!t.get("show")||n.scale.isBlank())&&(u=[]),fr(r))?u=dat(n,r,!0):"auto"===r?(e=yat(n,n.getLabelModel()),f=e.labelCategoryInterval,u=i(e.labels,function(n){return n.tickValue})):(f=r,u=kat(n,f,!0)),bat(o,r,{ticks:u,tickCategoryInterval:f}))}function cci(n){var t=n.scale.getTicks(),r=oc(n);return{labels:i(t,function(t,i){return{formattedLabel:r(t,i),rawLabel:n.scale.getLabel(t),tickValue:t}})}}function pat(n,t){return cl(n)[t]||(cl(n)[t]=[])}function wat(n,t){for(var i=0;i<n.length;i++)if(n[i].key===t)return n[i].value}function bat(n,t,i){return n.push({key:t,value:i}),i}function lci(n){var t=cl(n).autoInterval;return null!=t?t:cl(n).autoInterval=n.calculateCategoryInterval()}function aci(n){var h=vci(n),g=oc(n),v=(h.axisRotate-h.labelRotate)/180*Math.PI,y=n.scale,r=y.getExtent(),u=y.count(),c,f,e;if(r[1]-r[0]<1)return 0;c=1;u>40&&(c=Math.max(1,Math.floor(u/40)));for(var t=r[0],p=n.dataToCoord(t+1)-n.dataToCoord(t),nt=Math.abs(p*Math.cos(v)),tt=Math.abs(p*Math.sin(v)),l=0,a=0;t<=r[1];t+=c){var w=0,b=0,k=ie(g(t),h.font,"center","top");w=1.3*k.width;b=1.3*k.height;l=Math.max(l,w,7);a=Math.max(a,b,7)}f=l/nt;e=a/tt;isNaN(f)&&(f=1/0);isNaN(e)&&(e=1/0);var i=Math.max(0,Math.floor(Math.min(f,e))),o=cl(n.model),s=o.lastAutoInterval,d=o.lastTickCount;return null!=s&&null!=d&&Math.abs(s-i)<=1&&Math.abs(d-u)<=1&&s>i?i=s:(o.lastTickCount=u,o.lastAutoInterval=i),i}function vci(n){var t=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function kat(n,t,i){function o(n){l.push(i?n:{formattedLabel:a(n),rawLabel:s.getLabel(n),tickValue:n})}var a=oc(n),s=n.scale,r=s.getExtent(),c=n.getLabelModel(),l=[],u=Math.max((t||0)+1,1),f=r[0],v=s.count(),h,e;for(0!==f&&u>1&&v/u>2&&(f=Math.round(Math.ceil(f/u)*u)),h={min:c.get("showMinLabel"),max:c.get("showMaxLabel")},h.min&&f!==r[0]&&o(r[0]),e=f;e<=r[1];e+=u)o(e);return h.max&&e!==r[1]&&o(r[1]),l}function dat(n,i,r){var u=n.scale,e=oc(n),f=[];return t(u.getTicks(),function(n){var t=u.getLabel(n);i(n,t)&&f.push(r?n:{formattedLabel:e(n),rawLabel:t,tickValue:n})}),f}function gat(n){var t=n.get("interval");return null==t?"auto":t}function nvt(n,t){var r=n[1]-n[0],u=t,i=r/u/2;n[0]+=i;n[1]-=i}function yci(n,i,r,u,f){function s(n,t){return l?n>t:t>n}var c=i.length,o,e,h,l;n.onBand&&!u&&c&&(e=n.getExtent(),1===c?(i[0].coord=e[0],o=i[1]={coord:e[0]}):(h=i[1].coord-i[0].coord,t(i,function(n){n.coord-=h/2;var t=t||0;t%2>0&&(n.coord-=h/(2*(t+1)))}),o={coord:i[c-1].coord+h},i.push(o)),l=e[0]>e[1],s(i[0].coord,e[0])&&(f?i[0].coord=e[0]:i.shift()),f&&s(e[0],i[0].coord)&&i.unshift({coord:e[0]}),s(e[1],o.coord)&&(f?o.coord=e[1]:i.pop()),f&&s(o.coord,e[1])&&i.push({coord:e[1]}))}function pci(n){return this._axes[n]}function sc(n){al.call(this,n)}function tvt(n,t){return t.type||(t.data?"category":"value")}function vg(n,t){return n.getCoordSysModel()===t}function is(n,t,i){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(n,t,i);this.model=n}function ivt(n,t,i){var f;i.getAxesOnZeroOf=function(){return u?[u]:[]};var u,r=n[t],o=i.model,s=o.get("axisLine.onZero"),e=o.get("axisLine.onZeroAxisIndex");if(s){if(null!=e)return void(rvt(r[e])&&(u=r[e]));for(f in r)if(r.hasOwnProperty(f)&&rvt(r[f])){u=r[f];break}}}function rvt(n){return n&&"category"!==n.type&&"time"!==n.type&&dhi(n)}function wci(n,t){var i=n.getExtent(),r=i[0]+i[1];n.toGlobalCoord="x"===n.dim?function(n){return n+t}:function(n){return r-n+t};n.toLocalCoord="x"===n.dim?function(n){return n-t}:function(n){return r-n+t}}function uvt(n){return i(cgt,function(t){return n.getReferringComponents(t)[0]})}function fvt(n){return"cartesian2d"===n.get("coordinateSystem")}function evt(n,t){var i=n.mapDimension("defaultedLabel",!0),f=i.length,u,r,e;if(1===f)return se(n,t,i[0]);if(f){for(u=[],r=0;r<i.length;r++)e=se(n,t,i[r]),u.push(e);return u.join(" ")}}function bci(n,t,i,r,u,f){var e=i.getModel("label"),o=i.getModel("emphasis.label");yh(n,t,e,o,{labelFetcher:u,labelDataIndex:f,defaultText:evt(u.getData(),f),isRectText:!0,autoColor:r});ovt(n);ovt(t)}function ovt(n,t){"outside"===n.textPosition&&(n.textPosition=t)}function svt(n,t,i){i.style.text=null;ot(i,{shape:{width:0}},t,n,function(){i.parent&&i.parent.remove(i)})}function hvt(n,t,i){i.style.text=null;ot(i,{shape:{r:i.shape.r0}},t,n,function(){i.parent&&i.parent.remove(i)})}function cvt(n,t,i,r,u,f,e,o){var h=t.getItemVisual(i,"color"),y=t.getItemVisual(i,"opacity"),c=r.getModel("itemStyle"),a=r.getModel("emphasis.itemStyle").getBarItemStyle(),s,v;o||n.setShape("r",c.get("barBorderRadius")||0);n.useStyle(l({fill:h,opacity:y},c.getBarItemStyle()));s=r.getShallow("cursor");s&&n.attr("cursor",s);v=e?u.height>0?"bottom":"top":u.width>0?"left":"right";o||bci(n.style,a,r,h,f,i,v);nf(n,a)}function kci(n,t){var i=n.get(agi)||0;return Math.min(i,Math.abs(t.width),Math.abs(t.height))}function lvt(n,t,i){var r=n.getData(),f=[],e=r.getLayout("valueAxisHorizontal")?1:0,u;f[1-e]=r.getLayout("valueAxisStart");u=new vgi({shape:{points:r.getLayout("largePoints")},incremental:!!i,__startPoint:f,__valueIdx:e});t.add(u);dci(u,n,r)}function dci(n,t,i){var r=i.getVisual("borderColor")||i.getVisual("color"),u=t.getModel("itemStyle").getItemStyle(["color","borderColor"]);n.useStyle(u);n.style.fill=null;n.style.stroke=r;n.style.lineWidth=i.getLayout("barWidth")}function avt(n){var t={componentType:n.mainType};return t[n.mainType+"Index"]=n.componentIndex,t}function gci(n,t,i,r){var f,e,u=rd(i-n.rotation),s=r[0]>r[1],o="start"===t&&!s||"start"!==t&&s;return ph(u-yf/2)?(e=o?"bottom":"top",f="center"):ph(u-1.5*yf)?(e=o?"top":"bottom",f="center"):(e="middle",f=1.5*yf>u&&u>yf/2?o?"left":"right":o?"right":"left"),{rotation:u,textAlign:f,textVerticalAlign:e}}function vvt(n){var t=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||t&&t.show)}function nli(n,t,i){var f=n.get("axisLabel.showMinLabel"),e=n.get("axisLabel.showMaxLabel");t=t||[];i=i||[];var r=t[0],o=t[1],u=t[t.length-1],s=t[t.length-2],h=i[0],l=i[1],c=i[i.length-1],a=i[i.length-2];f===!1?(ai(r),ai(h)):yvt(r,o)&&(f?(ai(o),ai(l)):(ai(r),ai(h)));e===!1?(ai(u),ai(c)):yvt(s,u)&&(e?(ai(s),ai(a)):(ai(u),ai(c)))}function ai(n){n&&(n.ignore=!0)}function yvt(n,t){var r=n&&n.getBoundingRect().clone(),u=t&&t.getBoundingRect().clone(),i;if(r&&u)return i=lh([]),ia(i,i,-n.rotation),r.applyTransform(ao([],i,n.getLocalTransform())),u.applyTransform(ao([],i,t.getLocalTransform())),r.intersect(u)}function pvt(n){return"middle"===n||"center"===n}function tli(n,t,i){var c=t.axis,s,h;if(t.get("axisTick.show")&&!c.scale.isBlank()){for(var a=t.getModel("axisTick"),y=a.getModel("lineStyle"),p=a.get("length"),e=c.getTicksCoords(),r=[],u=[],o=n._transform,v=[],f=0;f<e.length;f++)s=e[f].coord,r[0]=s,r[1]=0,u[0]=s,u[1]=i.tickDirection*p,o&&(ni(r,r,o),ni(u,u,o)),h=new vs(vh({anid:"tick_"+e[f].tickValue,shape:{x1:r[0],y1:r[1],x2:u[0],y2:u[1]},style:l(y.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),z2:2,silent:!0})),n.group.add(h),v.push(h);return v}}function ili(n,i,r){var u=i.axis,h=yu(r.axisLabelShow,i.get("axisLabel.show"));if(h&&!u.scale.isBlank()){var f=i.getModel("axisLabel"),c=f.get("margin"),l=u.getViewLabels(),a=(yu(r.labelRotate,f.get("rotate"))||0)*yf/180,o=pgt(r.rotation,a,r.labelDirection),e=i.getCategories(!0),s=[],v=vvt(i),y=i.get("triggerEvent");return t(l,function(t,h){var a=t.tickValue,k=t.formattedLabel,b=t.rawLabel,p=f;e&&e[a]&&e[a].textStyle&&(p=new g(e[a].textStyle,f,i.ecModel));var w=p.getTextColor()||i.get("axisLine.lineStyle.color"),d=u.dataToCoord(a),nt=[d,r.labelOffset+r.labelDirection*c],l=new pi({anid:"label_"+a,position:nt,rotation:o.rotation,silent:v,z2:10});fu(l.style,p,{text:k,textAlign:p.getShallow("align",!0)||o.textAlign,textVerticalAlign:p.getShallow("verticalAlign",!0)||p.getShallow("baseline",!0)||o.textVerticalAlign,textFill:"function"==typeof w?w("category"===u.type?b:"value"===u.type?a+"":a,h):w});y&&(l.eventData=avt(i),l.eventData.targetType="axisLabel",l.eventData.value=b);n._dumbGroup.add(l);l.updateTransform();s.push(l);n.group.add(l);l.decomposeTransform()}),s}}function rli(n,t){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return uli(i,n,t),i.seriesInvolved&&eli(i,n),i}function uli(n,t,i){var u=t.getComponent("tooltip"),r=t.getComponent("axisPointer"),f=r.get("link",!0)||[],e=[];ih(i.getCoordinateSystems(),function(i){function s(u,s,h){var c=h.model.getModel("axisPointer",r),w=c.get("show"),a,y;if(w&&("auto"!==w||u||wg(c))){null==s&&(s=c.get("triggerTooltip"));c=u?fli(h,o,r,t,u,s):c;var b=c.get("snap"),v=hc(h.model),k=s||b||"category"===h.type,p=n.axesInfo[v]={key:v,axis:h,coordSys:i,axisPointerModel:c,triggerTooltip:s,involveSeries:k,snap:b,useHandle:wg(c),seriesModels:[]};l[v]=p;n.seriesInvolved|=k;a=oli(f,h);null!=a&&(y=e[a]||(e[a]={axesInfo:{}}),y.axesInfo[v]=p,y.mapper=f[a].mapper,p.linkGroup=y)}}var h,l,a,o;if(i.axisPointerEnabled&&(h=hc(i.model),l=n.coordSysAxesInfo[h]={},n.coordSysMap[h]=i,a=i.model,o=a.getModel("tooltip",u),ih(i.getAxes(),but(s,!1,null)),i.getTooltipAxes&&u&&o.get("show"))){var v="axis"===o.get("trigger"),c="cross"===o.get("axisPointer.type"),y=i.getTooltipAxes(o.get("axisPointer.axis"));(v||c)&&ih(y.baseAxes,but(s,c?"cross":!0,v));c&&ih(y.otherAxes,but(s,"cross",!1))}})}function fli(n,t,i,r,u,f){var s=t.getModel("axisPointer"),e={},o,h,c;return ih(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(n){e[n]=v(s.get(n))}),e.snap="category"!==n.type&&!!f,"cross"===s.get("type")&&(e.type="line"),o=e.label||(e.label={}),(null==o.show&&(o.show=!1),"cross"===u)&&(h=s.get("label.show"),(o.show=null!=h?h:!0,f)||(c=e.lineStyle=s.get("crossStyle"),c&&l(o,c.textStyle))),n.model.getModel("axisPointer",new g(e,i,r))}function eli(n,t){t.eachSeries(function(t){var i=t.coordinateSystem,r=t.get("tooltip.trigger",!0),u=t.get("tooltip.show",!0);i&&"none"!==r&&r!==!1&&"item"!==r&&u!==!1&&t.get("axisPointer.show",!0)!==!1&&ih(n.coordSysAxesInfo[hc(i.model)],function(n){var r=n.axis;i.getAxis(r.dim)===r&&(n.seriesModels.push(t),null==n.seriesDataCount&&(n.seriesDataCount=0),n.seriesDataCount+=t.getData().count())})},this)}function oli(n,t){for(var r,u=t.model,f=t.dim,i=0;i<n.length;i++)if(r=n[i]||{},yg(r[f+"AxisId"],u.id)||yg(r[f+"AxisIndex"],u.componentIndex)||yg(r[f+"AxisName"],u.name))return i}function yg(n,t){return"all"===n||u(n)&&y(n,t)>=0||n===t}function sli(n){var r=pg(n),e,i;if(r){var u=r.axisPointerModel,o=r.axis.scale,f=u.option,s=u.get("status"),t=u.get("value");null!=t&&(t=o.parse(t));e=wg(u);null==s&&(f.status=e?"show":"hide");i=o.getExtent().slice();i[0]>i[1]&&i.reverse();(null==t||t>i[1])&&(t=i[1]);t<i[0]&&(t=i[0]);f.value=t;e&&(f.status=r.axis.scale.isBlank()?"hide":"show")}}function pg(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[hc(n)]}function hli(n){var t=pg(n);return t&&t.axisPointerModel}function wg(n){return!!n.get("handle.show")}function hc(n){return n.type+"||"+n.id}function wvt(n,t,i,r,u,f){var o=pf.getAxisPointerClass(n.axisPointerClass),e;o&&(e=hli(t),e?(n._axisPointer||(n._axisPointer=new o)).render(t,e,r,f):bvt(n,r))}function bvt(n,t,i){var r=n._axisPointer;r&&r.dispose(t,i);n._axisPointer=null}function bg(n,t,i){var p,w,y;i=i||{};var b=n.coordinateSystem,l=t.axis,r={},o=l.getAxesOnZeroOf()[0],a=l.position,v=o?"onZero":a,h=l.dim,f=b.getRect(),e=[f.x,f.x+f.width,f.y,f.y+f.height],s={left:0,right:1,top:0,bottom:1,onZero:2},c=t.get("offset")||0,u="x"===h?[e[2]-c,e[3]+c]:[e[0]-c,e[1]+c];return o&&(p=o.toGlobalCoord(o.dataToCoord(0)),u[s.onZero]=Math.max(Math.min(p,u[1]),u[0])),r.position=["y"===h?u[s[v]]:e[0],"x"===h?u[s[v]]:e[3]],r.rotation=Math.PI/2*("x"===h?0:1),w={top:-1,bottom:1,left:-1,right:1},r.labelDirection=r.tickDirection=r.nameDirection=w[a],r.labelOffset=o?u[s[a]]-u[s.onZero]:0,t.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),yu(i.labelInside,t.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection),y=t.get("axisLabel.rotate"),r.labelRotate="top"===v?-y:y,r.z2=1,r}function rs(n,t,i){o.call(this);this.updateData(n,t,i)}function kg(n){return[n[0]/2,n[1]/2]}function cli(n,t){this.parent.drift(n,t)}function dg(n){this.group=new o;this._symbolCtor=n||rs}function gg(n,t,i,r){return!(!t||isNaN(t[0])||isNaN(t[1])||r.isIgnore&&r.isIgnore(i)||r.clipShape&&!r.clipShape.contain(t[0],t[1])||"none"===n.getItemVisual(i,"symbol"))}function kvt(n){return null==n||f(n)||(n={isIgnore:n}),n||{}}function dvt(n){var t=n.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}function nn(n,t,r){var e,o=n.getBaseAxis(),s=n.getOtherAxis(o),l=lli(s,r),h=o.dim,f=s.dim,a=t.mapDimension(f),v=t.mapDimension(h),y="x"===f||"radius"===f?1:0,u=i(n.dimensions,function(n){return t.mapDimension(n)}),c=t.getCalculationInfo("stackResultDimension");return(e|=ff(t,u[0]))&&(u[0]=c),(e|=ff(t,u[1]))&&(u[1]=c),{dataDimsForPoint:u,valueStart:l,valueAxisDim:f,baseAxisDim:h,stacked:!!e,valueDim:a,baseDim:v,baseDataOffset:y,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function lli(n,t){var r=0,i=n.scale.getExtent();return"start"===t?r=i[0]:"end"===t?r=i[1]:i[0]>0?r=i[0]:i[1]<0&&(r=i[1]),r}function tn(n,t,i,r){var u=NaN,e,f;return n.stacked&&(u=i.get(i.getCalculationInfo("stackedOverDimension"),r)),isNaN(u)&&(u=n.valueStart),e=n.baseDataOffset,f=[],f[e]=i.get(n.baseDim,r),f[1-e]=u,t.dataToPoint(f)}function ali(n,t){var i=[];return t.diff(n).add(function(n){i.push({cmd:"+",idx:n})}).update(function(n,t){i.push({cmd:"=",idx:t,idx1:n})}).remove(function(n){i.push({cmd:"-",idx:n})}).execute(),i}function hu(n){return isNaN(n[0])||isNaN(n[1])}function rn(n,t,i,r,u,f,e,o,s,h){return"none"!==h&&h?vli.apply(this,arguments):yli.apply(this,arguments)}function vli(n,t,i,r,u,f,e,o,s,h,c){for(var l,w=0,a=i,y=0;r>y;y++){if(l=t[a],a>=u||0>a)break;if(hu(l)){if(c){a+=f;continue}break}if(a===i)n[f>0?"moveTo":"lineTo"](l[0],l[1]);else if(s>0){var p=t[w],v="y"===h?1:0,b=(l[v]-p[v])*s;bw(di,p);di[v]=p[v]+b;bw(gi,l);gi[v]=l[v]-b;n.bezierCurveTo(di[0],di[1],gi[0],gi[1],l[0],l[1])}else n.lineTo(l[0],l[1]);w=a;a+=f}return y}function yli(n,t,i,r,u,f,e,o,s,h,c){for(var l,y,a,g,w,p,nt=0,v=i,b=0;r>b;b++){if(l=t[v],v>=u||0>v)break;if(hu(l)){if(c){v+=f;continue}break}if(v===i)n[f>0?"moveTo":"lineTo"](l[0],l[1]),bw(di,l);else if(s>0){if(y=v+f,a=t[y],c)for(;a&&hu(t[y]);)y+=f,a=t[y];var k=.5,d=t[nt],a=t[y];!a||hu(a)?bw(gi,l):(hu(a)&&!c&&(a=l),kl(dut,a,d),"x"===h||"y"===h?(p="x"===h?0:1,g=Math.abs(l[p]-d[p]),w=Math.abs(l[p]-a[p])):(g=dv(l,d),w=dv(l,a)),k=w/(w+g),ggt(gi,l,dut,-s*(1-k)));kgt(di,di,o);dgt(di,di,e);kgt(gi,gi,o);dgt(gi,gi,e);n.bezierCurveTo(di[0],di[1],gi[0],gi[1],l[0],l[1]);ggt(di,l,dut,s*k)}else n.lineTo(l[0],l[1]);nt=v;v+=f}return b}function un(n,t){var r=[1/0,1/0],u=[-1/0,-1/0],f,i;if(t)for(f=0;f<n.length;f++)i=n[f],i[0]<r[0]&&(r[0]=i[0]),i[1]<r[1]&&(r[1]=i[1]),i[0]>u[0]&&(u[0]=i[0]),i[1]>u[1]&&(u[1]=i[1]);return{min:t?r:u,max:t?u:r}}function gvt(n,t){var i,r,u;if(n.length===t.length){for(i=0;i<n.length;i++)if(r=n[i],u=t[i],r[0]!==u[0]||r[1]!==u[1])return;return!0}}function nyt(n){return"number"==typeof n?n:n?.5:0}function tyt(n){var t=n.getGlobalExtent(),i,r;return n.onBand&&(i=n.getBandWidth()/2-1,r=t[1]>t[0]?1:-1,t[0]+=r*i,t[1]-=r*i),t}function pli(n,t,i){if(!i.valueDim)return[];for(var u=[],r=0,f=t.count();f>r;r++)u.push(tn(i,n,t,r));return u}function wli(n,t,i,r){var o=tyt(n.getAxis("x")),s=tyt(n.getAxis("y")),a=n.getBaseAxis().isHorizontal(),h=Math.min(o[0],o[1]),c=Math.min(s[0],s[1]),u=Math.max(o[0],o[1])-h,f=Math.max(s[0],s[1])-c,v,e,l;return i?(h-=.5,u+=.5,c-=.5,f+=.5):(v=r.get("lineStyle.width")||2,e=r.get("clipOverflow")?v/2:Math.max(u,f),a?(c-=e,f+=2*e):(h-=e,u+=2*e)),l=new ht({shape:{x:h,y:c,width:u,height:f}}),t&&(l.shape[a?"width":"height"]=0,ee(l,{shape:{width:u,height:f}},r)),l}function bli(n,t,i,r){var s=n.getAngleAxis(),h=n.getRadiusAxis(),u=h.getExtent().slice(),f,e,o;return u[0]>u[1]&&u.reverse(),f=s.getExtent(),e=Math.PI/180,i&&(u[0]-=.5,u[1]+=.5),o=new ul({shape:{cx:ii(n.cx,1),cy:ii(n.cy,1),r0:ii(u[0],1),r:ii(u[1],1),startAngle:-f[0]*e,endAngle:-f[1]*e,clockwise:s.inverse}}),t&&(o.shape.endAngle=-f[0]*e,ee(o,{shape:{endAngle:-f[1]*e}},r)),o}function sv(n,t,i,r){return"polar"===n.type?bli(n,t,i,r):wli(n,t,i,r)}function ef(n,t,i){for(var s,o,u,l,h,c=t.getBaseAxis(),r="x"===c.dim||"radius"===c.dim?0:1,f=[],e=0;e<n.length-1;e++){s=n[e+1];o=n[e];f.push(o);u=[];switch(i){case"end":u[r]=s[r];u[1-r]=o[1-r];f.push(u);break;case"middle":l=(o[r]+s[r])/2;h=[];u[r]=h[r]=l;u[1-r]=o[1-r];h[1-r]=s[1-r];f.push(u);f.push(h);break;default:u[r]=o[r];u[1-r]=s[1-r];f.push(u)}}return n[e]&&f.push(n[e]),f}function kli(n,r){var o=n.getVisual("visualMeta"),f,h,s,c;if(o&&o.length&&n.count()&&"cartesian2d"===r.type){for(s=o.length-1;s>=0;s--){var k=o[s].dimension,d=n.dimensions[k],v=n.getDimensionInfo(d);if(f=v&&v.coordDim,"x"===f||"y"===f){h=o[s];break}}if(h){var y=r.getAxis(f),u=i(h.stops,function(n){return{coord:y.toGlobalCoord(y.dataToCoord(n.value)),color:n.color}}),e=u.length,l=h.outerColors.slice();e&&u[0].coord>u[e-1].coord&&(u.reverse(),l.reverse());var p=10,a=u[0].coord-p,w=u[e-1].coord+p,b=w-a;return.001>b?"transparent":(t(u,function(n){n.offset=(n.coord-a)/b}),u.push({offset:e?u[e-1].offset:.5,color:l[1]||"transparent"}),u.unshift({offset:e?u[0].offset:.5,color:l[0]||"transparent"}),c=new ys(0,0,0,0,u,!0),c[f]=a,c[f+"2"]=w,c)}}}function dli(n,i,r){var e=n.get("showAllSymbol"),o="auto"===e,u,s,f;if((!e||o)&&(u=r.getAxesByScale("ordinal")[0],u&&(!o||!gli(u,i))))return s=i.mapDimension(u.dim),f={},t(u.getViewLabels(),function(n){f[n.tickValue]=1}),function(n){return!f.hasOwnProperty(i.get(s,n))}}function gli(n,t){var u=n.getExtent(),i=Math.abs(u[1]-u[0])/n.scale.count();isNaN(i)&&(i=0);for(var f=t.count(),e=Math.max(1,Math.round(f/5)),r=0;f>r;r+=e)if(1.5*rs.getSymbolSize(t,r)[n.isHorizontal()?1:0]>i)return!1;return!0}function nai(n,t,i,r){var u=t.getData(),f=this.dataIndex,e=u.getName(f),o=t.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:n,name:e,seriesId:t.id});u.each(function(n){iyt(u.getItemGraphicEl(n),u.getItemLayout(n),t.isSelected(u.getName(n)),o,i)})}function iyt(n,t,i,r,u){var f=(t.startAngle+t.endAngle)/2,s=Math.cos(f),h=Math.sin(f),e=i?r:0,o=[s*e,h*e];u?n.animate().when(200,{position:o}).start("bounceOut"):n.attr("position",o)}function fn(n,t){function u(){i.ignore=i.hoverIgnore;r.ignore=r.hoverIgnore}function f(){i.ignore=i.normalIgnore;r.ignore=r.normalIgnore}o.call(this);var e=new ul({z2:2}),i=new crt,r=new pi;this.add(e);this.add(i);this.add(r);this.updateData(n,t,!0);this.on("emphasis",u).on("normal",f).on("mouseover",u).on("mouseout",f)}function ryt(n,t,i,r,u,f,e){function p(t,i,r){for(var u=t;i>u;u++)if(n[u].y+=r,u>t&&i>u+1&&n[u+1].y>n[u].y+n[u].height)return void c(u,r/2);c(i-1,r/2)}function c(t,i){for(var r=t;r>=0&&(n[r].y-=i,!(r>0&&n[r].y>n[r-1].y+n[r-1].height));r--);}function a(n,t,i,r,u,f){for(var s=f>0?t?Number.MAX_VALUE:0:t?Number.MAX_VALUE:0,e=0,a=n.length;a>e;e++)if("center"!==n[e].position){var h=Math.abs(n[e].y-r),c=n[e].len,l=n[e].len2,o=u+c>h?Math.sqrt((u+c+l)*(u+c+l)-h*h):Math.abs(n[e].x-i);t&&o>=s&&(o=s-10);!t&&s>=o&&(o=s+10);n[e].x=i+o*f;s=o}}var o;n.sort(function(n,t){return n.y-t.y});for(var l,s=0,h=n.length,v=[],y=[],o=0;h>o;o++)l=n[o].y-s,0>l&&p(o,h,-l,u),s=n[o].y+n[o].height;for(0>e-s&&c(h-1,s-e),o=0;h>o;o++)n[o].y>=i?y.push(n[o]):v.push(n[o]);a(v,!1,t,i,r,u);a(y,!0,t,i,r,u)}function tai(n,t,i,r,u,f){for(var o,c,s=[],h=[],e=0;e<n.length;e++)n[e].x<t?s.push(n[e]):h.push(n[e]);for(ryt(h,t,i,r,1,u,f),ryt(s,t,i,r,-1,u,f),e=0;e<n.length;e++)o=n[e].linePoints,o&&(c=o[1][0]-o[2][0],o[2][0]=n[e].x<t?n[e].x+3:n[e].x-3,o[1][1]=o[2][1]=n[e].y,o[1][0]=o[2][0]+c)}function en(n,i,r){var f,u={},e="toggleSelected"===n;return r.eachComponent("legend",function(r){e&&null!=f?r[f?"select":"unSelect"](i.name):(r[n](i.name),f=r.isSelected(i.name));var o=r.getData();t(o,function(n){var t=n.get("name"),i;"\n"!==t&&""!==t&&(i=r.isSelected(t),u[t]=u.hasOwnProperty(t)?u[t]&&i:i)})}),{name:i.name,selected:u}}function iai(n,t,i){var r=t.getBoxLayoutParams(),u=t.get("padding"),f={width:i.getWidth(),height:i.getHeight()},e=tf(r,f,u);ap(t.get("orient"),n,t.get("itemGap"),e.width,e.height);uei(n,r,f,u)}function uyt(n,t){var i=el(t.get("padding")),r=t.getItemStyle(["color","opacity"]),n;return r.fill=t.get("backgroundColor"),new ht({shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[1]+i[3],height:n.height+i[0]+i[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1})}function fyt(n,t){t.dispatchAction({type:"legendToggleSelect",name:n})}function eyt(n,t,i,r){var u=i.getZr().storage.getDisplayList()[0];u&&u.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:n.name,name:t,excludeSeriesId:r})}function oyt(n,t,i,r){var u=i.getZr().storage.getDisplayList()[0];u&&u.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:n.name,name:t,excludeSeriesId:r})}function syt(n,t,i){var u=n.getOrient(),r=[1,1];r[u.index]=0;ko(t,i,{type:"box",ignoreSize:r})}function hyt(n,t,i,r,u){var e=n.axis;if(!e.scale.isBlank()&&e.containData(t)){if(!n.involveSeries)return void i.showPointer(n,t);var o=rai(t,n),s=o.payloadBatch,f=o.snapToValue;s[0]&&null==u.seriesIndex&&c(u,s[0]);!r&&n.snap&&e.containData(f)&&null!=f&&(t=f);i.showPointer(n,t,s,u);i.showTooltip(n,o,f)}}function rai(n,t){var i=t.axis,o=i.dim,f=n,r=[],u=Number.MAX_VALUE,e=-1;return dr(t.seriesModels,function(t){var s,h,a=t.getData().mapDimension(o,!0),v,c,l;if(t.getAxisTooltipData)v=t.getAxisTooltipData(a,n,i),h=v.dataIndices,s=v.nestestValue;else{if(h=t.getData().indicesOfNearest(a[0],n,"category"===i.type?.5:null),!h.length)return;s=t.getData().get(a[0],h[0])}null!=s&&isFinite(s)&&(c=n-s,l=Math.abs(c),u>=l&&((u>l||c>=0&&0>e)&&(u=l,e=c,f=s,r.length=0),dr(h,function(n){r.push({seriesIndex:t.seriesIndex,dataIndexInside:n,dataIndex:t.getData().getRawIndex(n)})})))}),{payloadBatch:r,snapToValue:f}}function uai(n,t,i,r){n[t.key]={value:i,payloadBatch:r}}function fai(n,t,i,r){var o=i.payloadBatch,s=t.axis,e=s.model,h=t.axisPointerModel;if(t.triggerTooltip&&o.length){var u=t.coordSys.model,c=hc(u),f=n.map[c];f||(f=n.map[c]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},n.list.push(f));f.dataByAxis.push({axisDim:s.dim,axisIndex:e.componentIndex,axisType:e.type,axisId:e.id,value:r,valueLabelOpt:{precision:h.get("label.precision"),formatter:h.get("label.formatter")},seriesDataIndices:o.slice()})}}function eai(n,t,i){var r=i.axesInfo=[];dr(t,function(t,i){var u=t.axisPointerModel.option,f=n[i];f?(!t.useHandle&&(u.status="show"),u.value=f.value,u.seriesDataIndices=(f.payloadBatch||[]).slice()):!t.useHandle&&(u.status="hide");"show"===u.status&&r.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:u.value})})}function oai(n,t,i,r){if(hv(t)||!n.list.length)return void r({type:"hideTip"});var u=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:u.dataIndexInside,dataIndex:u.dataIndex,seriesIndex:u.seriesIndex,dataByCoordSys:n.list})}function sai(n,i,r){var o=r.getZr(),s="axisPointerLastHighlights",h=ent(o)[s]||{},e=ent(o)[s]={},u,f;dr(n,function(n){var t=n.axisPointerModel.option;"show"===t.status&&dr(t.seriesDataIndices,function(n){var t=n.seriesIndex+" | "+n.dataIndex;e[t]=n})});u=[];f=[];t(h,function(n,t){e[t]||f.push(n)});t(e,function(n,t){h[t]||u.push(n)});f.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,batch:f});u.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,batch:u})}function hai(n,t){for(var r,i=0;i<(n||[]).length;i++)if(r=n[i],t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}function cyt(n){var i=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=i.componentIndex,t.axisName=t[r+"AxisName"]=i.name,t.axisId=t[r+"AxisId"]=i.id,t}function hv(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function lyt(n,t,i){var r,u;e.node||(r=t.getZr(),vu(r).records||(vu(r).records={}),cai(r,t),u=vu(r).records[n]||(vu(r).records[n]={}),u.handler=i)}function cai(n,t){function i(i,r){n.on(i,function(i){var u=vai(t);kni(vu(n).records,function(n){n&&r(n,i,u.dispatchAction)});lai(u.pendings,t)})}vu(n).initialized||(vu(n).initialized=!0,i("click",p(ayt,"click")),i("mousemove",p(ayt,"mousemove")),i("globalout",aai))}function lai(n,t){var i,r=n.showTip.length,u=n.hideTip.length;r?i=n.showTip[r-1]:u&&(i=n.hideTip[u-1]);i&&(i.dispatchAction=null,t.dispatchAction(i))}function aai(n,t,i){n.handler("leave",null,i)}function ayt(n,t,i,r){t.handler(n,i,r)}function vai(n){var t={showTip:[],hideTip:[]},i=function(r){var u=t[r.type];u?u.push(r):(r.dispatchAction=i,n.dispatchAction(r))};return{dispatchAction:i,pendings:t}}function on(n,t){if(!e.node){var i=t.getZr(),r=(vu(i).records||{})[n];r&&(vu(i).records[n]=null)}}function cc(){}function vyt(n,t,i,r){yyt(ro(i).lastProp,r)||(ro(i).lastProp=r,t?ot(i,r,n):(i.stopAnimation(),i.attr(r)))}function yyt(n,i){if(f(n)&&f(i)){var r=!0;return t(i,function(t,i){r=r&&yyt(n[i],t)}),!!r}return n===i}function pyt(n,t){n[t.get("label.show")?"show":"hide"]()}function sn(n){return{position:n.position.slice(),rotation:n.rotation||0}}function wyt(n,t,i){var r=t.get("z"),u=t.get("zlevel");n&&n.traverse(function(n){"group"!==n.type&&(null!=r&&(n.z=r),null!=u&&(n.zlevel=u),n.silent=i)})}function yai(n){var t,i=n.get("type"),r=n.getModel(i+"Style");return"line"===i?(t=r.getLineStyle(),t.fill=null):"shadow"===i&&(t=r.getAreaStyle(),t.stroke=null),t}function pai(n,t,i,r,u){var w=i.get("value"),a=byt(w,t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),f=i.getModel("label"),s=el(f.get("padding")||0),v=f.getFont(),y=ie(a,v),e=u.position,h=y.width+s[1]+s[3],c=y.height+s[0]+s[2],p=u.align,l,o;"right"===p&&(e[0]-=h);"center"===p&&(e[0]-=h/2);l=u.verticalAlign;"bottom"===l&&(e[1]-=c);"middle"===l&&(e[1]-=c/2);wai(e,h,c,r);o=f.get("backgroundColor");o&&"auto"!==o||(o=t.get("axisLine.lineStyle.color"));n.label={shape:{x:0,y:0,width:h,height:c,r:f.get("borderRadius")},position:e.slice(),style:{text:a,textFont:v,textFill:f.getTextColor(),textPosition:"inside",fill:o,stroke:f.get("borderColor")||"transparent",lineWidth:f.get("borderWidth")||0,shadowBlur:f.get("shadowBlur"),shadowColor:f.get("shadowColor"),shadowOffsetX:f.get("shadowOffsetX"),shadowOffsetY:f.get("shadowOffsetY")},z2:10}}function wai(n,t,i,r){var u=r.getWidth(),f=r.getHeight();n[0]=Math.min(n[0]+t,u)-t;n[1]=Math.min(n[1]+i,f)-i;n[0]=Math.max(n[0],0);n[1]=Math.max(n[1],0)}function byt(n,i,r,u,f){var o,e,s;return n=i.scale.parse(n),o=i.scale.getLabel(n,{precision:f.precision}),e=f.formatter,e&&(s={value:lg(i,n),seriesData:[]},t(u,function(n){var t=r.getSeriesByIndex(n.seriesIndex),u=n.dataIndexInside,i=t&&t.getDataParams(u);i&&s.seriesData.push(i)}),dt(e)?o=e.replace("{value}",o):fr(e)&&(o=e(s))),o}function kyt(n,t,i){var r=lo();return ia(r,r,i.rotation),ta(r,r,i.position),nd([n.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],r)}function bai(n,t,i,r,u,f){var e=yl.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=u.get("label.margin");pai(t,r,u,f,{position:kyt(r.axis,n,i),align:e.textAlign,verticalAlign:e.textVerticalAlign})}function kai(n,t,i){return i=i||0,{x1:n[i],y1:n[1-i],x2:t[i],y2:t[1-i]}}function dai(n,t,i){return i=i||0,{x:n[i],y:n[1-i],width:t[i],height:t[1-i]}}function dyt(n,t){var i={};return i[t.dim+"AxisIndex"]=t.index,n.getCartesian(i)}function gyt(n){return"x"===n.dim?0:1}function gai(n){var t="cubic-bezier(0.23, 1, 0.32, 1)",r="left "+n+"s "+t+",top "+n+"s "+t;return i(gni,function(n){return n+"transition:"+r}).join(";")}function nvi(n){var t=[],i=n.get("fontSize"),r=n.getTextColor();return r&&t.push("color:"+r),t.push("font:"+n.getFont()),i&&t.push("line-height:"+Math.round(3*i/2)+"px"),lnt(["decoration","align"],function(i){var r=n.get(i);r&&t.push("text-"+i+":"+r)}),t.join(";")}function tvi(n){var t=[],r=n.get("transitionDuration"),i=n.get("backgroundColor"),f=n.getModel("textStyle"),u=n.get("padding");return r&&t.push(gai(r)),i&&(e.canvasSupported?t.push("background-Color:"+i):(t.push("background-Color:#"+oet(i)),t.push("filter:alpha(opacity=70)"))),lnt(["width","color","radius"],function(i){var r="border-"+i,f=dni(r),u=n.get(f);null!=u&&t.push(r+":"+u+("color"===i?"":"px"))}),t.push(nvi(f)),null!=u&&t.push("padding:"+el(u).join("px ")+"px"),t.join(";")+";"}function hn(n,t){var r,u,i;if(e.wxa)return null;r=document.createElement("div");u=this._zr=t.getZr();this.el=r;this._x=t.getWidth()/2;this._y=t.getHeight()/2;n.appendChild(r);this._container=n;this._show=!1;this._hideTimeout;i=this;r.onmouseenter=function(){i._enterable&&(clearTimeout(i._hideTimeout),i._show=!0);i._inContent=!0};r.onmousemove=function(t){if(t=t||window.event,!i._enterable){var r=u.handler;re(n,t,!0);r.dispatch("mousemove",t)}};r.onmouseleave=function(){i._enterable&&i._show&&i.hideLater(i._hideDelay);i._inContent=!1}}function cn(n){for(var t,i=n.pop();n.length;)t=n.pop(),t&&(g.isInstance(t)&&(t=t.get("tooltip",!0)),"string"==typeof t&&(t={formatter:t}),i=new g(t,i,i.ecModel));return i}function npt(n,t){return n.dispatchAction||ut(t.dispatchAction,t)}function ivi(n,t,i,r,u,f,e){var o=tpt(i),s=o.width,h=o.height;return null!=f&&(n+s+f>r?n-=s+f:n+=f),null!=e&&(t+h+e>u?t-=h+e:t+=e),[n,t]}function rvi(n,t,i,r,u){var f=tpt(i),e=f.width,o=f.height;return n=Math.min(n+e,r)-e,t=Math.min(t+o,u)-o,n=Math.max(n,0),t=Math.max(t,0),[n,t]}function tpt(n){var i=n.clientWidth,r=n.clientHeight,t;return document.defaultView&&document.defaultView.getComputedStyle&&(t=document.defaultView.getComputedStyle(n),t&&(i+=parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10)+parseInt(t.borderLeftWidth,10)+parseInt(t.borderRightWidth,10),r+=parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10)+parseInt(t.borderTopWidth,10)+parseInt(t.borderBottomWidth,10))),{width:i,height:r}}function uvi(n,t,i){var f=i[0],e=i[1],o=5,r=0,u=0,s=t.width,h=t.height;switch(n){case"inside":r=t.x+s/2-f/2;u=t.y+h/2-e/2;break;case"top":r=t.x+s/2-f/2;u=t.y-e-o;break;case"bottom":r=t.x+s/2-f/2;u=t.y+h+o;break;case"left":r=t.x-f-o;u=t.y+h/2-e/2;break;case"right":r=t.x+s+o;u=t.y+h/2-e/2}return[r,u]}function ipt(n){return"center"===n||"middle"===n}function cv(n){ca(n,"label",["show"])}function fvi(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function evi(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function ln(n,t,i,r,u,f){var e=[],c=ff(t,r),h=c?t.getCalculationInfo("stackResultDimension"):r,l=an(t,h,n),s=t.indicesOfNearest(h,l)[0],o;return e[u]=t.get(i,s),e[f]=t.get(r,s),o=kht(t.get(r,s)),o=Math.min(o,20),o>=0&&(e[f]=+e[f].toFixed(o)),e}function lc(n,t){var e=n.getData(),s=n.coordinateSystem,o,i,c,h,f,r;if(t&&!evi(t)&&!u(t.coord)&&s)if(o=s.dimensions,i=rpt(t,e,s,n),t=v(t),t.type&&eft[t.type]&&i.baseAxis&&i.valueAxis)c=pnt(o,i.baseAxis.dim),h=pnt(o,i.valueAxis.dim),t.coord=eft[t.type](e,i.baseDataDim,i.valueDataDim,c,h),t.value=t.coord[h];else{for(f=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],r=0;2>r;r++)eft[f[r]]&&(f[r]=an(e,e.mapDimension(o[r]),f[r]));t.coord=f}return t}function rpt(n,t,i,r){var u={};return null!=n.valueIndex||null!=n.valueDim?(u.valueDataDim=null!=n.valueIndex?t.getDimension(n.valueIndex):n.valueDim,u.valueAxis=i.getAxis(ovi(r,u.valueDataDim)),u.baseAxis=i.getOtherAxis(u.valueAxis),u.baseDataDim=t.mapDimension(u.baseAxis.dim)):(u.baseAxis=r.getBaseAxis(),u.valueAxis=i.getOtherAxis(u.baseAxis),u.baseDataDim=t.mapDimension(u.baseAxis.dim),u.valueDataDim=t.mapDimension(u.valueAxis.dim)),u}function ovi(n,t){var r=n.getData(),f=r.dimensions,i,u;for(t=r.getDimension(t),i=0;i<f.length;i++)if(u=r.getDimensionInfo(f[i]),u.name===t)return u.coordDim}function ac(n,t){return n&&n.containData&&t.coord&&!fvi(t)?n.containData(t.coord):!0}function upt(n,t,i,r){return 2>r?n.coord&&n.coord[r]:n.value}function an(n,t,i){if("average"===i){var r=0,u=0;return n.each(t,function(n){isNaN(n)||(r+=n,u++)}),r/u}return"median"===i?n.getMedian(t):n.getDataExtent(t,!0)["max"===i?1:0]}function fpt(n,t,i){var r=t.coordinateSystem;n.each(function(u){var f,s=n.getItemModel(u),e=k(s.get("x"),i.getWidth()),o=k(s.get("y"),i.getHeight()),h,c;isNaN(e)||isNaN(o)?t.getMarkerPosition?f=t.getMarkerPosition(n.getValues(n.dimensions,u)):r&&(h=n.get(r.dimensions[0],u),c=n.get(r.dimensions[1],u),f=r.dataToPoint([h,c])):f=[e,o];isNaN(e)||(f[0]=e);isNaN(o)||(f[1]=o);n.setItemLayout(u,f)})}function svi(n,t,r){var e,f,u;return e=n?i(n&&n.dimensions,function(n){var i=t.getData().getDimensionInfo(t.getData().mapDimension(n))||{};return l({name:n},i)}):[{name:"value",type:"float"}],f=new bi(e,r),u=i(r.get("data"),p(lc,t)),n&&(u=wt(u,p(ac,n))),f.initData(u,null,n?upt:function(n){return n.value}),f}function vn(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}function ept(n){return"_"+n+"Type"}function opt(n,t,i){var o=t.getItemVisual(i,"color"),f=t.getItemVisual(i,n),r=t.getItemVisual(i,n+"Size"),e;if(f&&"none"!==f)return u(r)||(r=[r,r]),e=ts(f,-r[0]/2,-r[1]/2,r[0],r[1],o),e.name=n,e}function hvi(n){var t=new itr({name:"line"});return yn(t.shape,n),t}function yn(n,t){var r=t[0],u=t[1],i=t[2];n.x1=r[0];n.y1=r[1];n.x2=u[0];n.y2=u[1];n.percent=1;i?(n.cpx1=i[0],n.cpy1=i[1]):(n.cpx1=NaN,n.cpy1=NaN)}function cvi(){var v=this,c=v.childOfName("fromSymbol"),l=v.childOfName("toSymbol"),i=v.childOfName("label"),r,o,u,t,y,p,w,f,b;if(c||l||!i.ignore){for(r=1,o=this.parent;o;)o.scale&&(r/=o.scale[0]),o=o.parent;if(u=v.childOfName("line"),this.__dirty||u.__dirty){var s=u.shape.percent,a=u.pointAt(0),h=u.pointAt(s),n=kl([],h,a);if((gl(n,n),c)&&(c.attr("position",a),t=u.tangentAt(0),c.attr("rotation",Math.PI/2-Math.atan2(t[1],t[0])),c.attr("scale",[r*s,r*s])),l&&(l.attr("position",h),t=u.tangentAt(1),l.attr("rotation",-Math.PI/2-Math.atan2(t[1],t[0])),l.attr("scale",[r*s,r*s])),!i.ignore){if(i.attr("position",h),f=5*r,"end"===i.__position)y=[n[0]*f+h[0],n[1]*f+h[1]],p=n[0]>.8?"left":n[0]<-.8?"right":"center",w=n[1]>.8?"top":n[1]<-.8?"bottom":"middle";else if("middle"===i.__position){var k=s/2,t=u.tangentAt(k),e=[t[1],-t[0]],d=u.pointAt(k);e[1]>0&&(e[0]=-e[0],e[1]=-e[1]);y=[d[0]+e[0]*f,d[1]+e[1]*f];p="center";w="bottom";b=-Math.atan2(t[1],t[0]);h[0]<a[0]&&(b=Math.PI+b);i.attr("rotation",b)}else y=[-n[0]*f+a[0],-n[1]*f+a[1]],p=n[0]>.8?"right":n[0]<-.8?"left":"center",w=n[1]>.8?"bottom":n[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||w,textAlign:i.__textAlign||p},position:y,scale:[r,r]})}}}}function pn(n,t,i){o.call(this);this._createLine(n,t,i)}function spt(n){this._ctor=n||pn;this.group=new o}function lvi(n,t,i,r){var f=t.getItemLayout(i),u;wn(f)&&(u=new n._ctor(t,i,r),t.setItemGraphicEl(i,u),n.group.add(u))}function avi(n,t,i,r,u,f){var e=t.getItemGraphicEl(r);return wn(i.getItemLayout(u))?(e?e.updateData(i,u,f):e=new n._ctor(i,u,f),i.setItemGraphicEl(u,e),void n.group.add(e)):void n.group.remove(e)}function hpt(n){var t=n.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function cpt(n){return isNaN(n[0])||isNaN(n[1])}function wn(n){return!cpt(n[0])&&!cpt(n[1])}function lv(n){return!isNaN(n)&&!isFinite(n)}function lpt(n,t,i,r){var u=1-n,f=r.dimensions[n];return lv(t[u])&&lv(i[u])&&t[n]===i[n]&&r.getAxis(f).containData(t[n])}function vvi(n,t){if("cartesian2d"===n.type){var i=t[0].coord,r=t[1].coord;if(i&&r&&(lpt(1,i,r,n)||lpt(0,i,r,n)))return!0}return ac(n,t[0])&&ac(n,t[1])}function bn(n,t,i,r,u){var f,e=r.coordinateSystem,c=n.getItemModel(t),o=k(c.get("x"),u.getWidth()),s=k(c.get("y"),u.getHeight());if(isNaN(o)||isNaN(s)){if(r.getMarkerPosition)f=r.getMarkerPosition(n.getValues(n.dimensions,t));else{var h=e.dimensions,v=n.get(h[0],t),y=n.get(h[1],t);f=e.dataToPoint([v,y])}if("cartesian2d"===e.type){var l=e.getAxis("x"),a=e.getAxis("y"),h=e.dimensions;lv(n.get(h[0],t))?f[0]=l.toGlobalCoord(l.getExtent()[i?0:1]):lv(n.get(h[1],t))&&(f[1]=a.toGlobalCoord(a.getExtent()[i?0:1]))}isNaN(o)||(f[0]=o);isNaN(s)||(f[1]=s)}else f=[o,s];n.setItemLayout(t,f)}function yvi(n,t,r){var f,o;f=n?i(n&&n.dimensions,function(n){var i=t.getData().getDimensionInfo(t.getData().mapDimension(n))||{};return l({name:n},i)}):[{name:"value",type:"float"}];var s=new bi(f,r),h=new bi(f,r),e=new bi([],r),u=i(r.get("data"),p(bnt,t,n,r));return n&&(u=wt(u,p(vvi,n))),o=n?upt:function(n){return n.value},s.initData(i(u,function(n){return n[0]}),null,o),h.initData(i(u,function(n){return n[1]}),null,o),e.initData(i(u,function(n){return n[2]})),e.hasItemOption=!0,{from:s,to:h,line:e}}function av(n){return!isNaN(n)&&!isFinite(n)}function apt(n,t,i){var r=1-n;return av(t[r])&&av(i[r])}function pvi(n,t){var i=t.coord[0],r=t.coord[1];return"cartesian2d"===n.type&&i&&r&&(apt(1,i,r,n)||apt(0,i,r,n))?!0:ac(n,{coord:i,x:t.x0,y:t.y0})||ac(n,{coord:r,x:t.x1,y:t.y1})}function vpt(n,t,i,r,u){var f,e=r.coordinateSystem,c=n.getItemModel(t),o=k(c.get(i[0]),u.getWidth()),s=k(c.get(i[1]),u.getHeight());if(isNaN(o)||isNaN(s)){if(r.getMarkerPosition)f=r.getMarkerPosition(n.getValues(i,t));else{var l=n.get(i[0],t),a=n.get(i[1],t),h=[l,a];e.clampData&&e.clampData(h,h);f=e.dataToPoint(h,!0)}if("cartesian2d"===e.type){var v=e.getAxis("x"),y=e.getAxis("y"),l=n.get(i[0],t),a=n.get(i[1],t);av(l)?f[0]=v.toGlobalCoord(v.getExtent()["x0"===i[0]?0:1]):av(a)&&(f[1]=y.toGlobalCoord(y.getExtent()["y0"===i[1]?0:1]))}isNaN(o)||(f[0]=o);isNaN(s)||(f[1]=s)}else f=[o,s];return f}function wvi(n,t,r){var f,u,e,o;return n?(f=i(n&&n.dimensions,function(n){var i=t.getData(),r=i.getDimensionInfo(i.mapDimension(n))||{};return l({name:n},r)}),u=new bi(i(["x0","y0","x1","y1"],function(n,t){return{name:n,type:f[t%2].type}}),r)):(f=[{name:"value",type:"float"}],u=new bi(f,r)),e=i(r.get("data"),p(knt,t,n,r)),n&&(e=wt(e,p(pvi,n))),o=n?function(n,t,i,r){return n.coord[Math.floor(r/2)][r%2]}:function(n){return n.value},u.initData(e,null,o),u.hasItemOption=!0,u}function vc(n,t){lft[n]=t}function ypt(n){return lft[n]}function bvi(n){return 0===n.indexOf("my")}function vv(n){this.model=n}function kn(n){this.model=n}function kvi(n){var t={},i=[],r=[];return n.eachRawSeries(function(n){var f=n.coordinateSystem,u,e;f&&("cartesian2d"===f.type||"polar"===f.type)?(u=f.getBaseAxis(),"category"===u.type?(e=u.dim+"_"+u.index,t[e]||(t[e]={categoryAxis:u,valueAxis:f.getOtherAxis(u),series:[]},r.push({axisDim:u.dim,axisIndex:u.index})),t[e].series.push(n)):i.push(n)):i.push(n)}),{seriesGroupByCategoryAxis:t,other:i,meta:r}}function dvi(n){var r=[];return t(n,function(n){var h=n.categoryAxis,c=n.valueAxis,l=c.dim,a=[" "].concat(i(n.series,function(n){return n.name})),u=[h.model.getCategories()],o,f,s,e;for(t(n.series,function(n){u.push(n.getRawData().mapArray(l,function(n){return n}))}),o=[a.join(uo)],f=0;f<u[0].length;f++){for(s=[],e=0;e<u.length;e++)s.push(u[e][f]);o.push(s.join(uo))}r.push(o.join("\n"))}),r.join("\n\n"+tb+"\n\n")}function gvi(n){return i(n,function(n){var t=n.getRawData(),i=[n.name],r=[];return t.each(t.dimensions,function(){for(var u=arguments.length,e=arguments[u-1],f=t.getName(e),n=0;u-1>n;n++)r[n]=arguments[n];i.push((f?f+uo:"")+r.join(uo))}),i.join("\n")}).join("\n\n"+tb+"\n\n")}function nyi(n){var t=kvi(n);return{value:wt([dvi(t.seriesGroupByCategoryAxis),gvi(t.other)],function(n){return n.replace(/[\n\t\s]/g,"")}).join("\n\n"+tb+"\n\n"),meta:t.meta}}function yv(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function tyi(n){var t=n.slice(0,n.indexOf("\n"));if(t.indexOf(uo)>=0)return!0}function iyi(n){for(var u,t,f=n.split(/\n+/g),s=yv(f.shift()).split(pft),o=[],e=i(s,function(n){return{name:n,data:[]}}),r=0;r<f.length;r++)for(u=yv(f[r]).split(pft),o.push(u.shift()),t=0;t<u.length;t++)e[t]&&(e[t].data[r]=u[t]);return{series:e,categories:o}}function ryi(n){for(var f,e=n.split(/\n+/g),h=yv(e.shift()),i=[],t=0;t<e.length;t++){var r,u=yv(e[t]).split(pft),o="",s=!1;for(isNaN(u[0])?(s=!0,o=u[0],u=u.slice(1),i[t]={name:o,value:[]},r=i[t].value):r=i[t]=[],f=0;f<u.length;f++)r.push(+u[f]);1===r.length&&(s?i[t].value=r[0]:i[t]=r[0])}return{name:h,data:i}}function uyi(n,i){var u=n.split(new RegExp("\n*"+tb+"\n*","g")),r={series:[]};return t(u,function(n,t){var u;if(tyi(n)){var u=iyi(n),f=i[t],e=f.axisDim+"Axis";f&&(r[e]=r[e]||[],r[e][f.axisIndex]={data:u.categories},r.series=r.series.concat(u.series))}else u=ryi(n),r.series.push(u)}),r}function yc(n){this._dom=null;this.model=n}function fyi(n,t){return i(n,function(n,i){var r=t&&t[i];return f(r)&&!u(r)?(f(n)&&!u(n)&&(n=n.value),l({value:n},r)):n})}function eyi(n,t,i){var r=ppt(n);r[t]=i}function oyi(n,t,i){var r=ppt(n),u=r[t];u===i&&(r[t]=null)}function ppt(n){return n[wft]||(n[wft]={})}function pv(n){st.call(this);this._zr=n;this.group=new o;this._brushType;this._brushOption;this._panels;this._track=[];this._dragging;this._covers=[];this._creatingCover;this._creatingPanel;this._enableGlobalPan;this._uid="brushController_"+ctr++;this._handlers={};gr(ltr,function(n,t){this._handlers[t]=ut(n,this)},this)}function syi(n,t){var i=n._zr;n._enableGlobalPan||eyi(i,rti,n._uid);gr(n._handlers,function(n,t){i.on(t,n)});n._brushType=t.brushType;n._brushOption=s(v(uti),t,!0)}function hyi(n){var t=n._zr;oyi(t,rti,n._uid);gr(n._handlers,function(n,i){t.off(i,n)});n._brushType=n._brushOption=null}function wpt(n,t){var i=ib[t.brushType].createCover(n,t);return i.__brushOption=t,dpt(i,t),n.group.add(i),i}function bpt(n,t){var i=gn(t);return i.endCreating&&(i.endCreating(n,t),dpt(t,t.__brushOption)),t}function kpt(n,t){var i=t.__brushOption;gn(t).updateCoverShape(n,t,i.range,i)}function dpt(n,t){var i=t.z;null==i&&(i=ftr);n.traverse(function(n){n.z=i;n.z2=i})}function dn(n,t){gn(t).updateCommon(n,t);kpt(n,t)}function gn(n){return ib[n.__brushOption.brushType]}function ntt(n,t,i){var r=n._panels,u,f;return r?(f=n._transform,gr(r,function(n){n.isTargetByCursor(t,i,f)&&(u=n)}),u):!0}function gpt(n,t){var r=n._panels,i;return r?(i=t.__brushOption.panelId,null!=i?r[i]:!0):!0}function ttt(n){var t=n._covers,i=t.length;return gr(t,function(t){n.group.remove(t)},n),t.length=0,!!i}function ce(n,t){var i=rtr(n._covers,function(n){var t=n.__brushOption,i=v(t.range);return{brushType:t.brushType,panelId:t.panelId,range:i}});n.trigger("brush",i,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function cyi(n){var t=n._track;if(!t.length)return!1;var i=t[t.length-1],r=t[0],u=i[0]-r[0],f=i[1]-r[1],e=utr(u*u+f*f,.5);return e>etr}function nwt(n){var t=n.length-1;return 0>t&&(t=0),[n[0],n[t]]}function twt(n,t,i,r){var u=new o;return u.add(new ht({name:"main",style:rtt(i),silent:!0,draggable:!0,cursor:"move",drift:kf(n,t,u,"nswe"),ondragend:kf(ce,t,{isEnd:!0})})),gr(r,function(i){u.add(new ht({name:i,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:kf(n,t,u,i),ondragend:kf(ce,t,{isEnd:!0})}))}),u}function iwt(n,t,i,r){var f=r.brushStyle.lineWidth||0,u=uh(f,otr),s=i[0][0],h=i[1][0],e=s-f/2,o=h-f/2,a=i[0][1],v=i[1][1],c=a-u+f/2,l=v-u+f/2,y=a-s,p=v-h,w=y+f,b=p+f;cu(n,t,"main",s,h,y,p);r.transformable&&(cu(n,t,"w",e,o,u,b),cu(n,t,"e",c,o,u,b),cu(n,t,"n",e,o,w,u),cu(n,t,"s",e,l,w,u),cu(n,t,"nw",e,o,u,u),cu(n,t,"ne",c,o,u,u),cu(n,t,"sw",e,l,u,u),cu(n,t,"se",c,l,u,u))}function itt(n,t){var r=t.__brushOption,i=r.transformable,u=t.childAt(0);u.useStyle(rtt(r));u.attr({silent:!i,cursor:i?"move":"default"});gr(["w","e","n","s","se","sw","ne","nw"],function(r){var u=t.childOfName(r),f=utt(n,r);u&&u.attr({silent:!i,invisible:!i,cursor:i?htr[f]+"-resize":null})})}function cu(n,t,i,r,u,f,e){var o=t.childOfName(i);o&&o.setShape(vyi(ftt(n,t,[[r,u],[r+f,u+e]])))}function rtt(n){return l({strokeNoScale:!0},n.brushStyle)}function rwt(n,t,i,r){var u=[wl(n,i),wl(t,r)],f=[uh(n,i),uh(t,r)];return[[u[0],f[0]],[u[1],f[1]]]}function lyi(n){return gk(n.group)}function utt(n,t){var i;if(t.length>1)return t=t.split(""),i=[utt(n,t[0]),utt(n,t[1])],("e"===i[0]||"w"===i[0])&&i.reverse(),i.join("");var i=vht({w:"left",e:"right",n:"top",s:"bottom"}[t],lyi(n));return{left:"w",right:"e",top:"n",bottom:"s"}[i]}function uwt(n,t,i,r,u,f,e){var s=r.__brushOption,o=n(s.range),h=fwt(i,f,e);gr(u.split(""),function(n){var t=str[n];o[t[0]][t[1]]+=h[t[0]]});s.range=t(rwt(o[0][0],o[1][0],o[0][1],o[1][1]));dn(i,r);ce(i,{isEnd:!1})}function ayi(n,t,i,r){var f=t.__brushOption.range,u=fwt(n,i,r);gr(f,function(n){n[0]+=u[0];n[1]+=u[1]});dn(n,t);ce(n,{isEnd:!1})}function fwt(n,t,i){var r=n.group,u=r.transformCoordToLocal(t,i),f=r.transformCoordToLocal(0,0);return[u[0]-f[0],u[1]-f[1]]}function ftt(n,t,i){var r=gpt(n,t);return r&&r!==!0?r.clipPath(i,n._transform):v(i)}function vyi(n){var t=wl(n[0][0],n[1][0]),i=wl(n[0][1],n[1][1]),r=uh(n[0][0],n[1][0]),u=uh(n[0][1],n[1][1]);return{x:t,y:i,width:r-t,height:u-i}}function yyi(n,t,i){var r,e;if(n._brushType){var o=n._zr,f=n._covers,u=ntt(n,t,i);if(!n._dragging)for(r=0;r<f.length;r++)if(e=f[r].__brushOption,u&&(u===!0||e.panelId===u.panelId)&&ib[e.brushType].contain(f[r],i[0],i[1]))return;u&&o.setCursorStyle("crosshair")}}function ett(n){var t=n.event;t.preventDefault&&t.preventDefault()}function ott(n,t,i){return n.childOfName("main").contain(t,i)}function ewt(n,t,i,r){var s,u=n._creatingCover,f=n._creatingPanel,o=n._brushOption,e,h,c;return(n._track.push(i.slice()),cyi(n)||u)?(f&&!u&&("single"===o.brushMode&&ttt(n),e=v(o),e.brushType=owt(e.brushType,f),e.panelId=f===!0?null:f.panelId,u=n._creatingCover=wpt(n,e),n._covers.push(u)),u&&(h=ib[owt(n._brushType,f)],c=u.__brushOption,c.range=h.getCreatingRange(ftt(n,u,n._track)),r&&(bpt(n,u),h.updateCommon(n,u)),kpt(n,u),s={isEnd:r})):r&&"single"===o.brushMode&&o.removeOnClick&&ntt(n,t,i)&&ttt(n)&&(s={isEnd:r,removeOnClick:!0}),s}function owt(n,t){return"auto"===n?t.defaultBrushType:n}function swt(n){if(this._dragging){ett(n);var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY),t=ewt(this,n,i,!0);this._dragging=!1;this._track=[];this._creatingCover=null;t&&ce(this,t)}}function hwt(n){return{createCover:function(t,i){return twt(kf(uwt,function(t){var i=[t,[0,100]];return n&&i.reverse(),i},function(t){return t[n]}),t,i,[["w","e"],["n","s"]][n])},getCreatingRange:function(t){var i=nwt(t),r=wl(i[0][n],i[1][n]),u=uh(i[0][n],i[1][n]);return[r,u]},updateCoverShape:function(t,i,r,u){var f,e=gpt(t,i),o,s;e!==!0&&e.getLinearBrushOtherExtent?f=e.getLinearBrushOtherExtent(n,t._transform):(o=t._zr,f=[0,[o.getWidth(),o.getHeight()][1-n]]);s=[r,f];n&&s.reverse();iwt(t,i,s,u)},updateCommon:itt,contain:ott}}function pyi(n,t,i){var r=t.getComponentByElement(n.topTarget),u=r&&r.coordinateSystem;return r&&r!==i&&!atr[r.mainType]&&u&&u.model!==i}function wyi(n){return n=stt(n),function(t){return pht(t,n)}}function byi(n,t){return n=stt(n),function(i){var r=null!=t?t:i,f=r?n.width:n.height,u=r?n.x:n.y;return[u,u+(f||0)]}}function kyi(n,t,i){return n=stt(n),function(r,u){return n.contain(u[0],u[1])&&!pyi(r,t,i)}}function stt(n){return d.create(n)}function htt(n,t,i){var r=this._targetInfoList=[],u={},f=cwt(t,n);df(ytr,function(n,t){(!i||!i.include||rb(i.include,t)>=0)&&n(f,r,u)})}function ctt(n){return n[0]>n[1]&&n.reverse(),n}function cwt(n,t){return ya(n,t,{includeMainTypes:vtr})}function lwt(n,t,r,u){var f=r.getAxis(["x","y"][n]),o=ctt(i([0,1],function(n){return t?f.coordToData(f.toLocalCoord(u[n])):f.toGlobalCoord(f.dataToCoord(u[n]))})),e=[];return e[n]=o,e[1-n]=[NaN,NaN],{values:o,xyMinMax:e}}function awt(n,t,i,r){return[t[0]-r[n]*i[0],t[1]-r[n]*i[1]]}function dyi(n,t){var r=vwt(n),u=vwt(t),i=[r[0]/u[0],r[1]/u[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function vwt(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}function gyi(n,t){var i=ltt(n);sti(t,function(t,r){for(var o,f,e,u=i.length-1;u>=0;u--)if(o=i[u],o[r])break;0>u&&(f=n.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0],f&&(e=f.getPercentRange(),i[0][r]={dataZoomId:r,start:e[0],end:e[1]}))});i.push(t)}function npi(n){var t=ltt(n),r=t[t.length-1],i;return t.length>1&&t.pop(),i={},sti(r,function(n,r){for(var n,u=t.length-1;u>=0;u--)if(n=t[u][r],n){i[r]=n;break}}),i}function tpi(n){n[dft]=null}function ipi(n){return ltt(n).length}function ltt(n){var t=n[dft];return t||(t=n[dft]=[{}]),t}function att(n,t){var i=n[t]-n[1-t];return{span:Math.abs(i),sign:i>0?-1:0>i?1:t?-1:1}}function wv(n,t){return Math.min(t[1],Math.max(t[0],n))}function rpi(n){return y(wtr,n)>=0}function upi(n,r){var u,f;return n=n.slice(),u=i(n,od),r=(r||[]).slice(),f=i(r,od),function(i,e){t(n,function(n,t){for(var s={name:n,capital:u[t]},o=0;o<r.length;o++)s[r[o]]=n+f[o];i.call(e,s)})}}function fpi(n,i,r){function f(n,t){return y(t.nodes,n)>=0}function e(n,u){var f=!1;return i(function(i){t(r(n,i)||[],function(n){u.records[i.name][n]&&(f=!0)})}),f}function u(n,u){u.nodes.push(n);i(function(i){t(r(n,i)||[],function(n){u.records[i.name][n]=!0})})}return function(t){function s(n){!f(n,r)&&e(n,r)&&(u(n,r),o=!0)}var r={nodes:[],records:{}},o;if(i(function(n){r.records[n.name]={}}),!t)return r;u(t,r);do o=!1,n(s);while(o);return r}}function epi(n,t,i){var r=[1/0,-1/0];return gf(i,function(n){var i=n.getData();i&&gf(i.mapDimension(t,!0),function(n){var t=i.getApproximateExtent(n);t[0]<r[0]&&(r[0]=t[0]);t[1]>r[1]&&(r[1]=t[1])})}),r[1]<r[0]&&(r=[NaN,NaN]),opi(n,r),r}function opi(n,t){var i=n.getAxisModel(),u=i.getMin(!0),f="category"===i.get("type"),e=f&&i.getCategories().length,r;return null!=u&&"dataMin"!==u&&"function"!=typeof u?t[0]=u:f&&(t[0]=e>0?0:NaN),r=i.getMax(!0),null!=r&&"dataMax"!==r&&"function"!=typeof r?t[1]=r:f&&(t[1]=e>0?e-1:NaN),i.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function ywt(n,t){var e=n.getAxisModel(),r=n._percentWindow,u=n._valueWindow,i,f;r&&(i=id(u,[0,500]),i=Math.min(i,20),f=t||0===r[0]&&100===r[1],e.setRange(f?null:+u[0].toFixed(i),f?null:+u[1].toFixed(i)))}function spi(n){var t=n._minMaxSpan={},i=n._dataZoomModel;gf(["min","max"],function(r){var u,f;t[r+"Span"]=i.get(r+"Span");u=i.get(r+"ValueSpan");null!=u&&(t[r+"ValueSpan"]=u,u=n.getAxisModel().axis.scale.parse(u),null!=u)&&(f=n._dataExtent,t[r+"Span"]=oe(f[0]+u,f,[0,100],!0))})}function pwt(n){var t={};return eh(["start","end","startValue","endValue","throttle"],function(i){n.hasOwnProperty(i)&&(t[i]=n[i])}),t}function wwt(n,t){var i=n._rangePropMode,r=n.get("rangeMode");eh([["start","startValue"],["end","endValue"]],function(n,u){var f=null!=t[n[0]],e=null!=t[n[1]];f&&!e?i[u]="percent":!f&&e?i[u]="value":r?i[u]=r[u]:f&&(i[u]="percent")})}function vtt(n,t,i){(this._brushController=new pv(i.getZr())).on("brush",ut(this._onBrush,this)).mount();this._isZoomActive}function bwt(n){var i={};return t(["xAxisIndex","yAxisIndex"],function(t){i[t]=n[t];null==i[t]&&(i[t]="all");(i[t]===!1||"none"===i[t])&&(i[t]=[])}),i}function hpi(n,t){n.setIconStatus("back",ipi(t)>1?"emphasis":"normal")}function cpi(n,t,i,r,u){var f=i._isZoomActive,e;r&&"takeGlobalCursor"===r.type&&(f="dataZoomSelect"===r.key?r.dataZoomSelectActive:!1);i._isZoomActive=f;n.setIconStatus("zoom",f?"emphasis":"normal");e=new htt(bwt(n.option),t,{include:["grid"]});i._brushController.setPanels(e.makePanelOpts(u,function(n){return n.xAxisDeclared&&!n.yAxisDeclared?"lineX":!n.xAxisDeclared&&n.yAxisDeclared?"lineY":"rect"})).enableBrush(f?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}function ytt(n){this.model=n}var lpi=2311,kwt=function(){return lpi++},dwt={},kv,wtt,btt,st,ktt,ibt,ae,gtt,kc,nit,fs,fit,dc,gc,cr,o,fy,ey,oy,sy,es,ay,git,ys,fl,ckt,art,bkt,bp,drt,bs,ks,wr,gp,nw,nut,fdt,iw,ds,tut,h,lu,pdt,gdt,igt,cw,out,lw,aw,vw,sgt,yut,al,vl,put,vf,wut,at,cgt,lgt,ki,bgt,io,gut,nft,hnt,cnt,bf,bnt,knt,cft,lft,dnt,aft,gnt,nti,vft,yft,tti,wft,eo,ati,vti,yti;dwt="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:pti(navigator.userAgent);var e=dwt,gwt={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},nbt={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},pc=Object.prototype.toString,wc=Array.prototype,api=wc.forEach,vpi=wc.filter,bc=wc.slice,ypi=wc.map,ppi=wc.reduce,ptt={},bv=function(){return ptt.createCanvas()};ptt.createCanvas=function(){return document.createElement("canvas")};wtt="__ec_primitive__";bl.prototype={constructor:bl,get:function(n){return this.hasOwnProperty(n)?this[n]:null},set:function(n,t){return this[n]=t},each:function(n,t){void 0!==t&&(n=ut(n,t));for(var i in this)this.hasOwnProperty(i)&&n(this[i],i)},removeKey:function(n){delete this[n]}};var wpi=(Object.freeze||Object)({$override:net,clone:v,merge:s,mergeAll:fb,extend:c,defaults:l,createCanvas:bv,getContext:tet,indexOf:y,inherits:vt,mixin:rt,isArrayLike:nu,each:t,map:i,reduce:oh,filter:wt,find:wti,bind:ut,curry:p,isArray:u,isFunction:fr,isString:dt,isObject:f,isBuiltInObject:eb,isTypedArray:er,isDom:sh,eqNaN:hh,retrieve:yu,retrieve2:gt,retrieve3:oo,slice:ob,normalizeCssArray:sb,assert:so,trim:hb,setAsPrimitive:cb,isPrimitive:ho,createHashMap:a,concatArray:bti,noop:pu}),tbt="undefined"==typeof Float32Array?Array:Float32Array,bpi=vb,kpi=yb,dv=ch,le=uet,dpi=(Object.freeze||Object)({create:ne,copy:iet,clone:lb,set:kti,add:ab,scaleAndAdd:ret,sub:kl,len:vb,length:bpi,lenSquare:yb,lengthSquare:kpi,mul:dti,div:gti,dot:nii,scale:dl,normalize:gl,distance:ch,dist:dv,distanceSquare:uet,distSquare:le,negate:tii,lerp:iii,applyTransform:ni,min:tu,max:iu});na.prototype={constructor:na,_dragStart:function(n){var t=n.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.dispatchToElement(co(t,n),"dragstart",n.event))},_drag:function(n){var i=this._draggingTarget,t,r;if(i){var u=n.offsetX,f=n.offsetY,e=u-this._x,o=f-this._y;this._x=u;this._y=f;i.drift(e,o,n);this.dispatchToElement(co(i,n),"drag",n.event);t=this.findHover(u,f,i).target;r=this._dropTarget;this._dropTarget=t;i!==t&&(r&&t!==r&&this.dispatchToElement(co(r,n),"dragleave",n.event),t&&t!==r&&this.dispatchToElement(co(t,n),"dragenter",n.event))}},_dragEnd:function(n){var t=this._draggingTarget;t&&(t.dragging=!1);this.dispatchToElement(co(t,n),"dragend",n.event);this._dropTarget&&this.dispatchToElement(co(this._dropTarget,n),"drop",n.event);this._draggingTarget=null;this._dropTarget=null}};btt=Array.prototype.slice;st=function(){this._$handlers={}};st.prototype={constructor:st,one:function(n,t,i){var r=this._$handlers,u;if(!t||!n)return this;for(r[n]||(r[n]=[]),u=0;u<r[n].length;u++)if(r[n][u].h===t)return this;return r[n].push({h:t,one:!0,ctx:i||this}),this},on:function(n,t,i){var r=this._$handlers,u;if(!t||!n)return this;for(r[n]||(r[n]=[]),u=0;u<r[n].length;u++)if(r[n][u].h===t)return this;return r[n].push({h:t,one:!1,ctx:i||this}),this},isSilent:function(n){var t=this._$handlers;return t[n]&&t[n].length},off:function(n,t){var i=this._$handlers;if(!n)return this._$handlers={},this;if(t){if(i[n]){for(var u=[],r=0,f=i[n].length;f>r;r++)i[n][r].h!=t&&u.push(i[n][r]);i[n]=u}i[n]&&0===i[n].length&&delete i[n]}else delete i[n];return this},trigger:function(n){var r,u;if(this._$handlers[n]){r=arguments;u=r.length;u>3&&(r=btt.call(r,1));for(var i=this._$handlers[n],f=i.length,t=0;f>t;){switch(u){case 1:i[t].h.call(i[t].ctx);break;case 2:i[t].h.call(i[t].ctx,r[1]);break;case 3:i[t].h.call(i[t].ctx,r[1],r[2]);break;default:i[t].h.apply(i[t].ctx,r)}i[t].one?(i.splice(t,1),f--):t++}}return this},triggerWithContext:function(n){var t,f;if(this._$handlers[n]){t=arguments;f=t.length;f>4&&(t=btt.call(t,1,t.length-1));for(var u=t[t.length-1],r=this._$handlers[n],e=r.length,i=0;e>i;){switch(f){case 1:r[i].h.call(u);break;case 2:r[i].h.call(u,t[1]);break;case 3:r[i].h.call(u,t[1],t[2]);break;default:r[i].h.apply(u,t)}r[i].one?(r.splice(i,1),e--):i++}}return this}};ktt="silent";fet.prototype.dispose=function(){};ibt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];ae=function(n,t,i,r){st.call(this);this.storage=n;this.painter=t;this.painterRoot=r;i=i||new fet;this.proxy=null;this._hovered={};this._lastTouchMoment;this._lastX;this._lastY;na.call(this);this.setHandlerProxy(i)};ae.prototype={constructor:ae,setHandlerProxy:function(n){this.proxy&&this.proxy.dispose();n&&(t(ibt,function(t){n.on&&n.on(t,this[t],this)},this),n.handler=this);this.proxy=n},mousemove:function(n){var e=n.zrX,o=n.zrY,t=this._hovered,i=t.target;i&&!i.__zr&&(t=this.findHover(t.x,t.y),i=t.target);var u=this._hovered=this.findHover(e,o),r=u.target,f=this.proxy;f.setCursor&&f.setCursor(r?r.cursor:"default");i&&r!==i&&this.dispatchToElement(t,"mouseout",n);this.dispatchToElement(u,"mousemove",n);r&&r!==i&&this.dispatchToElement(u,"mouseover",n)},mouseout:function(n){this.dispatchToElement(this._hovered,"mouseout",n);var i,t=n.toElement||n.relatedTarget;do t=t&&t.parentNode;while(t&&9!=t.nodeType&&!(i=t===this.painterRoot));i||this.trigger("globalout",{event:n})},resize:function(){this._hovered={}},dispatch:function(n,t){var i=this[n];i&&i.call(this,t)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(n){var t=this.proxy;t.setCursor&&t.setCursor(n)},dispatchToElement:function(n,t,i){var r,f,u;if(n=n||{},r=n.target,!r||!r.silent){for(f="on"+t,u=rii(t,n,i);r&&(r[f]&&(u.cancelBubble=r[f].call(r,u)),r.trigger(t,u),r=r.parent,!u.cancelBubble););u.cancelBubble||(this.trigger(t,u),this.painter&&this.painter.eachOtherLayer(function(n){"function"==typeof n[f]&&n[f].call(n,u);n.trigger&&n.trigger(t,u)}))}},findHover:function(n,t,i){for(var e,u=this.storage.getDisplayList(),f={x:n,y:t},r=u.length-1;r>=0;r--)if(u[r]!==i&&!u[r].ignore&&(e=uii(u[r],n,t))&&(!f.topTarget&&(f.topTarget=u[r]),e!==ktt)){f.target=u[r];break}return f}};t(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){ae.prototype[n]=function(t){var r=this.findHover(t.zrX,t.zrY),i=r.target;if("mousedown"===n)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===n)this._upEl=i;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||dv(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(r,n,t)}});rt(ae,st);rt(ae,na);var gpi="undefined"==typeof Float32Array?Array:Float32Array,nwi=(Object.freeze||Object)({create:lo,identity:lh,copy:pb,mul:ao,translate:ta,rotate:ia,scale:wb,invert:bb,clone:fii}),dtt=lh,rbt=5e-5,us=function(n){n=n||{};n.position||(this.position=[0,0]);null==n.rotation&&(this.rotation=0);n.scale||(this.scale=[1,1]);this.origin=this.origin||null},hr=us.prototype;hr.transform=null;hr.needLocalTransform=function(){return te(this.rotation)||te(this.position[0])||te(this.position[1])||te(this.scale[0]-1)||te(this.scale[1]-1)};hr.updateTransform=function(){var t=this.parent,r=t&&t.transform,i=this.needLocalTransform(),n=this.transform;return i||r?(n=n||lo(),i?this.getLocalTransform(n):dtt(n),r&&(i?ao(n,t.transform,n):pb(n,t.transform)),this.transform=n,this.invTransform=this.invTransform||lo(),void bb(this.invTransform,n)):void(n&&dtt(n))};hr.getLocalTransform=function(n){return us.getLocalTransform(this,n)};hr.setTransform=function(n){var i=this.transform,t=n.dpr||1;i?n.setTransform(t*i[0],t*i[1],t*i[2],t*i[3],t*i[4],t*i[5]):n.setTransform(t,0,0,t,0,0)};hr.restoreTransform=function(n){var t=n.dpr||1;n.setTransform(t,0,0,t,0,0)};gtt=[];hr.decomposeTransform=function(){var r,n;if(this.transform){r=this.parent;n=this.transform;r&&r.transform&&(ao(gtt,r.invTransform,n),n=gtt);var t=n[0]*n[0]+n[1]*n[1],i=n[2]*n[2]+n[3]*n[3],u=this.position,f=this.scale;te(t-1)&&(t=Math.sqrt(t));te(i-1)&&(i=Math.sqrt(i));n[0]<0&&(t=-t);n[3]<0&&(i=-i);u[0]=n[4];u[1]=n[5];f[0]=t;f[1]=i;this.rotation=Math.atan2(-n[1]/i,n[0]/t)}};hr.getGlobalScale=function(){var n=this.transform,t,i;return n?(t=Math.sqrt(n[0]*n[0]+n[1]*n[1]),i=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t=-t),n[3]<0&&(i=-i),[t,i]):[1,1]};hr.transformCoordToLocal=function(n,t){var i=[n,t],r=this.invTransform;return r&&ni(i,i,r),i};hr.transformCoordToGlobal=function(n,t){var i=[n,t],r=this.transform;return r&&ni(i,i,r),i};us.getLocalTransform=function(n,t){t=t||[];dtt(t);var i=n.origin,f=n.scale||[1,1],r=n.rotation||0,u=n.position||[0,0];return i&&(t[4]-=i[0],t[5]-=i[1]),wb(t,t,f),r&&ia(t,t,r),i&&(t[4]+=i[0],t[5]+=i[1]),t[4]+=u[0],t[5]+=u[1],t};kc={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var i,t=.1,r=.4;return 0===n?0:1===n?1:(!t||1>t?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin(2*(n-i)*Math.PI/r)))},elasticOut:function(n){var i,t=.1,r=.4;return 0===n?0:1===n?1:(!t||1>t?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin(2*(n-i)*Math.PI/r)+1)},elasticInOut:function(n){var i,t=.1,r=.4;return 0===n?0:1===n?1:(!t||1>t?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*t*Math.pow(2,10*(n-=1))*Math.sin(2*(n-i)*Math.PI/r):t*Math.pow(2,-10*(n-=1))*Math.sin(2*(n-i)*Math.PI/r)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?.5*n*n*((t+1)*n-t):.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-kc.bounceOut(1-n)},bounceOut:function(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return.5>n?.5*kc.bounceIn(2*n):.5*kc.bounceOut(2*n-1)+.5}};kb.prototype={constructor:kb,step:function(n,t){var i;if(this._initialized||(this._startTime=n+this._delay,this._initialized=!0),this._paused)return void(this._pausedTime+=t);if(i=(n-this._startTime-this._pausedTime)/this._life,!(0>i)){i=Math.min(i,1);var r=this.easing,u="string"==typeof r?kc[r]:r,f="function"==typeof u?u(i):i;return this.fire("frame",f),1==i?this.loop?(this.restart(n),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(n){var t=(n-this._startTime-this._pausedTime)%this._life;this._startTime=n-t+this.gap;this._pausedTime=0;this._needsRemove=!1},fire:function(n,t){n="on"+n;this[n]&&this[n](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};nit=function(){this.head=null;this.tail=null;this._len=0};fs=nit.prototype;fs.insert=function(n){var t=new ubt(n);return this.insertEntry(t),t};fs.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n;this._len++};fs.remove=function(n){var t=n.prev,i=n.next;t?t.next=i:this.head=i;i?i.prev=t:this.tail=t;n.next=n.prev=null;this._len--};fs.len=function(){return this._len};fs.clear=function(){this.head=this.tail=null;this._len=0};var ubt=function(n){this.value=n;this.next;this.prev},tit=function(n){this._list=new nit;this._map={};this._maxSize=n||10;this._lastRemovedEntry=null},iit=tit.prototype;iit.put=function(n,t){var u=this._list,f=this._map,o=null,e,i,r;return null==f[n]&&(e=u.len(),i=this._lastRemovedEntry,e>=this._maxSize&&e>0&&(r=u.head,u.remove(r),delete f[r.key],o=r.value,this._lastRemovedEntry=r),i?i.value=t:i=new ubt(t),i.key=n,u.insertEntry(i),f[n]=i),o};iit.get=function(n){var t=this._map[n],i=this._list;if(null!=t)return(t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value)};iit.clear=function(){this._list.clear();this._map={}};var fbt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},ebt=new tit(20),gv=null,twi=set,iwi=het,rwi=(Object.freeze||Object)({parse:ru,lift:eet,toHex:oet,fastLerp:set,fastMapToColor:twi,lerp:het,mapToColor:iwi,modifyHSL:sii,modifyAlpha:cet,stringify:po}),rit=Array.prototype.slice,uit=function(n,t,i,r){this._tracks={};this._target=n;this._loop=t||!1;this._getter=i||hii;this._setter=r||cii;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};uit.prototype={when:function(n,t){var r=this._tracks,i,u;for(i in t)if(t.hasOwnProperty(i)){if(!r[i]){if(r[i]=[],u=this._getter(this._target,i),null==u)continue;0!==n&&r[i].push({time:0,value:aii(u)})}r[i].push({time:n,value:t[i]})}return this},during:function(n){return this._onframeList.push(n),this},pause:function(){for(var n=0;n<this._clipList.length;n++)this._clipList[n].pause();this._paused=!0},resume:function(){for(var n=0;n<this._clipList.length;n++)this._clipList[n].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;for(var t=this._doneList,i=t.length,n=0;i>n;n++)t[n].call(this)},start:function(n,t){var r,e=this,u=0,s=function(){u--;u||e._doneCallback()},f,i,o;for(f in this._tracks)this._tracks.hasOwnProperty(f)&&(i=yii(this,n,s,this._tracks[f],f,t),i&&(this._clipList.push(i),u++,this.animation&&this.animation.addClip(i),r=i));return r&&(o=r.onframe,r.onframe=function(n,t){o(n,t);for(var i=0;i<e._onframeList.length;i++)e._onframeList[i](n,t)}),u||this._doneCallback(),this},stop:function(n){for(var r,t=this._clipList,u=this.animation,i=0;i<t.length;i++)r=t[i],n&&r.onframe(this._target,1),u&&u.removeClip(r);t.length=0},delay:function(n){return this._delay=n,this},done:function(n){return n&&this._doneList.push(n),this},getClips:function(){return this._clipList}};fit=1;"undefined"!=typeof window&&(fit=Math.max(window.devicePixelRatio||1,1));var obt=0,ny=fit,eit=function(){};1===obt?eit=function(){for(var n in arguments)throw new Error(arguments[n]);}:obt>1&&(eit=function(){for(var n in arguments)console.log(arguments[n])});dc=eit;gc=function(){this.animators=[]};gc.prototype={constructor:gc,animate:function(n,t){var f,h=!1,u=this,c=this.__zr,e,i,o,l,s,r;if(n){for(e=n.split("."),i=u,h="shape"===e[0],o=0,l=e.length;l>o;o++)i&&(i=i[e[o]]);i&&(f=i)}else f=u;return f?(s=u.animators,r=new uit(f,t),r.during(function(){u.dirty(h)}).done(function(){s.splice(y(s,r),1)}),s.push(r),c&&c.animation.addAnimator(r),r):void dc('Property "'+n+'" is not existed in element '+u.id)},stopAnimation:function(n){for(var t=this.animators,r=t.length,i=0;r>i;i++)t[i].stop(n);return t.length=0,this},animateTo:function(n,t,i,r,u,f){function h(){o--;o||u&&u()}var e,o,s;for(dt(i)?(u=r,r=i,i=0):fr(r)?(u=r,r="linear",i=0):fr(i)?(u=i,i=0):fr(t)?(u=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,n,t,i),e=this.animators.slice(),o=e.length,o||u&&u(),s=0;s<e.length;s++)e[s].done(h).start(r,f)},_animateToShallow:function(n,t,i,r,u){var s={},h=0,e,o;for(e in i)i.hasOwnProperty(e)&&(null!=t[e]?f(i[e])&&!nu(i[e])?this._animateToShallow(n?n+"."+e:e,t[e],i[e],r,u):(s[e]=i[e],h++):null!=i[e]&&(n?(o={},o[n]={},o[n][e]=i[e],this.attr(o)):this.attr(e,i[e])));return h>0&&this.animate(n,!1).when(null==r?500:r,s).delay(u||0),this}};cr=function(n){us.call(this,n);st.call(this,n);gc.call(this,n);this.id=n.id||kwt()};cr.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(n,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":n=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]);i[4]+=n;i[5]+=t;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(n,t){if("position"===n||"scale"===n||"origin"===n){if(t){var i=this[n];i||(i=this[n]=[]);i[0]=t[0];i[1]=t[1]}}else this[n]=t},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(n,t){if("string"==typeof n)this.attrKV(n,t);else if(f(n))for(var i in n)n.hasOwnProperty(i)&&this.attrKV(i,n[i]);return this.dirty(!1),this},setClipPath:function(n){var t=this.__zr;t&&n.addSelfToZr(t);this.clipPath&&this.clipPath!==n&&this.removeClipPath();this.clipPath=n;n.__zr=t;n.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var n=this.clipPath;n&&(n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(n){var t,i;if(this.__zr=n,t=this.animators,t)for(i=0;i<t.length;i++)n.animation.addAnimator(t[i]);this.clipPath&&this.clipPath.addSelfToZr(n)},removeSelfFromZr:function(n){var t,i;if(this.__zr=null,t=this.animators,t)for(i=0;i<t.length;i++)n.animation.removeAnimator(t[i]);this.clipPath&&this.clipPath.removeSelfFromZr(n)}};rt(cr,gc);rt(cr,us);rt(cr,st);var ty=ni,iy=Math.min,ry=Math.max;d.prototype={constructor:d,union:function(n){var t=iy(n.x,this.x),i=iy(n.y,this.y);this.width=ry(n.x+n.width,this.x+this.width)-t;this.height=ry(n.y+n.height,this.y+this.height)-i;this.x=t;this.y=i},applyTransform:function(){var n=[],t=[],i=[],r=[];return function(u){if(u){n[0]=i[0]=this.x;n[1]=r[1]=this.y;t[0]=r[0]=this.x+this.width;t[1]=i[1]=this.y+this.height;ty(n,n,u);ty(t,t,u);ty(i,i,u);ty(r,r,u);this.x=iy(n[0],t[0],i[0],r[0]);this.y=iy(n[1],t[1],i[1],r[1]);var f=ry(n[0],t[0],i[0],r[0]),e=ry(n[1],t[1],i[1],r[1]);this.width=f-this.x;this.height=e-this.y}}}(),calculateTransform:function(n){var i=this,r=n.width/i.width,u=n.height/i.height,t=lo();return ta(t,t,[-i.x,-i.y]),wb(t,t,[r,u]),ta(t,t,[n.x,n.y]),t},intersect:function(n){if(!n)return!1;n instanceof d||(n=d.create(n));var t=this,i=t.x,r=t.x+t.width,u=t.y,f=t.y+t.height,e=n.x,o=n.x+n.width,s=n.y,h=n.y+n.height;return!(e>r||i>o||s>f||u>h)},contain:function(n,t){var i=this;return n>=i.x&&n<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},clone:function(){return new d(this.x,this.y,this.width,this.height)},copy:function(n){this.x=n.x;this.y=n.y;this.width=n.width;this.height=n.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};d.create=function(n){return new d(n.x,n.y,n.width,n.height)};o=function(n){n=n||{};cr.call(this,n);for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);this._children=[];this.__storage=null;this.__dirty=!0};o.prototype={constructor:o,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(n){return this._children[n]},childOfName:function(n){for(var i=this._children,t=0;t<i.length;t++)if(i[t].name===n)return i[t]},childCount:function(){return this._children.length},add:function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},addBefore:function(n,t){if(n&&n!==this&&n.parent!==this&&t&&t.parent===this){var i=this._children,r=i.indexOf(t);r>=0&&(i.splice(r,0,n),this._doAdd(n))}return this},_doAdd:function(n){n.parent&&n.parent.remove(n);n.parent=this;var t=this.__storage,i=this.__zr;t&&t!==n.__storage&&(t.addToStorage(n),n instanceof o&&n.addChildrenToStorage(t));i&&i.refresh()},remove:function(n){var i=this.__zr,t=this.__storage,r=this._children,u=y(r,n);return 0>u?this:(r.splice(u,1),n.parent=null,t&&(t.delFromStorage(n),n instanceof o&&n.delChildrenFromStorage(t)),i&&i.refresh(),this)},removeAll:function(){for(var n,i=this._children,r=this.__storage,t=0;t<i.length;t++)n=i[t],r&&(r.delFromStorage(n),n instanceof o&&n.delChildrenFromStorage(r)),n.parent=null;return i.length=0,this},eachChild:function(n,t){for(var u,r=this._children,i=0;i<r.length;i++)u=r[i],n.call(t,u,i);return this},traverse:function(n,t){for(var r,i=0;i<this._children.length;i++)r=this._children[i],n.call(t,r),"group"===r.type&&r.traverse(n,t);return this},addChildrenToStorage:function(n){for(var i,t=0;t<this._children.length;t++)i=this._children[t],n.addToStorage(i),i instanceof o&&i.addChildrenToStorage(n)},delChildrenFromStorage:function(n){for(var i,t=0;t<this._children.length;t++)i=this._children[t],n.delFromStorage(i),i instanceof o&&i.delChildrenFromStorage(n)},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(n){for(var r,u,e,t=null,i=new d(0,0,0,0),o=n||this._children,s=[],f=0;f<o.length;f++)r=o[f],r.ignore||r.invisible||(u=r.getBoundingRect(),e=r.getLocalTransform(s),e?(i.copy(u),i.applyTransform(e),t=t||i.clone(),t.union(i)):(t=t||u.clone(),t.union(u)));return t||i}};vt(o,cr);var sbt=32,nl=7,oit=function(){this._roots=[];this._displayList=[];this._displayListLen=0};oit.prototype={constructor:oit,traverse:function(n,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(n,t)},getDisplayList:function(n,t){return t=t||!1,n&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(n){this._displayListLen=0;for(var i=this._roots,r=this._displayList,t=0,u=i.length;u>t;t++)this._updateAndAddDisplayable(i[t],null,n);r.length=this._displayListLen;e.canvasSupported&&ua(r,det)},_updateAndAddDisplayable:function(n,t,i){var f,r,e,o,u,s;if(!n.ignore||i){if(n.beforeUpdate(),n.__dirty&&n.update(),n.afterUpdate(),f=n.clipPath,f)for(t=t?t.slice():[],r=f,e=n;r;)r.parent=e,r.updateTransform(),t.push(r),e=r,r=r.clipPath;if(n.isGroup){for(o=n._children,u=0;u<o.length;u++)s=o[u],n.__dirty&&(s.__dirty=!0),this._updateAndAddDisplayable(s,t,i);n.__dirty=!1}else n.__clipPaths=t,this._displayList[this._displayListLen++]=n}},addRoot:function(n){n.__storage!==this&&(n instanceof o&&n.addChildrenToStorage(this),this.addToStorage(n),this._roots.push(n))},delRoot:function(n){var i,t,u,r;if(null==n){for(t=0;t<this._roots.length;t++)i=this._roots[t],i instanceof o&&i.delChildrenFromStorage(this);return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(n instanceof Array)for(t=0,u=n.length;u>t;t++)this.delRoot(n[t]);else r=y(this._roots,n),r>=0&&(this.delFromStorage(n),this._roots.splice(r,1),n instanceof o&&n.delChildrenFromStorage(this))},addToStorage:function(n){return n&&(n.__storage=this,n.dirty(!1)),this},delFromStorage:function(n){return n&&(n.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:det};var uwi={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},hbt=function(n,t,i){return uwi.hasOwnProperty(t)?i*=n.dpr:i},uy=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],ve=function(n,t){this.extendFrom(n,!1);this.host=t};for(ve.prototype={constructor:ve,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(n,t,i){for(var s,f,h,r=this,u=i&&i.style,e=!u,o=0;o<uy.length;o++)s=uy[o],f=s[0],(e||r[f]!==u[f])&&(n[f]=hbt(n,f,r[f]||s[1]));((e||r.fill!==u.fill)&&(n.fillStyle=r.fill),(e||r.stroke!==u.stroke)&&(n.strokeStyle=r.stroke),(e||r.opacity!==u.opacity)&&(n.globalAlpha=null==r.opacity?1:r.opacity),(e||r.blend!==u.blend)&&(n.globalCompositeOperation=r.blend||"source-over"),this.hasStroke())&&(h=r.lineWidth,n.lineWidth=h/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1))},hasFill:function(){var n=this.fill;return null!=n&&"none"!==n},hasStroke:function(){var n=this.stroke;return null!=n&&"none"!==n&&this.lineWidth>0},extendFrom:function(n,t){if(n)for(var i in n)!n.hasOwnProperty(i)||t!==!0&&(t===!1?this.hasOwnProperty(i):null==n[i])||(this[i]=n[i])},set:function(n,t){"string"==typeof n?this[n]=t:this.extendFrom(n,!0)},clone:function(){var n=new this.constructor;return n.extendFrom(this,!0),n},getGradient:function(n,t,i){for(var e="radial"===t.type?dii:kii,f=e(n,t,i),u=t.colorStops,r=0;r<u.length;r++)f.addColorStop(u[r].offset,u[r].color);return f}},fy=ve.prototype,ey=0;ey<uy.length;ey++)oy=uy[ey],oy[0]in fy||(fy[oy[0]]=oy[1]);ve.getGradient=fy.getGradient;sy=function(n,t){this.image=n;this.repeat=t;this.type="pattern"};sy.prototype.getCanvasPattern=function(n){return n.createPattern(this.image,this.repeat||"repeat")};es=function(n,t,i){var u,r;i=i||ny;"string"==typeof n?u=get(n,t,i):f(n)&&(u=n,n=u.id);this.id=n;this.dom=u;r=u.style;r&&(u.onselectstart=gii,r["-webkit-user-select"]="none",r["user-select"]="none",r["-webkit-touch-callout"]="none",r["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",r.padding=0,r.margin=0,r["border-width"]=0);this.domBack=null;this.ctxBack=null;this.painter=t;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=i};es.prototype={constructor:es,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var n=this.dpr;this.domBack=get("back-"+this.id,this.painter,n);this.ctxBack=this.domBack.getContext("2d");1!=n&&this.ctxBack.scale(n,n)},resize:function(n,t){var i=this.dpr,r=this.dom,u=r.style,f=this.domBack;u&&(u.width=n+"px",u.height=t+"px");r.width=n*i;r.height=t*i;f&&(f.width=n*i,f.height=t*i,1!=i&&this.ctxBack.scale(i,i))},clear:function(n,t){var e=this.dom,i=this.ctx,r=e.width,u=e.height,t=t||this.clearColor,o=this.motionBlur&&!n,c=this.lastFrameAlpha,s=this.dpr,f,h;(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,r/s,u/s)),i.clearRect(0,0,r,u),t&&"transparent"!==t)&&(t.colorStops?(f=t.__canvasGradient||ve.getGradient(i,t,{x:0,y:0,width:r,height:u}),t.__canvasGradient=f):t.image&&(f=sy.prototype.getCanvasPattern.call(t,i)),i.save(),i.fillStyle=f||t,i.fillRect(0,0,r,u),i.restore());o&&(h=this.domBack,i.save(),i.globalAlpha=c,i.drawImage(h,0,0,r,u),i.restore())}};var sit="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){setTimeout(n,16)},hit=new tit(50),hy={},cit=0,fwi=5e3,lit=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,cy="12px sans-serif",cbt={};cbt.measureText=function(n,t){var i=tet();return i.font=t||cy,i.measureText(n)};var ewi={left:1,right:1,center:1},owi={top:1,bottom:1,middle:1},ait=new d,vit=function(){};vit.prototype={constructor:vit,drawRectText:function(n,t){var i=this.style,r,u;t=i.textRect||t;this.__dirty&&ok(i,!0);r=i.text;(null!=r&&(r+=""),wot(r,i))&&(n.save(),u=this.transform,i.transformText?this.setTransform(n):u&&(ait.copy(t),ait.applyTransform(u),t=ait),cot(this,n,r,i,t),n.restore())}};ei.prototype={constructor:ei,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(n,t){return this.rectContain(n,t)},traverse:function(n,t){n.call(t,this)},rectContain:function(n,t){var i=this.transformCoordToLocal(n,t),r=this.getBoundingRect();return r.contain(i[0],i[1])},dirty:function(){this.__dirty=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(n){return this.animate("style",n)},attrKV:function(n,t){"style"!==n?cr.prototype.attrKV.call(this,n,t):this.style.set(t)},setStyle:function(n,t){return this.style.set(n,t),this.dirty(!1),this},useStyle:function(n){return this.style=new ve(n,this),this.dirty(!1),this}};vt(ei,cr);rt(ei,vit);bu.prototype={constructor:bu,type:"image",brush:function(n,t){var i=this.style,l=i.image,r,e,o;if(i.bind(n,this,t),r=this._image=not(l,this._image,this,this.onload),r&&fa(r)){var s=i.x||0,h=i.y||0,u=i.width,f=i.height,c=r.width/r.height;if(null==u&&null!=f?u=f*c:null==f&&null!=u?f=u/c:null==u&&null==f&&(u=r.width,f=r.height),this.setTransform(n),i.sWidth&&i.sHeight)e=i.sx||0,o=i.sy||0,n.drawImage(r,e,o,i.sWidth,i.sHeight,s,h,u,f);else if(i.sx&&i.sy){var e=i.sx,o=i.sy,a=u-e,v=f-o;n.drawImage(r,e,o,a,v,s,h,u,f)}else n.drawImage(r,s,h,u,f);null!=i.text&&(this.restoreTransform(n),this.drawRectText(n,this.getBoundingRect()))}},getBoundingRect:function(){var n=this.style;return this._rect||(this._rect=new d(n.x||0,n.y||0,n.width||0,n.height||0)),this._rect}};vt(bu,ei);var lbt=1e5,ye=314159,abt=.01,swi=.001,yit=new d(0,0,0,0),pit=new d(0,0,0,0),wit=function(n,t,i){var o,r,s,h,f,e,u,l;this.type="canvas";o=!n.nodeName||"CANVAS"===n.nodeName.toUpperCase();this._opts=i=c({},i||{});this.dpr=i.devicePixelRatio||ny;this._singleCanvas=o;this.root=n;r=n.style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",n.innerHTML="");this.storage=t;s=this._zlevelList=[];h=this._layers={};(this._layerConfig={},this._needsManuallyCompositing=!1,o)?(f=n.width,e=n.height,null!=i.width&&(f=i.width),null!=i.height&&(e=i.height),this.dpr=i.devicePixelRatio||1,n.width=f*this.dpr,n.height=e*this.dpr,this._width=f,this._height=e,u=new es(n,this,this.dpr),u.__builtin__=!0,u.initContext(),h[ye]=u,u.zlevel=ye,s.push(ye),this._domRoot=n):(this._width=this._getSize(0),this._height=this._getSize(1),l=this._domRoot=pri(this._width,this._height),n.appendChild(l));this._hoverlayer=null;this._hoverElements=[]};wit.prototype={constructor:wit,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},refresh:function(n){var e=this.storage.getDisplayList(!0),r=this._zlevelList,t,u,i,f;for(this._redrawId=Math.random(),this._paintList(e,n,this._redrawId),t=0;t<r.length;t++)u=r[t],i=this._layers[u],!i.__builtin__&&i.refresh&&(f=0===t?this._backgroundColor:null,i.refresh(f));return this.refreshHover(),this},addHover:function(n,t){if(!n.__hoverMir){var i=new n.constructor({style:n.style,shape:n.shape});i.__from=n;n.__hoverMir=i;i.setStyle(t);this._hoverElements.push(i)}},removeHover:function(n){var r=n.__hoverMir,t=this._hoverElements,i=y(t,r);i>=0&&t.splice(i,1);n.__hoverMir=null},clearHover:function(){for(var i,n=this._hoverElements,t=0;t<n.length;t++)i=n[t].__from,i&&(i.__hoverMir=null);n.length=0},refreshHover:function(){var u=this._hoverElements,f=u.length,t=this._hoverlayer,e,r,i,n;if(t&&t.clear(),f){for(ua(u,this.storage.displayableSortFunc),t||(t=this._hoverlayer=this.getLayer(lbt)),e={},t.ctx.save(),r=0;f>r;)i=u[r],n=i.__from,n&&n.__zr?(r++,n.invisible||(i.transform=n.transform,i.invTransform=n.invTransform,i.__clipPaths=n.__clipPaths,this._doPaintEl(i,t,!0,e))):(u.splice(r,1),n.__hoverMir=null,f--);t.ctx.restore()}},getHoverLayer:function(){return this.getLayer(lbt)},_paintList:function(n,t,i){var r,u;this._redrawId===i&&(t=t||!1,this._updateLayerStatus(n),r=this._doPaintList(n,t),(this._needsManuallyCompositing&&this._compositeManually(),r)||(u=this,sit(function(){u._paintList(n,t,i)})))},_compositeManually:function(){var n=this.getLayer(ye).ctx,t=this._domRoot.width,i=this._domRoot.height;n.clearRect(0,0,t,i);this.eachBuiltinLayer(function(r){r.virtual&&n.drawImage(r.dom,0,0,t,i)})},_doPaintList:function(n,i){for(var y,r,c,h,a,f,v,k,o=[],s=0;s<this._zlevelList.length;s++)y=this._zlevelList[s],r=this._layers[y],r.__builtin__&&r!==this._hoverlayer&&(r.__dirty||i)&&o.push(r);for(c=!0,h=0;h<o.length;h++){var r=o[h],l=r.ctx,p={};l.save();var u=i?r.__startIndex:r.__drawIndex,w=!i&&r.incremental&&Date.now,d=w&&Date.now(),b=r.zlevel===this._zlevelList[0]?this._backgroundColor:null;for(r.__startIndex===r.__endIndex?r.clear(!1,b):u===r.__startIndex&&(a=n[u],a.incremental&&a.notClear&&!i||r.clear(!1,b)),-1===u&&(console.error("For some unknown reason. drawIndex is -1"),u=r.__startIndex),f=u;f<r.__endIndex;f++)if(v=n[f],(this._doPaintEl(v,r,i,p),v.__dirty=!1,w)&&(k=Date.now()-d,k>15))break;r.__drawIndex=f;r.__drawIndex<r.__endIndex&&(c=!1);p.prevElClipPaths&&l.restore();l.restore()}return e.wxa&&t(this._layers,function(n){n&&n.ctx&&n.ctx.draw&&n.ctx.draw()}),c},_doPaintEl:function(n,t,i,r){var u=t.ctx,e=n.transform,f;!t.__dirty&&!i||n.invisible||0===n.style.opacity||e&&!e[0]&&!e[3]||n.culling&&ari(n,this._width,this._height)||(f=n.__clipPaths,(!r.prevElClipPaths||vri(f,r.prevElClipPaths))&&(r.prevElClipPaths&&(t.ctx.restore(),r.prevElClipPaths=null,r.prevEl=null),f&&(u.save(),yri(f,u),r.prevElClipPaths=f)),n.beforeBrush&&n.beforeBrush(u),n.brush(u,r.prevEl||null),r.prevEl=n,n.afterBrush&&n.afterBrush(u))},getLayer:function(n,t){this._singleCanvas&&!this._needsManuallyCompositing&&(n=ye);var i=this._layers[n];return i||(i=new es("zr_"+n,this,this.dpr),i.zlevel=n,i.__builtin__=!0,this._layerConfig[n]&&s(i,this._layerConfig[n],!0),t&&(i.virtual=t),this.insertLayer(n,i),i.initContext()),i},insertLayer:function(n,t){var f=this._layers,r=this._zlevelList,s=r.length,e=null,i=-1,u=this._domRoot,o;if(f[n])return void dc("ZLevel "+n+" has been used already");if(!lri(t))return void dc("Layer of zlevel "+n+" is not valid");if(s>0&&n>r[0]){for(i=0;s-1>i&&!(r[i]<n&&r[i+1]>n);i++);e=f[r[i]]}(r.splice(i+1,0,n),f[n]=t,t.virtual)||(e?(o=e.dom,o.nextSibling?u.insertBefore(t.dom,o.nextSibling):u.appendChild(t.dom)):u.firstChild?u.insertBefore(t.dom,u.firstChild):u.appendChild(t.dom))},eachLayer:function(n,t){for(var r,u=this._zlevelList,i=0;i<u.length;i++)r=u[i],n.call(t,this._layers[r],r)},eachBuiltinLayer:function(n,t){for(var r,u,f=this._zlevelList,i=0;i<f.length;i++)u=f[i],r=this._layers[u],r.__builtin__&&n.call(t,r,u)},eachOtherLayer:function(n,t){for(var r,u,f=this._zlevelList,i=0;i<f.length;i++)u=f[i],r=this._layers[u],r.__builtin__||n.call(t,r,u)},getLayers:function(){return this._layers},_updateLayerStatus:function(n){function e(n){u&&(u.__endIndex!==n&&(u.__dirty=!0),u.__endIndex=n)}var i,t,r,f;if(this.eachBuiltinLayer(function(n){n.__dirty=n.__used=!1}),this._singleCanvas)for(i=1;i<n.length;i++)if(r=n[i],r.zlevel!==n[i-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}for(var u=null,o=0,i=0;i<n.length;i++)r=n[i],f=r.zlevel,r.incremental?(t=this.getLayer(f+swi,this._needsManuallyCompositing),t.incremental=!0,o=1):t=this.getLayer(f+(o>0?abt:0),this._needsManuallyCompositing),t.__builtin__||dc("ZLevel "+f+" has been used by unkown layer "+t.id),t!==u&&(t.__used=!0,t.__startIndex!==i&&(t.__dirty=!0),t.__startIndex=i,t.__drawIndex=t.incremental?-1:i,e(i),u=t),r.__dirty&&(t.__dirty=!0,t.incremental&&t.__drawIndex<0&&(t.__drawIndex=i));e(i);this.eachBuiltinLayer(function(n){!n.__used&&n.getElementCount()>0&&(n.__dirty=!0,n.__startIndex=n.__endIndex=n.__drawIndex=0);n.__dirty&&n.__drawIndex<0&&(n.__drawIndex=n.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(n){n.clear()},setBackgroundColor:function(n){this._backgroundColor=n},configLayer:function(n,t){var i,r,u,f;if(t)for(i=this._layerConfig,i[n]?s(i[n],t,!0):i[n]=t,r=0;r<this._zlevelList.length;r++)u=this._zlevelList[r],(u===n||u===n+abt)&&(f=this._layers[u],s(f,i[n],!0))},delLayer:function(n){var i=this._layers,r=this._zlevelList,t=i[n];t&&(t.dom.parentNode.removeChild(t.dom),delete i[n],r.splice(y(r,n),1))},resize:function(n,i){var r,u,f;if(this._domRoot.style){if(r=this._domRoot,r.style.display="none",u=this._opts,null!=n&&(u.width=n),null!=i&&(u.height=i),n=this._getSize(0),i=this._getSize(1),r.style.display="",this._width!=n||i!=this._height){r.style.width=n+"px";r.style.height=i+"px";for(f in this._layers)this._layers.hasOwnProperty(f)&&this._layers[f].resize(n,i);t(this._progressiveLayers,function(t){t.resize(n,i)});this.refresh(!0)}this._width=n;this._height=i}else{if(null==n||null==i)return;this._width=n;this._height=i;this.getLayer(ye).resize(n,i)}return this},clearLayer:function(n){var t=this._layers[n];t&&t.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(n){var t,u;if(n=n||{},this._singleCanvas&&!this._compositeManually)return this._layers[ye].dom;if(t=new es("image",this,n.pixelRatio||this.dpr),t.initContext(),t.clear(!1,n.backgroundColor||this._backgroundColor),n.pixelRatio<=this.dpr){this.refresh();var f=t.dom.width,e=t.dom.height,o=t.ctx;this.eachLayer(function(n){n.__builtin__?o.drawImage(n.dom,0,0,f,e):n.renderToCanvas&&(t.ctx.save(),n.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var s={},r=this.storage.getDisplayList(!0),i=0;i<r.length;i++)u=r[i],this._doPaintEl(u,t,!0,s);return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(n){var u=this._opts,t=["width","height"][n],f=["clientWidth","clientHeight"][n],e=["paddingLeft","paddingTop"][n],o=["paddingRight","paddingBottom"][n],i,r;return null!=u[t]&&"auto"!==u[t]?parseFloat(u[t]):(i=this.root,r=document.defaultView.getComputedStyle(i),(i[f]||sa(r[t])||sa(i.style[t]))-(sa(r[e])||0)-(sa(r[o])||0)|0)},pathToImage:function(n,t){var i,w,u;t=t||this.dpr;var f=document.createElement("canvas"),e=f.getContext("2d"),o=n.getBoundingRect(),r=n.style,s=r.shadowBlur*t,c=r.shadowOffsetX*t,l=r.shadowOffsetY*t,h=r.hasStroke()?r.lineWidth:0,a=Math.max(h/2,-c+s),b=Math.max(h/2,c+s),v=Math.max(h/2,-l+s),k=Math.max(h/2,l+s),y=o.width+a+b,p=o.height+v+k;return f.width=y*t,f.height=p*t,e.scale(t,t),e.clearRect(0,0,y,p),e.dpr=t,i={position:n.position,rotation:n.rotation,scale:n.scale},n.position=[a-o.x,v-o.y],n.rotation=0,n.scale=[1,1],n.updateTransform(),n&&n.brush(e),w=bu,u=new w({style:{x:0,y:0,image:f}}),null!=i.position&&(u.position=n.position=i.position),null!=i.rotation&&(u.rotation=n.rotation=i.rotation),null!=i.scale&&(u.scale=n.scale=i.scale),u}};var bit="undefined"!=typeof window&&!!window.addEventListener,hwi=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,vbt=bit?function(n){n.preventDefault();n.stopPropagation();n.cancelBubble=!0}:function(n){n.returnValue=!1;n.cancelBubble=!0},ly=function(n){n=n||{};this.stage=n.stage||{};this.onframe=n.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;st.call(this)};ly.prototype={constructor:ly,addClip:function(n){this._clips.push(n)},addAnimator:function(n){n.animation=this;for(var i=n.getClips(),t=0;t<i.length;t++)this.addClip(i[t])},removeClip:function(n){var t=y(this._clips,n);t>=0&&this._clips.splice(t,1)},removeAnimator:function(n){for(var i=n.getClips(),t=0;t<i.length;t++)this.removeClip(i[t]);n.animation=null},_update:function(){for(var e,o,r=(new Date).getTime()-this._pausedTime,u=r-this._time,t=this._clips,i=t.length,f=[],s=[],n=0;i>n;n++)e=t[n],o=e.step(r,u),o&&(f.push(o),s.push(e));for(n=0;i>n;)t[n]._needsRemove?(t[n]=t[i-1],t.pop(),i--):n++;for(i=f.length,n=0;i>n;n++)s[n].fire(f[n]);this._time=r;this.onframe(u);this.trigger("frame",u);this.stage.update&&this.stage.update()},_startLoop:function(){function t(){n._running&&(sit(t),!n._paused&&n._update())}var n=this;this._running=!0;sit(t)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(n,t){t=t||{};var i=new uit(n,t.loop,t.getter,t.setter);return this.addAnimator(i),i}};rt(ly,st);ay=function(){this._track=[]};ay.prototype={constructor:ay,recognize:function(n,t,i){return this._doTrack(n,t,i),this._recognize(n)},clear:function(){return this._track.length=0,this},_doTrack:function(n,t,i){var r=n.touches,e,o;if(r){for(var u={points:[],touches:[],target:t,event:n},f=0,s=r.length;s>f;f++)e=r[f],o=ak(i,e,{}),u.points.push([o.zrX,o.zrY]),u.touches.push(e);this._track.push(u)}},_recognize:function(n){var t,i;for(t in kit)if(kit.hasOwnProperty(t)&&(i=kit[t](this._track,n),i))return i}};var kit={pinch:function(n,t){var f=n.length,i,r,u,e;if(f&&(i=(n[f-1]||{}).points,r=(n[f-2]||{}).points||i,r&&r.length>1&&i&&i.length>1))return u=kot(i)/kot(r),isFinite(u)||(u=1),t.pinchScale=u,e=kri(i),t.pinchX=e[0],t.pinchY=e[1],{type:"pinch",target:n[0].target,event:t}}},cwi=300,vy=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],dit=["touchstart","touchend","touchmove"],lwi={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},ybt=i(vy,function(n){var t=n.replace("mouse","pointer");return lwi[t]?t:n}),si={mousemove:function(n){n=re(this.dom,n);this.trigger("mousemove",n)},mouseout:function(n){n=re(this.dom,n);var t=n.toElement||n.relatedTarget;if(t!=this.dom)for(;t&&9!=t.nodeType;){if(t===this.dom)return;t=t.parentNode}this.trigger("mouseout",n)},touchstart:function(n){n=re(this.dom,n);n.zrByTouch=!0;this._lastTouchMoment=new Date;vk(this,n,"start");si.mousemove.call(this,n);si.mousedown.call(this,n);yk(this)},touchmove:function(n){n=re(this.dom,n);n.zrByTouch=!0;vk(this,n,"change");si.mousemove.call(this,n);yk(this)},touchend:function(n){n=re(this.dom,n);n.zrByTouch=!0;vk(this,n,"end");si.mouseup.call(this,n);+new Date-this._lastTouchMoment<cwi&&si.click.call(this,n);yk(this)},pointerdown:function(n){si.mousedown.call(this,n)},pointermove:function(n){got(n)||si.mousemove.call(this,n)},pointerup:function(n){si.mouseup.call(this,n)},pointerout:function(n){got(n)||si.mouseout.call(this,n)}};t(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){si[n]=function(t){t=re(this.dom,t);this.trigger(n,t)}});git=pk.prototype;git.dispose=function(){for(var i,t=vy.concat(dit),n=0;n<t.length;n++)i=t[n],bri(this.dom,dot(i),this._handlers[i])};git.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")};rt(pk,st);var awi=!e.canvasSupported,yy={canvas:wit},pe={},nrt=function(n,t,i){var f,s,h,c;i=i||{};this.dom=t;this.id=n;var o=this,r=new oit,u=i.renderer;if(awi){if(!yy.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");u="vml"}else u&&yy[u]||(u="canvas");f=new yy[u](t,r,i,n);this.storage=r;this.painter=f;s=e.node||e.worker?null:new pk(f.getViewportRoot());this.handler=new ae(r,f,s,f.root);this.animation=new ly({stage:{update:ut(this.flush,this)}});this.animation.start();this._needsRefresh;h=r.delFromStorage;c=r.addToStorage;r.delFromStorage=function(n){h.call(r,n);n&&n.removeSelfFromZr(o)};r.addToStorage=function(n){c.call(r,n);n.addSelfToZr(o)}};nrt.prototype={constructor:nrt,getId:function(){return this.id},add:function(n){this.storage.addRoot(n);this._needsRefresh=!0},remove:function(n){this.storage.delRoot(n);this._needsRefresh=!0},configLayer:function(n,t){this.painter.configLayer&&this.painter.configLayer(n,t);this._needsRefresh=!0},setBackgroundColor:function(n){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var n;this._needsRefresh&&(n=!0,this.refreshImmediately());this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());n&&this.trigger("rendered")},addHover:function(n,t){this.painter.addHover&&(this.painter.addHover(n,t),this.refreshHover())},removeHover:function(n){this.painter.removeHover&&(this.painter.removeHover(n),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(n){n=n||{};this.painter.resize(n.width,n.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(n,t){return this.painter.pathToImage(n,t)},setCursorStyle:function(n){this.handler.setCursorStyle(n)},findHover:function(n,t){return this.handler.findHover(n,t)},on:function(n,t,i){this.handler.on(n,t,i)},off:function(n,t){this.handler.off(n,t)},trigger:function(n,t){this.handler.trigger(n,t)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;iui(this.id)}};var vwi=(Object.freeze||Object)({version:"4.0.4",init:wk,dispose:gri,getInstance:nui,registerPainter:tui}),os=t,ss=f,ywi=u,pbt="series\x00",wbt=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],pwi=0,wwi=".",we="___EC__COMPONENT__CONTAINER___",bwi=0,py=function(n){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return function(t,i,r){for(var f,o,e={},u=0;u<n.length;u++)f=n[u][1],i&&y(i,f)>=0||r&&y(r,f)<0||(o=t.getShallow(f),null!=o&&(e[n[u][0]]=o));return e}},kwi=py([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),dwi={getLineStyle:function(n){var t=kwi(this,n),i=this.getLineDash(t.lineWidth);return i&&(t.lineDash=i),t},getLineDash:function(n){null==n&&(n=1);var t=this.get("type"),i=Math.max(n,2),r=4*n;return"solid"===t||null==t?null:"dashed"===t?[r,r]:[i,i]}},gwi=py([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),nbi={getAreaStyle:function(n,t){return gwi(this,n,t)}},wy=Math.pow,of=Math.sqrt,by=1e-8,bbt=.0001,kbt=of(3),ky=1/3,lr=ne(),vi=ne(),hs=ne(),ri=Math.min,ui=Math.max,trt=Math.sin,irt=Math.cos,be=2*Math.PI,dy=ne(),gy=ne(),np=ne(),dbt=[],gbt=[],it={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ar=[],sf=[],vr=[],yr=[],nkt=Math.min,tkt=Math.max,tl=Math.cos,il=Math.sin,tp=Math.sqrt,cs=Math.abs,rrt="undefined"!=typeof Float32Array,pr=function(n){this._saveData=!n;this._saveData&&(this.data=[]);this._ctx=null};pr.prototype={constructor:pr,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(n,t){this._ux=cs(1/ny/n)||0;this._uy=cs(1/ny/t)||0},getContext:function(){return this._ctx},beginPath:function(n){return this._ctx=n,n&&n.beginPath(),n&&(this.dpr=n.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(n,t){return this.addData(it.M,n,t),this._ctx&&this._ctx.moveTo(n,t),this._x0=n,this._y0=t,this._xi=n,this._yi=t,this},lineTo:function(n,t){var i=cs(n-this._xi)>this._ux||cs(t-this._yi)>this._uy||this._len<5;return this.addData(it.L,n,t),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(n,t):this._ctx.lineTo(n,t)),i&&(this._xi=n,this._yi=t),this},bezierCurveTo:function(n,t,i,r,u,f){return this.addData(it.C,n,t,i,r,u,f),this._ctx&&(this._needsDash()?this._dashedBezierTo(n,t,i,r,u,f):this._ctx.bezierCurveTo(n,t,i,r,u,f)),this._xi=u,this._yi=f,this},quadraticCurveTo:function(n,t,i,r){return this.addData(it.Q,n,t,i,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(n,t,i,r):this._ctx.quadraticCurveTo(n,t,i,r)),this._xi=i,this._yi=r,this},arc:function(n,t,i,r,u,f){return this.addData(it.A,n,t,i,i,r,u-r,0,f?0:1),this._ctx&&this._ctx.arc(n,t,i,r,u,f),this._xi=tl(u)*i+n,this._yi=il(u)*i+n,this},arcTo:function(n,t,i,r,u){return this._ctx&&this._ctx.arcTo(n,t,i,r,u),this},rect:function(n,t,i,r){return this._ctx&&this._ctx.rect(n,t,i,r),this.addData(it.R,n,t,i,r),this},closePath:function(){this.addData(it.Z);var n=this._ctx,t=this._x0,i=this._y0;return n&&(this._needsDash()&&this._dashedLineTo(t,i),n.closePath()),this._xi=t,this._yi=i,this},fill:function(n){n&&n.fill();this.toStatic()},stroke:function(n){n&&n.stroke();this.toStatic()},setLineDash:function(n){if(n instanceof Array){this._lineDash=n;this._dashIdx=0;for(var i=0,t=0;t<n.length;t++)i+=n[t];this._dashSum=i}return this},setLineDashOffset:function(n){return this._dashOffset=n,this},len:function(){return this._len},setData:function(n){var i=n.length,t;for(this.data&&this.data.length==i||!rrt||(this.data=new Float32Array(i)),t=0;i>t;t++)this.data[t]=n[t];this._len=i},appendPath:function(n){var t,u,i;n instanceof Array||(n=[n]);for(var f=n.length,e=0,r=this._len,t=0;f>t;t++)e+=n[t].len();for(rrt&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+e)),t=0;f>t;t++)for(u=n[t].data,i=0;i<u.length;i++)this.data[r++]=u[i];this._len=r},addData:function(n){var t,i;if(this._saveData){for(t=this.data,this._len+arguments.length>t.length&&(this._expandData(),t=this.data),i=0;i<arguments.length;i++)t[this._len++]=arguments[i];this._prevCmd=n}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(n,t){var c,o,l=this._dashSum,e=this._dashOffset,a=this._lineDash,y=this._ctx,s=this._xi,h=this._yi,i=n-s,r=t-h,v=tp(i*i+r*r),u=s,f=h,p=a.length;for(i/=v,r/=v,0>e&&(e=l+e),e%=l,u-=e*i,f-=e*r;i>0&&n>=u||0>i&&u>=n||0==i&&(r>0&&t>=f||0>r&&f>=t);)o=this._dashIdx,c=a[o],u+=i*c,f+=r*c,this._dashIdx=(o+1)%p,i>0&&s>u||0>i&&u>s||r>0&&h>f||0>r&&f>h||y[o%2?"moveTo":"lineTo"](i>=0?nkt(u,n):tkt(u,n),r>=0?nkt(f,t):tkt(f,t));i=u-n;r=f-t;this._dashOffset=-tp(i*i+r*r)},_dashedBezierTo:function(n,t,i,r,u,f){var e,s,h,a,v,g=this._dashSum,c=this._dashOffset,y=this._lineDash,p=this._ctx,w=this._xi,b=this._yi,l=bt,k=0,o=this._dashIdx,nt=y.length,d=0;for(0>c&&(c=g+c),c%=g,e=0;1>e;e+=.1)s=l(w,n,i,u,e+.1)-l(w,n,i,u,e),h=l(b,t,r,f,e+.1)-l(b,t,r,f,e),k+=tp(s*s+h*h);for(;nt>o&&(d+=y[o],!(d>c));o++);for(e=(d-c)/k;1>=e;)a=l(w,n,i,u,e),v=l(b,t,r,f,e),o%2?p.moveTo(a,v):p.lineTo(a,v),e+=y[o]/k,o=(o+1)%nt;o%2!=0&&p.lineTo(u,f);s=u-a;h=f-v;this._dashOffset=-tp(s*s+h*h)},_dashedQuadraticTo:function(n,t,i,r){var u=i,f=r;i=(i+2*n)/3;r=(r+2*t)/3;n=(this._xi+2*n)/3;t=(this._yi+2*t)/3;this._dashedBezierTo(n,t,i,r,u,f)},toStatic:function(){var n=this.data;n instanceof Array&&(n.length=this._len,rrt&&(this.data=new Float32Array(n)))},getBoundingRect:function(){var a,v,y;ar[0]=ar[1]=vr[0]=vr[1]=Number.MAX_VALUE;sf[0]=sf[1]=yr[0]=yr[1]=-Number.MAX_VALUE;for(var t=this.data,i=0,r=0,u=0,f=0,n=0;n<t.length;){a=t[n++];switch(1==n&&(i=t[n],r=t[n+1],u=i,f=r),a){case it.M:u=t[n++];f=t[n++];i=u;r=f;vr[0]=u;vr[1]=f;yr[0]=u;yr[1]=f;break;case it.L:cst(i,r,t[n],t[n+1],vr,yr);i=t[n++];r=t[n++];break;case it.C:yui(i,r,t[n++],t[n++],t[n++],t[n++],t[n],t[n+1],vr,yr);i=t[n++];r=t[n++];break;case it.Q:pui(i,r,t[n++],t[n++],t[n],t[n+1],vr,yr);i=t[n++];r=t[n++];break;case it.A:var o=t[n++],s=t[n++],h=t[n++],c=t[n++],e=t[n++],l=t[n++]+e,p=(t[n++],1-t[n++]);1==n&&(u=tl(e)*h+o,f=il(e)*c+s);wui(o,s,h,c,e,l,p,vr,yr);i=tl(l)*h+o;r=il(l)*c+s;break;case it.R:u=i=t[n++];f=r=t[n++];v=t[n++];y=t[n++];cst(u,f,u+v,f+y,vr,yr);break;case it.Z:i=u;r=f}tu(ar,ar,vr);iu(sf,sf,yr)}return 0===n&&(ar[0]=ar[1]=sf[0]=sf[1]=0),new d(ar[0],ar[1],sf[0]-ar[0],sf[1]-ar[1])},rebuildPath:function(n){for(var w,o,s,r,u,a,v,i=this.data,tt=this._ux,rt=this._uy,p=this._len,t=0;p>t;){w=i[t++];switch(1==t&&(r=i[t],u=i[t+1],o=r,s=u),w){case it.M:o=r=i[t++];s=u=i[t++];n.moveTo(r,u);break;case it.L:a=i[t++];v=i[t++];(cs(a-r)>tt||cs(v-u)>rt||t===p-1)&&(n.lineTo(a,v),r=a,u=v);break;case it.C:n.bezierCurveTo(i[t++],i[t++],i[t++],i[t++],i[t++],i[t++]);r=i[t-2];u=i[t-1];break;case it.Q:n.quadraticCurveTo(i[t++],i[t++],i[t++],i[t++]);r=i[t-2];u=i[t-1];break;case it.A:var h=i[t++],c=i[t++],f=i[t++],e=i[t++],l=i[t++],ut=i[t++],b=i[t++],k=i[t++],d=f>e?f:e,g=f>e?1:f/e,nt=f>e?e/f:1,ft=Math.abs(f-e)>.001,y=l+ut;ft?(n.translate(h,c),n.rotate(b),n.scale(g,nt),n.arc(0,0,d,l,y,1-k),n.scale(1/g,1/nt),n.rotate(-b),n.translate(-h,-c)):n.arc(h,c,d,l,y,1-k);1==t&&(o=tl(l)*f+h,s=il(l)*e+c);r=tl(y)*f+h;u=il(y)*e+c;break;case it.R:o=r=i[t];s=u=i[t+1];n.rect(i[t++],i[t++],i[t++],i[t++]);break;case it.Z:n.closePath();r=o;u=s}}}};pr.CMD=it;var ikt=2*Math.PI,rl=2*Math.PI,hf=pr.CMD,ls=2*Math.PI,tbi=.0001,kt=[-1,-1,-1],yi=[-1,-1],rkt=sy.prototype.getCanvasPattern,urt=Math.abs,ibi=new pr(!0);b.prototype={constructor:b,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(n,t){var i=this.style,r=this.path||ibi,e=i.hasStroke(),c=i.hasFill(),o=i.fill,s=i.stroke,l=c&&!!o.colorStops,a=e&&!!s.colorStops,p=c&&!!o.image,w=e&&!!s.image,u;(i.bind(n,this,t),this.setTransform(n),this.__dirty)&&(l&&(u=u||this.getBoundingRect(),this._fillGradient=i.getGradient(n,o,u)),a&&(u=u||this.getBoundingRect(),this._strokeGradient=i.getGradient(n,s,u)));l?n.fillStyle=this._fillGradient:p&&(n.fillStyle=rkt.call(o,n));a?n.strokeStyle=this._strokeGradient:w&&(n.strokeStyle=rkt.call(s,n));var f=i.lineDash,v=i.lineDashOffset,h=!!n.setLineDash,y=this.getGlobalScale();r.setScale(y[0],y[1]);this.__dirtyPath||f&&!h&&e?(r.beginPath(n),f&&!h&&(r.setLineDash(f),r.setLineDashOffset(v)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(n.beginPath(),this.path.rebuildPath(n));c&&r.fill(n);f&&h&&(n.setLineDash(f),n.lineDashOffset=v);e&&r.stroke(n);f&&h&&n.setLineDash([]);null!=i.text&&(this.restoreTransform(n),this.drawRectText(n,this.getBoundingRect()))},buildPath:function(){},createPathProxy:function(){this.path=new pr},getBoundingRect:function(){var i=this._rect,f=this.style,e=!i,r,n,t,u;return(e&&(r=this.path,r||(r=this.path=new pr),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),i=r.getBoundingRect()),this._rect=i,f.hasStroke())?(n=this._rectWithStroke||(this._rectWithStroke=i.clone()),(this.__dirty||e)&&(n.copy(i),t=f.lineWidth,u=f.strokeNoScale?this.getLineScale():1,f.hasFill()||(t=Math.max(t,this.strokeContainThreshold||4)),u>1e-10&&(n.width+=t/u,n.height+=t/u,n.x-=t/u/2,n.y-=t/u/2)),n):i},contain:function(n,t){var e=this.transformCoordToLocal(n,t),o=this.getBoundingRect(),i=this.style,u,r,f;if(n=e[0],t=e[1],o.contain(n,t)){if(u=this.path.data,i.hasStroke()&&(r=i.lineWidth,f=i.strokeNoScale?this.getLineScale():1,f>1e-10&&(i.hasFill()||(r=Math.max(r,this.strokeContainThreshold)),ffi(u,r/f,n,t))))return!0;if(i.hasFill())return ufi(u,n,t)}return!1},dirty:function(n){null==n&&(n=!0);n&&(this.__dirtyPath=n,this._rect=null);this.__dirty=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(n){return this.animate("shape",n)},attrKV:function(n,t){"shape"===n?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):ei.prototype.attrKV.call(this,n,t)},setShape:function(n,t){var r=this.shape,i;if(r){if(f(n))for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);else r[n]=t;this.dirty(!0)}return this},getLineScale:function(){var n=this.transform;return n&&urt(n[0]-1)>1e-10&&urt(n[3]-1)>1e-10?Math.sqrt(urt(n[0]*n[3]-n[2]*n[1])):1}};b.extend=function(n){var i=function(t){var i,u,r;if(b.call(this,t),n.style&&this.style.extendFrom(n.style,!1),i=n.shape,i){this.shape=this.shape||{};u=this.shape;for(r in i)!u.hasOwnProperty(r)&&i.hasOwnProperty(r)&&(u[r]=i[r])}n.init&&n.init.call(this,t)},t;vt(i,b);for(t in n)"style"!==t&&"shape"!==t&&(i.prototype[t]=n[t]);return i};vt(b,ei);var as=pr.CMD,rbi=[[],[],[]],ukt=Math.sqrt,ubi=Math.atan2,fbi=function(n,t){for(var c,e,o,i=n.data,a=as.M,v=as.C,y=as.L,p=as.R,w=as.A,b=as.Q,u,r=0,f=0;r<i.length;){switch(c=i[r++],f=r,e=0,c){case a:e=1;break;case y:e=1;break;case v:e=3;break;case b:e=2;break;case w:var k=t[4],d=t[5],s=ukt(t[0]*t[0]+t[1]*t[1]),h=ukt(t[2]*t[2]+t[3]*t[3]),l=ubi(-t[1]/h,t[0]/s);i[r]*=s;i[r++]+=k;i[r]*=h;i[r++]+=d;i[r++]*=s;i[r++]*=h;i[r++]+=l;i[r++]+=l;r+=2;f=r;break;case p:u[0]=i[r++];u[1]=i[r++];ni(u,u,t);i[f++]=u[0];i[f++]=u[1];u[0]+=i[r++];u[1]+=i[r++];ni(u,u,t);i[f++]=u[0];i[f++]=u[1]}for(o=0;e>o;o++)u=rbi[o],u[0]=i[r++],u[1]=i[r++],ni(u,u,t),i[f++]=u[0],i[f++]=u[1]}},frt=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],ert=Math.sqrt,ip=Math.sin,rp=Math.cos,up=Math.PI,fkt=function(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])},ort=function(n,t){return(n[0]*t[0]+n[1]*t[1])/(fkt(n)*fkt(t))},ekt=function(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(ort(n,t))},pi=function(n){ei.call(this,n)};pi.prototype={constructor:pi,type:"text",brush:function(n,t){var i=this.style,r;this.__dirty&&ok(i,!0);i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;r=i.text;null!=r&&(r+="");i.bind(n,this,t);wot(r,i)&&(this.setTransform(n),cot(this,n,r,i),this.restoreTransform(n))},getBoundingRect:function(){var n=this.style,r,t,i;return(this.__dirty&&ok(n,!0),this._rect)||(r=n.text,null!=r?r+="":r="",t=ie(n.text+"",n.font,n.textAlign,n.textVerticalAlign,n.textPadding,n.rich),(t.x+=n.x||0,t.y+=n.y||0,lk(n.textStroke,n.textStrokeWidth))&&(i=n.textStrokeWidth,t.x-=i/2,t.y-=i/2,t.width+=i,t.height+=i),this._rect=t),this._rect}};vt(pi,ei);var okt=b.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(n,t,i){i&&n.moveTo(t.cx+t.r,t.cy);n.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}}),cf=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],srt=function(n){return e.browser.ie&&e.browser.version>=11?function(){var o,f=this.__clipPaths,e=this.style,r,t;if(f)for(r=0;r<f.length;r++){var u=f[r],i=u&&u.shape,s=u&&u.type;if(i&&("sector"===s&&i.startAngle===i.endAngle||"rect"===s&&(!i.width||!i.height))){for(t=0;t<cf.length;t++)cf[t][2]=e[cf[t][0]],e[cf[t][0]]=cf[t][1];o=!0;break}}if(n.apply(this,arguments),o)for(t=0;t<cf.length;t++)e[cf[t][0]]=cf[t][2]}:n},ul=b.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:srt(b.prototype.brush),buildPath:function(n,t){var r=t.cx,u=t.cy,i=Math.max(t.r0||0,0),o=Math.max(t.r,0),f=t.startAngle,e=t.endAngle,s=t.clockwise,h=Math.cos(f),c=Math.sin(f);n.moveTo(h*i+r,c*i+u);n.lineTo(h*o+r,c*o+u);n.arc(r,u,o,f,e,!s);n.lineTo(Math.cos(e)*i+r,Math.sin(e)*i+u);0!==i&&n.arc(r,u,i,e,f,s);n.closePath()}}),ebi=b.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(n,t){var i=t.cx,r=t.cy,u=2*Math.PI;n.moveTo(i+t.r,r);n.arc(i,r,t.r,0,u,!1);n.moveTo(i+t.r0,r);n.arc(i,r,t.r0,0,u,!0)}}),obi=function(n,t){for(var f,c,l,i=n.length,a=[],v=0,u=1;i>u;u++)v+=ch(n[u-1],n[u]);for(f=v/2,f=i>f?i:f,u=0;f>u;u++){var o,s,h,y=u/(f-1)*(t?i:i-1),r=Math.floor(y),e=y-r,p=n[r%i];t?(o=n[(r-1+i)%i],s=n[(r+1)%i],h=n[(r+2)%i]):(o=n[0===r?r:r-1],s=n[r>i-2?i-1:r+1],h=n[r>i-3?i-1:r+2]);c=e*e;l=e*c;a.push([yst(o[0],p[0],s[0],h[0],e,c,l),yst(o[1],p[1],s[1],h[1],e,c,l)])}return a},sbi=function(n,t,i,r){var v,y,f,e,s=[],l=[],k=[],d=[],u,o,a,h,c;if(r){for(f=[1/0,1/0],e=[-1/0,-1/0],u=0,o=n.length;o>u;u++)tu(f,f,n[u]),iu(e,e,n[u]);tu(f,f,r[0]);iu(e,e,r[1])}for(u=0,o=n.length;o>u;u++){if(a=n[u],i)v=n[u?u-1:o-1],y=n[(u+1)%o];else{if(0===u||u===o-1){s.push(lb(n[u]));continue}v=n[u-1];y=n[u+1]}kl(l,y,v);dl(l,l,t);var p=ch(a,v),w=ch(a,y),b=p+w;0!==b&&(p/=b,w/=b);dl(k,l,-p);dl(d,l,w);h=ab([],a,k);c=ab([],a,d);r&&(iu(h,h,f),tu(h,h,e),iu(c,c,f),tu(c,c,e));s.push(h);s.push(c)}return i&&s.push(s.shift()),s},hrt=b.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(n,t){pst(n,t,!0)}}),crt=b.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(n,t){pst(n,t,!1)}}),ht=b.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(n,t){var i=t.x,r=t.y,u=t.width,f=t.height;t.r?sot(n,t):n.rect(i,r,u,f);n.closePath()}}),vs=b.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(n,t){var f=t.x1,e=t.y1,r=t.x2,u=t.y2,i=t.percent;0!==i&&(n.moveTo(f,e),1>i&&(r=f*(1-i)+r*i,u=e*(1-i)+u*i),n.lineTo(r,u))},pointAt:function(n){var t=this.shape;return[t.x1*(1-n)+t.x2*n,t.y1*(1-n)+t.y2*n]}}),fi=[],skt=b.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(n,t){var h=t.x1,c=t.y1,r=t.x2,u=t.y2,f=t.cpx1,e=t.cpy1,o=t.cpx2,s=t.cpy2,i=t.percent;0!==i&&(n.moveTo(h,c),null==o||null==s?(1>i&&(hst(h,f,r,i,fi),f=fi[1],r=fi[2],hst(c,e,u,i,fi),e=fi[1],u=fi[2]),n.quadraticCurveTo(f,e,r,u)):(1>i&&(est(h,f,o,r,i,fi),f=fi[1],o=fi[2],r=fi[3],est(c,e,s,u,i,fi),e=fi[1],s=fi[2],u=fi[3]),n.bezierCurveTo(f,e,o,s,r,u)))},pointAt:function(n){return wst(this.shape,n,!1)},tangentAt:function(n){var t=wst(this.shape,n,!0);return gl(t,t)}}),hkt=b.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(n,t){var u=t.cx,f=t.cy,i=Math.max(t.r,0),r=t.startAngle,e=t.endAngle,o=t.clockwise,s=Math.cos(r),h=Math.sin(r);n.moveTo(s*i+u,h*i+f);n.arc(u,f,i,r,e,!o)}}),hbi=b.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var n=this.__dirtyPath,i=this.shape.paths,t=0;t<i.length;t++)n=n||i[t].__dirtyPath;this.__dirtyPath=n;this.__dirty=this.__dirty||n},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],i=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(i[0],i[1])},buildPath:function(n,t){for(var r=t.paths||[],i=0;i<r.length;i++)r[i].buildPath(n,r[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],n=0;n<t.length;n++)t[n].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),b.prototype.getBoundingRect.call(this)}}),ke=function(n){this.colorStops=n||[]};ke.prototype={constructor:ke,addColorStop:function(n,t){this.colorStops.push({offset:n,color:t})}};ys=function(n,t,i,r,u,f){this.x=null==n?0:n;this.y=null==t?0:t;this.x2=null==i?1:i;this.y2=null==r?0:r;this.type="linear";this.global=f||!1;ke.call(this,u)};ys.prototype={constructor:ys};vt(ys,ke);fl=function(n,t,i,r,u){this.x=null==n?.5:n;this.y=null==t?.5:t;this.r=null==i?.5:i;this.type="radial";this.global=u||!1;ke.call(this,r)};fl.prototype={constructor:fl};vt(fl,ke);ir.prototype.incremental=!0;ir.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.dirty();this.notClear=!1};ir.prototype.addDisplayable=function(n,t){t?this._temporaryDisplayables.push(n):this._displayables.push(n);this.dirty()};ir.prototype.addDisplayables=function(n,t){t=t||!1;for(var i=0;i<n.length;i++)this.addDisplayable(n[i],t)};ir.prototype.eachPendingDisplayable=function(n){for(var t=this._cursor;t<this._displayables.length;t++)n&&n(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)n&&n(this._temporaryDisplayables[t])};ir.prototype.update=function(){var n,t;for(this.updateTransform(),n=this._cursor;n<this._displayables.length;n++)t=this._displayables[n],t.parent=this,t.update(),t.parent=null;for(n=0;n<this._temporaryDisplayables.length;n++)t=this._temporaryDisplayables[n],t.parent=this,t.update(),t.parent=null};ir.prototype.brush=function(n){for(var i,t=this._cursor;t<this._displayables.length;t++)i=this._displayables[t],i.beforeBrush&&i.beforeBrush(n),i.brush(n,t===this._cursor?null:this._displayables[t-1]),i.afterBrush&&i.afterBrush(n);for(this._cursor=t,t=0;t<this._temporaryDisplayables.length;t++)i=this._temporaryDisplayables[t],i.beforeBrush&&i.beforeBrush(n),i.brush(n,0===t?null:this._temporaryDisplayables[t-1]),i.afterBrush&&i.afterBrush(n);this._temporaryDisplayables=[];this.notClear=!0};ckt=[];ir.prototype.getBoundingRect=function(){var i,n,t,r;if(!this._rect){for(i=new d(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++)t=this._displayables[n],r=t.getBoundingRect().clone(),t.needLocalTransform()&&r.applyTransform(t.getLocalTransform(ckt)),i.union(r);this._rect=i}return this._rect};ir.prototype.contain=function(n,t){var r=this.transformCoordToLocal(n,t),f=this.getBoundingRect(),i,u;if(f.contain(r[0],r[1]))for(i=0;i<this._displayables.length;i++)if(u=this._displayables[i],u.contain(n,t))return!0;return!1};vt(ir,ei);var ps=Math.round,fp=Math.max,ep=Math.min,op={},cbi=hfi,sp=(Object.freeze||Object)({extendShape:ue,extendPath:cfi,makePath:dk,makeImage:bst,mergePath:cbi,resizePath:dst,subPixelOptimizeLine:vh,subPixelOptimizeRect:gst,subPixelOptimize:fe,setHoverStyle:nf,setLabelStyle:yh,setTextStyle:fu,setText:pfi,getFont:lht,updateProps:ot,initProps:ee,getTransform:gk,applyTransform:nd,transformDirection:vht,groupTransition:yht,clipPointsByRect:pht,clipRectByRect:kfi,createIcon:ba,Group:o,Image:bu,Text:pi,Circle:okt,Sector:ul,Ring:ebi,Polygon:hrt,Polyline:crt,Rect:ht,Line:vs,BezierCurve:skt,Arc:hkt,IncrementalDisplayable:ir,CompoundPath:hbi,LinearGradient:ys,RadialGradient:fl,BoundingRect:d}),lbi=["textStyle","color"],abi={getTextColor:function(n){var t=this.ecModel;return this.getShallow("color")||(!n&&t?t.get(lbi):null)},getFont:function(){return lht({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(n){return ie(n,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},vbi=py([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),ybi={getItemStyle:function(n,t){var i=vbi(this,n,t),r=this.getBorderLineDash();return r&&(i.lineDash=r),i},getBorderLineDash:function(){var n=this.get("borderType");return"solid"===n||null==n?null:"dashed"===n?[5,5]:[1,1]}},hp=rt,lkt=tr();g.prototype={constructor:g,init:null,mergeOption:function(n){s(this.option,n,!0)},get:function(n,t){return null==n?this.option:wht(this.option,this.parsePath(n),!t&&td(this,n))},getShallow:function(n,t){var i=this.option,r=null==i?i:i[n],u=!t&&td(this,n);return null==r&&u&&(r=u.getShallow(n)),r},getModel:function(n,t){var i,r=null==n?this.option:wht(this.option,n=this.parsePath(n));return t=t||(i=td(this,n))&&i.getModel(n),new g(r,t,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var n=this.constructor;return new n(v(this.option))},setReadOnly:function(){},parsePath:function(n){return"string"==typeof n&&(n=n.split(".")),n},customizeGetParent:function(n){lkt(this).getParent=n},isAnimationEnabled:function(){if(!e.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};ah(g);ist(g);hp(g,dwi);hp(g,nbi);hp(g,abi);hp(g,ybi);var pbi=0,akt=.0001,wbi=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,bbi=(Object.freeze||Object)({linearMap:oe,parsePercent:k,round:ii,asc:bht,getPrecision:kht,getPrecisionSafe:da,getPixelPrecision:id,getPercentWithPrecision:dht,MAX_SAFE_INTEGER:9007199254740991,remRadian:rd,isRadianAroundZero:ph,parseDate:ga,quantity:ght,nice:ud,reformIntervals:tei,isNumeric:iei}),el=sb,kbi=/([&<>"'])/g,dbi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vkt=["a","b","c","d","e","f","g"],lrt=function(n,t){return"{"+n+(null==t?"":t)+"}"},ykt=tot,gbi=ie,nki=(Object.freeze||Object)({addCommas:wh,toCamelCase:tct,normalizeCssArray:el,encodeHTML:hi,formatTpl:fd,formatTplSimple:rei,getTooltipMarker:nv,formatTime:ed,capitalFirst:od,truncateText:ykt,getTextRect:gbi}),cp=t,tki=["left","right","top","bottom","width","height"],lp=[["width","left","right"],["height","top","bottom"]],ap=sd,iki=(p(sd,"vertical"),p(sd,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),rki=tr(),nt=g.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(n,t,i,r){g.call(this,n,t,i,r);this.uid=ka("ec_cpt_model")},init:function(n,t,i){this.mergeDefaultAndTheme(n,i)},mergeDefaultAndTheme:function(n,t){var i=this.layoutMode,r=i?tv(n):{},u=t.getTheme();s(n,u.get(this.mainType));s(n,this.getDefaultOption());i&&ko(n,r,i)},mergeOption:function(n){s(this.option,n,!0);var t=this.layoutMode;t&&ko(this.option,n,t)},optionUpdated:function(){},getDefaultOption:function(){var u=rki(this),t,n,f,i,r;if(!u.defaultOption){for(t=[],n=this.constructor;n;)f=n.prototype.defaultOption,f&&t.push(f),n=n.superClass;for(i={},r=t.length-1;r>=0;r--)i=s(i,t[r],!0);u.defaultOption=i}return u.defaultOption},getReferringComponents:function(n){return this.ecModel.queryComponents({mainType:n,index:this.get(n+"Index",!0),id:this.get(n+"Id",!0)})}});pa(nt,{registerWhenExtend:!0});dfi(nt);gfi(nt,eei);rt(nt,iki);art="";"undefined"!=typeof navigator&&(art=navigator.platform||"");var uki={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:art.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},vrt=tr(),yrt={clearColorPalette:function(){vrt(this).colorIdx=0;vrt(this).colorNameMap={}},getColorFromPalette:function(n,t,i){var e;t=t||this;var u=vrt(t),o=u.colorIdx||0,f=u.colorNameMap=u.colorNameMap||{};if(f.hasOwnProperty(n))return f[n];var s=oi(this.get("color",!0)),h=this.get("colorLayer",!0),r=null!=i&&h?oei(h,i):s;if(r=r||s,r&&r.length)return e=r[o],n&&(f[n]=e),u.colorIdx=(o+1)%r.length,e}},fki={cartesian2d:function(n,t,i,r){var u=n.getReferringComponents("xAxis")[0],f=n.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"];i.set("x",u);i.set("y",f);go(u)&&(r.set("x",u),t.firstCategoryDimIndex=0);go(f)&&(r.set("y",f),t.firstCategoryDimIndex=1)},singleAxis:function(n,t,i,r){var u=n.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"];i.set("single",u);go(u)&&(r.set("single",u),t.firstCategoryDimIndex=0)},polar:function(n,t,i,r){var e=n.getReferringComponents("polar")[0],u=e.findAxisModel("radiusAxis"),f=e.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"];i.set("radius",u);i.set("angle",f);go(u)&&(r.set("radius",u),t.firstCategoryDimIndex=0);go(f)&&(r.set("angle",f),t.firstCategoryDimIndex=1)},geo:function(n,t){t.coordSysDims=["lng","lat"]},parallel:function(n,i,r,u){var f=n.ecModel,e=f.getComponent("parallel",n.get("parallelIndex")),o=i.coordSysDims=e.dimensions.slice();t(e.parallelAxisIndex,function(n,t){var e=f.getComponent("parallelAxis",n),s=o[t];r.set(s,e);go(e)&&null==i.firstCategoryDimIndex&&(u.set(s,e),i.firstCategoryDimIndex=t)})}},de="original",vp="arrayRows",yp="objectRows",pp="keyedColumns",pkt="unknown",wp="typedArray",wkt="column",prt="row";rr.seriesDataToSource=function(n){return new rr({data:n,sourceFormat:er(n)?wp:de,fromDataset:!1})};ist(rr);var ws=tr(),wrt="\x00_ec_inner",brt=g.extend({init:function(n,t,i,r){i=i||{};this.option=null;this._theme=new g(i);this._optionManager=r},setOption:function(n,t){so(!(wrt in n),"please use chart.getOption()");this._optionManager.setOption(n,t);this.resetOption(null)},resetOption:function(n){var i=!1,r=this._optionManager,u,f,e;return n&&"recreate"!==n||(u=r.mountOption("recreate"===n),this.option&&"recreate"!==n?(this.restoreData(),this.mergeOption(u)):kei.call(this,u),i=!0),(("timeline"===n||"media"===n)&&this.restoreData(),n&&"recreate"!==n&&"timeline"!==n)||(f=r.getTimelineOption(this),f&&(this.mergeOption(f),i=!0)),n&&"recreate"!==n&&"media"!==n||(e=r.getMediaOption(this,this._api),e.length&&t(e,function(n){this.mergeOption(n,i=!0)},this)),i},mergeOption:function(n){function e(u,e){var h=oi(n[u]),o=nst(r.get(u),h),s;uui(o);t(o,function(n){var t=n.option;f(t)&&(n.keyInfo.mainType=u,n.keyInfo.subType=gei(u,t,n.exist))});s=dei(r,e);i[u]=[];r.set(u,[]);t(o,function(n,t){var e=n.exist,o=n.option,l,h;(so(f(o)||e,"Empty component definition"),o)?(l=nt.getClass(u,n.keyInfo.subType,!0),e&&e instanceof l?(e.name=n.keyInfo.name,e.mergeOption(o,this),e.optionUpdated(o,!1)):(h=c({dependentModels:s,componentIndex:t},n.keyInfo),e=new l(o,this,this,h),c(e,h),e.init(o,this,this,h),e.optionUpdated(null,!0))):(e.mergeOption({},this),e.optionUpdated({},!1));r.get(u)[t]=e;i[u][t]=e.option},this);"series"===u&&hd(this,r.get("series"))}var i=this.option,r=this._componentsMap,u=[];cei(this);t(n,function(n,t){null!=n&&(nt.hasClass(t)?t&&u.push(t):i[t]=null==i[t]?v(n):s(i[t],n,!0))});nt.topologicalTravel(u,nt.getAllClassMainTypes(),e,this);this._seriesIndicesMap=a(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var n=v(this.option);return t(n,function(t,i){if(nt.hasClass(i)){for(var t=oi(t),r=t.length-1;r>=0;r--)aa(t[r])&&t.splice(r,1);n[i]=t}}),delete n[wrt],n},getTheme:function(){return this._theme},getComponent:function(n,t){var i=this._componentsMap.get(n);if(i)return i[t||0]},queryComponents:function(n){var c=n.mainType,f,s,h;if(!c)return[];var r=n.index,e=n.id,o=n.name,t=this._componentsMap.get(c);return!t||!t.length?[]:(null!=r?(u(r)||(r=[r]),f=wt(i(r,function(n){return t[n]}),function(n){return!!n})):null!=e?(s=u(e),f=wt(t,function(n){return s&&y(e,n.id)>=0||!s&&n.id===e})):null!=o?(h=u(o),f=wt(t,function(n){return h&&y(o,n.name)>=0||!h&&n.name===o})):f=t.slice(),oct(f,n))},findComponents:function(n){function r(n){var i=t+"Index",r=t+"Id",u=t+"Name";return!n||null==n[i]&&null==n[r]&&null==n[u]?null:{mainType:t,index:n[i],id:n[r],name:n[u]}}function u(t){return n.filter?wt(t,n.filter):t}var f=n.query,t=n.mainType,i=r(f),e=i?this.queryComponents(i):this._componentsMap.get(t);return u(oct(e,n))},eachComponent:function(n,i,r){var u=this._componentsMap,e;"function"==typeof n?(r=i,i=n,u.each(function(n,u){t(n,function(n,t){i.call(r,u,n,t)})})):dt(n)?t(u.get(n),i,r):f(n)&&(e=this.findComponents(n),t(e,i,r))},getSeriesByName:function(n){var t=this._componentsMap.get("series");return wt(t,function(t){return t.name===n})},getSeriesByIndex:function(n){return this._componentsMap.get("series")[n]},getSeriesByType:function(n){var t=this._componentsMap.get("series");return wt(t,function(t){return t.subType===n})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(n,i){t(this._seriesIndices,function(t){var r=this._componentsMap.get("series")[t];n.call(i,r,t)},this)},eachRawSeries:function(n,i){t(this._componentsMap.get("series"),n,i)},eachSeriesByType:function(n,i,r){t(this._seriesIndices,function(t){var u=this._componentsMap.get("series")[t];u.subType===n&&i.call(r,u,t)},this)},eachRawSeriesByType:function(n,i,r){return t(this.getSeriesByType(n),i,r)},isSeriesFiltered:function(n){return null==this._seriesIndicesMap.get(n.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(n,t){var i=wt(this._componentsMap.get("series"),n,t);hd(this,i)},restoreData:function(n){var i=this._componentsMap,r;hd(this,i.get("series"));r=[];i.each(function(n,t){r.push(t)});nt.topologicalTravel(r,nt.getAllClassMainTypes(),function(r){t(i.get(r),function(t){"series"===r&&wei(t,n)||t.restoreData()})})}});rt(brt,yrt);bkt=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];bp={};eu.prototype={constructor:eu,create:function(n,i){var r=[];t(bp,function(t){var u=t.create(n,i);r=r.concat(u||[])});this._coordinateSystems=r},update:function(n,i){t(this._coordinateSystems,function(t){t.update&&t.update(n,i)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};eu.register=function(n,t){bp[n]=t};eu.get=function(n){return bp[n]};var kp=t,ge=v,dp=i,kkt=s,eki=/^(min|max)?(.+)$/;cd.prototype={constructor:cd,setOption:function(n,i){n&&t(oi(n.series),function(n){n&&n.data&&er(n.data)&&cb(n.data)});n=ge(n,!0);var u=this._optionBackup,r=noi.call(this,n,i,!u);this._newBaseOption=r.baseOption;u?(uoi(u.baseOption,r.baseOption),r.timelineOptions.length&&(u.timelineOptions=r.timelineOptions),r.mediaList.length&&(u.mediaList=r.mediaList),r.mediaDefault&&(u.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(n){var t=this._optionBackup;return this._timelineOptions=dp(t.timelineOptions,ge),this._mediaList=dp(t.mediaList,ge),this._mediaDefault=ge(t.mediaDefault),this._currentMediaIndices=[],ge(n?t.baseOption:this._newBaseOption)},getTimelineOption:function(n){var i,r=this._timelineOptions,t;return r.length&&(t=n.getComponent("timeline"),t&&(i=ge(r[t.getCurrentIndex()],!0))),i},getMediaOption:function(){var e=this._api.getWidth(),o=this._api.getHeight(),i=this._mediaList,r=this._mediaDefault,n=[],u=[],t,f;if(!i.length&&!r)return u;for(t=0,f=i.length;f>t;t++)toi(i[t].query,e,o)&&n.push(t);return!n.length&&r&&(n=[-1]),n.length&&!roi(n,this._currentMediaIndices)&&(u=dp(n,function(n){return ge(-1===n?r.option:i[n].option)})),this._currentMediaIndices=n,u}};var ur=t,ol=f,dkt=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],oki=function(n,i){ur(ou(n.series),function(n){ol(n)&&foi(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];i&&r.push("valueAxis","categoryAxis","logAxis","timeAxis");ur(r,function(t){ur(ou(n[t]),function(n){n&&(ft(n,"axisLabel"),ft(n.axisPointer,"label"))})});ur(ou(n.parallel),function(n){var t=n&&n.parallelAxisDefault;ft(t,"axisLabel");ft(t&&t.axisPointer,"label")});ur(ou(n.calendar),function(n){yt(n,"itemStyle");ft(n,"dayLabel");ft(n,"monthLabel");ft(n,"yearLabel")});ur(ou(n.radar),function(n){ft(n,"name")});ur(ou(n.geo),function(n){ol(n)&&(ci(n),ur(ou(n.regions),function(n){ci(n)}))});ur(ou(n.timeline),function(n){ci(n);yt(n,"label");yt(n,"itemStyle");yt(n,"controlStyle",!0);var i=n.data;u(i)&&t(i,function(n){f(n)&&(yt(n,"label"),yt(n,"itemStyle"))})});ur(ou(n.toolbox),function(n){yt(n,"iconStyle");ur(n.feature,function(n){yt(n,"iconStyle")})});ft(hct(n.axisPointer),"label");ft(hct(n.tooltip).axisPointer,"label")},ski=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],hki=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],gkt=function(n,i){oki(n,i);n.series=oi(n.series);t(n.series,function(n){var t,i;f(n)&&(t=n.type,(("pie"===t||"gauge"===t)&&null!=n.clockWise&&(n.clockwise=n.clockWise),"gauge"===t)&&(i=eoi(n,"pointer.color"),null!=i&&ooi(n,"itemStyle.normal.color",i)),cct(n))});n.dataRange&&(n.visualMap=n.dataRange);t(hki,function(i){var r=n[i];r&&(u(r)||(r=[r]),t(r,function(n){cct(n)}))})},cki=function(n){var t=a();n.eachSeries(function(n){var f=n.get("stack");if(f){var r=t.get(f)||t.set(f,[]),i=n.getData(),u={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:n};if(!u.stackedDimension||!u.isStackedByIndex&&!u.stackedByDimension)return;r.length&&i.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel);r.push(u)}});t.each(soi)},krt=lct.prototype;krt.pure=!1;krt.persistent=!0;krt.getSource=function(){return this._source};var lki={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(n){return this._data[n+this._source.startIndex]},appendData:ad},arrayRows_row:{pure:!0,count:function(){var n=this._data[0];return n?Math.max(0,n.length-this._source.startIndex):0},getItem:function(n){var i;n+=this._source.startIndex;for(var r=[],u=this._data,t=0;t<u.length;t++)i=u[t],r.push(i?i[n]:null);return r},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".');}},objectRows:{pure:!0,count:act,getItem:vct,appendData:ad},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,n=this._data[t];return n?n.length:0},getItem:function(n){for(var i,r=[],u=this._source.dimensionsDefine,t=0;t<u.length;t++)i=this._data[u[t].name],r.push(i?i[n]:null);return r},appendData:function(n){var i=this._data;t(n,function(n,t){for(var u=i[t]||(i[t]=[]),r=0;r<(n||[]).length;r++)u.push(n[r])})}},original:{count:act,getItem:vct,appendData:ad},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(n,t){n-=this._offset;t=t||[];for(var r=this._dimSize*n,i=0;i<this._dimSize;i++)t[i]=this._data[r+i];return t},appendData:function(n){this._data=n},clean:function(){this._offset+=this.count();this._data=null}}},aki={arrayRows:vd,objectRows:function(n,t,i,r){return null!=i?n[r]:n},keyedColumns:vd,original:function(n,t,i){var r=la(n);return null!=i&&r instanceof Array?r[i]:r},typedArray:vd},vki={arrayRows:yct,objectRows:function(n,t){return yd(n[t],this._dimensionInfos[t])},keyedColumns:yct,original:function(n,t,i,r){var u=n&&(null==n.value?n:n.value);return!this._rawData.pure&&rui(n)&&(this.hasItemOption=!0),yd(u instanceof Array?u[r]:u,this._dimensionInfos[t])},typedArray:function(n,t,i,r){return n[r]}},yki=/\{@(.+?)\}/g,ndt={getDataParams:function(n,t){var i=this.getData(t),u=this.getRawValue(n,t),f=i.getRawIndex(n),e=i.getName(n),o=i.getRawDataItem(n),r=i.getItemVisual(n,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:e,dataIndex:f,data:o,dataType:t,value:u,color:r,marker:nv(r),$vars:["seriesName","name","value"]}},getFormattedLabel:function(n,t,i,r,u){var e,s;t=t||"normal";var o=this.getData(i),h=o.getItemModel(n),f=this.getDataParams(n,i);return(null!=r&&f.value instanceof Array&&(f.value=f.value[r]),e=h.get("normal"===t?[u||"label","formatter"]:[t,u||"label","formatter"]),"function"==typeof e)?(f.status=t,e(f)):"string"==typeof e?(s=fd(e,f),s.replace(yki,function(t,i){var r=i.length;return"["===i.charAt(0)&&"]"===i.charAt(r-1)&&(i=+i.slice(1,r-1)),se(o,n,i)})):void 0},getRawValue:function(n,t){return se(this.getData(t),n)},formatTooltip:function(){}},lf=pct.prototype;lf.perform=function(n){function v(n){return!(n>=1)&&(n=1),n}var r=this._upstream,h=n&&n.skip,c,l,y,a,o,t,i,s,p;this._dirty&&r&&(c=this.context,c.data=c.outputData=r.context.outputData);this.__pipeline&&(this.__pipeline.currentTask=this);this._plan&&!h&&(l=this._plan(this.context));var w=v(this._modBy),b=this._modDataCount||0,f=v(n&&n.modBy),e=n&&n.modDataCount||0;if((w!==f||b!==e)&&(l="reset"),(this._dirty||"reset"===l)&&(this._dirty=!1,y=coi(this,h)),this._modBy=f,this._modDataCount=e,a=n&&n.step,this._dueEnd=r?r._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){if(o=this._dueIndex,t=Math.min(null!=a?this._dueIndex+a:1/0,this._dueEnd),!h&&(y||t>o))if(i=this._progress,u(i))for(s=0;s<i.length;s++)wct(this,i[s],o,t,f,e);else wct(this,i,o,t,f,e);this._dueIndex=t;p=null!=this._settedOutputEnd?this._settedOutputEnd:t;this._outputDueEnd=p}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};drt=function(){function e(){return r>n?n++:null}function o(){var f=n%u*t+Math.ceil(n/u),e=n>=r?null:i>f?f:n;return n++,e}var r,n,t,i,u,f={reset:function(s,h,c,l){n=s;r=h;t=c;i=l;u=Math.ceil(i/t);f.next=t>1&&i>0?o:e}};return f}();lf.dirty=function(){this._dirty=!0;this._onDirty&&this._onDirty(this.context)};lf.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};lf.pipe=function(n){(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())};lf.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)};lf.getUpstream=function(){return this._upstream};lf.getDownstream=function(){return this._downstream};lf.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n};bs=tr();ks=nt.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(n,t,i){this.seriesIndex=this.componentIndex;this.dataTask=kh({count:aoi,reset:voi});this.dataTask.context={model:this};this.mergeDefaultAndTheme(n,i);rct(this);var r=this.getInitialData(n,i);kct(r,this);this.dataTask.context.data=r;bs(this).dataBeforeProcessed=r;bct(this)},mergeDefaultAndTheme:function(n,t){var i=this.layoutMode,u=i?tv(n):{},r=this.subType;nt.hasClass(r)&&(r+="Series");s(n,t.getTheme().get(this.subType));s(n,this.getDefaultOption());ca(n,"label",["show"]);this.fillDataTextStyle(n.data);i&&ko(n,u,i)},mergeOption:function(n,t){var r,i;n=s(this.option,n,!0);this.fillDataTextStyle(n.data);r=this.layoutMode;r&&ko(this.option,n,r);rct(this);i=this.getInitialData(n,t);kct(i,this);this.dataTask.dirty();this.dataTask.context.data=i;bs(this).dataBeforeProcessed=i;bct(this)},fillDataTextStyle:function(n){if(n&&!er(n))for(var i=["show"],t=0;t<n.length;t++)n[t]&&n[t].label&&ca(n[t],"label",i)},getInitialData:function(){},appendData:function(n){var t=this.getRawData();t.appendData(n.data)},getData:function(n){var i=pd(this),t;return i?(t=i.context.data,null==n?t:t.getLinkedData(n)):bs(this).data},setData:function(n){var t=pd(this),i;t&&(i=t.context,i.data!==n&&t.modifyOutputEnd&&t.setOutputEnd(n.count()),i.outputData=n,t!==this.dataTask&&(i.data=n));bs(this).data=n},getSource:function(){return hei(this)},getRawData:function(){return bs(this).dataBeforeProcessed},getBaseAxis:function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},formatTooltip:function(n,i){function p(u){function o(n,t){var u=e.getDimensionInfo(t);if(u&&u.otherDims.tooltip!==!1){var o=u.type,c=nv({color:r,type:"subItem"}),s=(f?c+hi(u.displayName||"-")+": ":"")+hi("ordinal"===o?n+"":"time"===o?i?"":ed("yyyy/MM/dd hh:mm:ss",n):wh(n));s&&h.push(s)}}var f=oh(u,function(n,t,i){var r=e.getDimensionInfo(i);return n|(r&&r.tooltip!==!1&&null!=r.displayName)},0),h=[];return s.length?t(s,function(t){o(se(e,n,t),t)}):t(u,o),(f?"<br/>":"")+h.join(f?"<br/>":", ")}function w(n){return hi(wh(n))}var e=this.getData(),s=e.mapDimension("defaultedTooltip",!0),c=s.length,h=this.getRawValue(n),a=u(h),r=e.getItemVisual(n,"color");f(r)&&r.colorStops&&(r=(r.colorStops[0]||{}).color);r=r||"transparent";var l=c>1||a&&!c?p(h):w(c?se(e,n,s[0]):a?h[0]:h),v=nv(r),y=e.getName(n),o=this.name;return bk(this)||(o=""),o=o?hi(o)+(i?": ":"<br/>"):"",i?v+o+l:o+v+(y?hi(y)+": "+l:l)},isAnimationEnabled:function(){if(e.node)return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),n},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(n,t,i){var u=this.ecModel,r=yrt.getColorFromPalette.call(this,n,t,i);return r||(r=u.getColorFromPalette(n,t,i)),r},coordDimToDataDim:function(n){return this.getRawData().mapDimension(n,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});rt(ks,ndt);rt(ks,yrt);wr=function(){this.group=new o;this.uid=ka("viewComponent")};wr.prototype={constructor:wr,init:function(){},render:function(){},dispose:function(){}};gp=wr.prototype;gp.updateView=gp.updateLayout=gp.updateVisual=function(){};ah(wr);pa(wr,{registerWhenExtend:!0});var grt=function(){var n=tr();return function(t){var i=n(t),r=t.pipelineContext,u=i.large,f=i.progressiveRender,e=i.large=r.large,o=i.progressiveRender=r.progressiveRender;return!!(u^e||f^o)&&"reset"}},tdt=tr(),pki=grt();li.prototype={type:"chart",init:function(){},render:function(){},highlight:function(n,t,i,r){dct(n.getData(),r,"emphasis")},downplay:function(n,t,i,r){dct(n.getData(),r,"normal")},remove:function(){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};nw=li.prototype;nw.updateView=nw.updateLayout=nw.updateVisual=function(n,t,i,r){this.render(n,t,i,r)};ah(li,["dispose"]);pa(li,{registerWhenExtend:!0});li.markUpdateMethod=function(n,t){tdt(n).updateMethod=t};var wki={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},idt="\x00__throttleOriginMethod",rdt="\x00__throttleRate",udt="\x00__throttleType",bki={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var i=n.getData(),u=(n.visualColorAccessPath||"itemStyle.color").split("."),r=n.get(u)||n.getColorFromPalette(n.name,null,t.getSeriesCount()),f;if(i.setVisual("color",r),!t.isSeriesFiltered(n))return"function"!=typeof r||r instanceof ke||i.each(function(t){i.setItemVisual(t,"color",r(n.getDataParams(t)))}),f=function(n,t){var r=n.getItemModel(t),i=r.get(u,!0);null!=i&&n.setItemVisual(t,"color",i)},{dataEach:i.hasItemOption?f:null}}},no={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},kki=function(n,i){function e(n,i){if("string"!=typeof n)return n;var r=n;return t(i,function(n,t){r=r.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),n)}),r}function r(n){var r=f.get(n);if(null==r){for(var u=n.split("."),t=no.aria,i=0;i<u.length;++i)t=t[u[i]];return t}return r}function a(){var n=i.getModel("title").option;return n&&n.length&&(n=n[0]),n&&n.text}function v(n){return no.series.typeNames[n]||"自定义图"}var f=i.getModel("aria"),u,h,c,l;if(f.get("show")){if(f.get("description"))return void n.setAttribute("aria-label",f.get("description"));u=0;i.eachSeries(function(){++u},this);var o,s=f.get("data.maxCount")||10,y=f.get("series.maxCount")||10,p=Math.min(u,y);1>u||(h=a(),o=h?e(r("general.withTitle"),{title:h}):r("general.withoutTitle"),c=[],l=u>1?"series.multiple.prefix":"series.single.prefix",o+=e(r(l),{seriesCount:u}),i.eachSeries(function(n,t){var i,y,h,f,l,o,a,w;if(p>t){for(y=n.get("name"),h="series."+(u>1?"multiple":"single")+".",i=r(y?h+"withName":h+"withoutName"),i=e(i,{seriesId:n.seriesIndex,seriesName:n.get("name"),seriesType:v(n.subType)}),f=n.getData(),window.data=f,i+=f.count()>s?e(r("data.partialData"),{displayCnt:s}):r("data.allData"),l=[],o=0;o<f.count();o++)s>o&&(a=f.getName(o),w=se(f,o),l.push(e(r(a?"data.withName":"data.withoutName"),{name:a,value:w})));i+=l.join(r("data.separator.middle"))+r("data.separator.end");c.push(i)}}),o+=c.join(r("series.multiple.separator.middle"))+r("series.multiple.separator.end"),n.setAttribute("aria-label",o))}},tw=Math.PI,dki=function(n,t){var i;t=t||{};l(t,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var u=new ht({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),r=new hkt({shape:{startAngle:-tw/2,endAngle:-tw/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),f=new ht({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});return r.animateShape(!0).when(1e3,{endAngle:3*tw/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*tw/2}).delay(300).start("circularInOut"),i=new o,i.add(r),i.add(f),i.add(u),i.resize=function(){var i=n.getWidth()/2,e=n.getHeight()/2,t;r.setShape({cx:i,cy:e});t=r.shape.r;f.setShape({x:i-t,y:e-t,width:2*t,height:2*t});u.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},i.resize(),i},wi=iv.prototype;wi.restoreData=function(n,t){n.restoreData(t);this._stageTaskMap.each(function(n){var t=n.overallTask;t&&t.dirty()})};wi.getPerformArgs=function(n,t){if(n.__pipeline){var i=this._pipelineMap.get(n.__pipeline.id),r=i.context,e=!t&&i.progressiveEnabled&&(!r||r.progressiveRender)&&n.__idxInPipeline>i.blockIndex,f=e?i.step:null,u=r&&r.modDataCount,o=null!=u?Math.ceil(u/f):null;return{step:f,modBy:o,modDataCount:u}}};wi.getPipeline=function(n){return this._pipelineMap.get(n)};wi.updateStreamModes=function(n,t){var i=this._pipelineMap.get(n.uid),u=n.getData(),r=u.count(),f=i.progressiveEnabled&&t.incrementalPrepareRender&&r>=i.threshold,e=n.get("large")&&r>=n.get("largeThreshold"),o="mod"===n.get("progressiveChunkMode")?r:null;n.pipelineContext=i.context={progressiveRender:f,modDataCount:o,large:e}};wi.restorePipelines=function(n){var t=this,i=t._pipelineMap=a();n.eachSeries(function(n){var r=n.getProgressive(),u=n.uid;i.set(u,{id:u,head:null,tail:null,threshold:n.getProgressiveThreshold(),progressiveEnabled:r&&!(n.preventIncremental&&n.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0});rv(t,n,n.dataTask)})};wi.prepareStageTasks=function(){var n=this._stageTaskMap,i=this.ecInstance.getModel(),r=this.api;t(this._allHandlers,function(t){var u=n.get(t.uid)||n.set(t.uid,[]);t.reset&&doi(this,t,u,i,r);t.overallReset&&goi(this,t,u,i,r)},this)};wi.prepareView=function(n,t,i,r){var u=n.renderTask,f=u.context;f.model=t;f.ecModel=i;f.api=r;u.__block=!n.incrementalPrepareRender;rv(this,t,u)};wi.performDataProcessorTasks=function(n,t){gct(this,this._dataProcessorHandlers,n,t,{block:!0})};wi.performVisualTasks=function(n,t,i){gct(this,this._visualHandlers,n,t,i)};wi.performSeriesTasks=function(n){var t;n.eachSeries(function(n){t|=n.dataTask.perform()});this.unfinished|=t};wi.plan=function(){this._pipelineMap.each(function(n){var t=n.tail;do{if(t.__block){n.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};nut=wi.updatePayload=function(n,t){"remain"!==t&&(n.context.payload=t)};fdt=nlt(0);iv.wrapStageHandler=function(n,t){return fr(n)&&(n={overallReset:n,seriesType:osi(n)}),n.uid=ka("stageHandler"),t&&(n.visualType=t),n};ds={};tut={};tlt(ds,brt);tlt(tut,sct);ds.eachSeriesByType=ds.eachRawSeriesByType=function(n){iw=n};ds.eachComponent=function(n){"series"===n.mainType&&n.subType&&(iw=n.subType)};var edt=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],gki={color:edt,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],edt]},lt="#eee",rw=function(){return{axisLine:{lineStyle:{color:lt}},axisTick:{lineStyle:{color:lt}},axisLabel:{textStyle:{color:lt}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:lt}}}},iut=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],odt={color:iut,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:lt},crossStyle:{color:lt}}},legend:{textStyle:{color:lt}},textStyle:{color:lt},title:{textStyle:{color:lt}},toolbox:{iconStyle:{normal:{borderColor:lt}}},dataZoom:{textStyle:{color:lt}},visualMap:{textStyle:{color:lt}},timeline:{lineStyle:{color:lt},itemStyle:{normal:{color:iut[1]}},label:{normal:{textStyle:{color:lt}}},controlStyle:{normal:{color:lt,borderColor:lt}}},timeAxis:rw(),logAxis:rw(),valueAxis:rw(),categoryAxis:rw(),line:{symbol:"circle"},graph:{color:iut},gauge:{title:{textStyle:{color:lt}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};odt.categoryAxis.splitLine.show=!1;nt.extend({type:"dataset",defaultOption:{seriesLayoutBy:wkt,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){sei(this)}});wr.extend({type:"dataset"});var ndi=so,ct=t,tdi=fr,sl=f,sdt=nt.parseClassType,idi=1,hdt=1e3,cdt=5e3,ldt=1e3,adt=2e3,vdt=3e3,rut={PROCESSOR:{FILTER:hdt,STATISTIC:cdt},VISUAL:{LAYOUT:ldt,GLOBAL:adt,CHART:vdt,COMPONENT:4e3,BRUSH:5e3}},br="__flagInMainProcess",af="__optionUpdated",ydt=/^[a-zA-Z0-9_]+$/;dh.prototype.on=ns("on");dh.prototype.off=ns("off");dh.prototype.one=ns("one");rt(dh,st);h=gh.prototype;h._onframe=function(){var n,i,u;if(!this._disposed)if(n=this._scheduler,this[af])i=this[af].silent,this[br]=!0,nc(this),lu.update.call(this),this[br]=!1,this[af]=!1,uv.call(this,i),fv.call(this,i);else if(n.unfinished){var r=idi,t=this._model,f=this._api;n.unfinished=!1;do u=+new Date,n.performSeriesTasks(t),n.performDataProcessorTasks(t),ult(this,t),n.performVisualTasks(t),dd(this,this._model,f,"remain"),r-=+new Date-u;while(r>0&&n.unfinished);n.unfinished||this._zr.flush()}};h.getDom=function(){return this._dom};h.getZr=function(){return this._zr};h.setOption=function(n,t,i){var r;if(sl(t)&&(i=t.lazyUpdate,r=t.silent,t=t.notMerge),this[br]=!0,!this._model||t){var u=new cd(this._api),f=this._theme,e=this._model=new brt(null,null,f,u);e.scheduler=this._scheduler;e.init(null,null,f,u)}this._model.setOption(n,wdt);i?(this[af]={silent:r},this[br]=!1):(nc(this),lu.update.call(this),this._zr.flush(),this[af]=!1,this[br]=!1,uv.call(this,r),fv.call(this,r))};h.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};h.getModel=function(){return this._model};h.getOption=function(){return this._model&&this._model.getOption()};h.getWidth=function(){return this._zr.getWidth()};h.getHeight=function(){return this._zr.getHeight()};h.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};h.getRenderedCanvas=function(n){if(e.canvasSupported){n=n||{};n.pixelRatio=n.pixelRatio||1;n.backgroundColor=n.backgroundColor||this._model.get("backgroundColor");var t=this._zr;return t.painter.getRenderedCanvas(n)}};h.getSvgDataUrl=function(){if(e.svgSupported){var n=this._zr,i=n.storage.getDisplayList();return t(i,function(n){n.stopAnimation(!0)}),n.painter.pathToDataUrl()}};h.getDataURL=function(n){var i;n=n||{};var r=n.excludeComponents,u=this._model,t=[],f=this;return ct(r,function(n){u.eachComponent({mainType:n},function(n){var i=f._componentsMap[n.__viewId];i.group.ignore||(t.push(i),i.group.ignore=!0)})}),i="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(n).toDataURL("image/"+(n&&n.type||"png")),ct(t,function(n){n.group.ignore=!1}),i};h.getConnectedDataURL=function(n){var c;if(e.canvasSupported){var l=this.group,a=Math.min,y=Math.max,f=1/0;if(ow[l]){var r=f,u=f,o=-f,s=-f,p=[],i=n&&n.pixelRatio||1;t(to,function(t){if(t.group===l){var f=t.getRenderedCanvas(v(n)),i=t.getDom().getBoundingClientRect();r=a(i.left,r);u=a(i.top,u);o=y(i.right,o);s=y(i.bottom,s);p.push({dom:f,left:i.left,top:i.top})}});r*=i;u*=i;o*=i;s*=i;var w=o-r,b=s-u,h=bv();return h.width=w,h.height=b,c=wk(h),ct(p,function(n){var t=new bu({style:{x:n.left*i-r,y:n.top*i-u,image:n.dom}});c.add(t)}),c.refreshImmediately(),h.toDataURL("image/"+(n&&n.type||"png"))}return this.getDataURL(n)}};h.convertToPixel=p(ilt,"convertToPixel");h.convertFromPixel=p(ilt,"convertFromPixel");h.containPixel=function(n,i){var r,u=this._model;return n=ya(u,n),t(n,function(n,u){u.indexOf("Models")>=0&&t(n,function(n){var f=n.coordinateSystem,t;f&&f.containPoint?r|=!!f.containPoint(i):"seriesModels"===u&&(t=this._chartsMap[n.__viewId],t&&t.containPoint&&(r|=t.containPoint(i,n)))},this)},this),!!r};h.getVisual=function(n,t){var u=this._model;n=ya(u,n,{defaultMainType:"series"});var f=n.seriesModel,i=f.getData(),r=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?i.indexOfRawIndex(n.dataIndex):null;return null!=r?i.getItemVisual(r,t):i.getVisual(t)};h.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]};h.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]};lu={prepareAndUpdate:function(n){nc(this);lu.update.call(this,n)},update:function(n){var t=this._model,r=this._api,s=this._zr,o=this._coordSysMgr,u=this._scheduler,i,f;t&&(u.restoreData(t,n),u.performSeriesTasks(t),o.create(t,r),u.performDataProcessorTasks(t,n),ult(this,t),o.update(t,r),kd(t),u.performVisualTasks(t,n),olt(this,t,r,n),i=t.get("backgroundColor")||"transparent",e.canvasSupported?s.setBackgroundColor(i):(f=ru(i),i=po(f,"rgb"),0===f[3]&&(i="transparent")),gd(t,r))},updateTransform:function(n){var t=this._model,r=this,u=this._api,f,i;t&&(f=[],t.eachComponent(function(i,e){var o=r.getViewOfComponentModel(e),s;o&&o.__alive&&(o.updateTransform?(s=o.updateTransform(e,t,u,n),s&&s.update&&f.push(o)):f.push(o))}),i=a(),t.eachSeries(function(f){var o=r._chartsMap[f.__viewId],e;o.updateTransform?(e=o.updateTransform(f,t,u,n),e&&e.update&&i.set(f.uid,1)):i.set(f.uid,1)}),kd(t),this._scheduler.performVisualTasks(t,n,{setDirty:!0,dirtyMap:i}),dd(r,t,u,n,i),gd(t,this._api))},updateView:function(n){var t=this._model;t&&(li.markUpdateMethod(n,"updateView"),kd(t),this._scheduler.performVisualTasks(t,n,{setDirty:!0}),olt(this,this._model,this._api,n),gd(t,this._api))},updateVisual:function(n){lu.update.call(this,n)},updateLayout:function(n){lu.update.call(this,n)}};h.resize=function(n){var t,r,i;this._zr.resize(n);t=this._model;(this._loadingFX&&this._loadingFX.resize(),t)&&(r=t.resetOption("media"),i=n&&n.silent,this[br]=!0,r&&nc(this),lu.update.call(this),this[br]=!1,uv.call(this,i),fv.call(this,i))};h.showLoading=function(n,t){if(sl(n)&&(t=n,n=""),n=n||"default",this.hideLoading(),fut[n]){var i=fut[n](this._api,t),r=this._zr;this._loadingFX=i;r.add(i)}};h.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};h.makeActionFromEvent=function(n){var t=c({},n);return t.type=fw[n.type],t};h.dispatchAction=function(n,t){if(sl(t)||(t={silent:!!t}),uw[n.type]&&this._model){if(this[br])return void this._pendingActions.push(n);flt.call(this,n,t.silent);t.flush?this._zr.flush(!0):t.flush!==!1&&e.browser.weChat&&this._throttledZrFlush();uv.call(this,t.silent);fv.call(this,t.silent)}};h.appendData=function(n){var t=n.seriesIndex,i=this.getModel(),r=i.getSeriesByIndex(t);r.appendData(n);this._scheduler.unfinished=!0};h.on=ns("on");h.off=ns("off");h.one=ns("one");pdt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];h._initEvents=function(){ct(pdt,function(n){this._zr.on(n,function(t){var r,f=this.getModel(),i=t.target,u;"globalout"===n?r={}:i&&null!=i.dataIndex?(u=i.dataModel||f.getSeriesByIndex(i.seriesIndex),r=u&&u.getDataParams(i.dataIndex,i.dataType)||{}):i&&i.eventData&&(r=c({},i.eventData));r&&(r.event=t,r.type=n,this.trigger(n,r))},this)},this);ct(fw,function(n,t){this._messageCenter.on(t,function(n){this.trigger(t,n)},this)},this)};h.isDisposed=function(){return this._disposed};h.clear=function(){this.setOption({series:[]},!0)};h.dispose=function(){if(!this._disposed){this._disposed=!0;tst(this.getDom(),eut,"");var n=this._api,t=this._model;ct(this._componentsViews,function(i){i.dispose(t,n)});ct(this._chartsViews,function(i){i.dispose(t,n)});this._zr.dispose();delete to[this.id]}};rt(gh,st);var uw={},fw={},uut=[],wdt=[],bdt=[],ew=[],kdt={},fut={},to={},ow={},rdi=new Date-0,udi=new Date-0,eut="_echarts_instance_",ddt={},fdi=hlt;ic(adt,bki);rf(gkt);he(cdt,cki);clt("default",dki);pt({type:"highlight",event:"highlight",update:"highlight"},pu);pt({type:"downplay",event:"downplay",update:"downplay"},pu);tg("light",gki);tg("dark",odt);gdt={};rc.prototype={constructor:rc,add:function(n){return this._add=n,this},update:function(n){return this._update=n,this},remove:function(n){return this._remove=n,this},execute:function(){var o=this._old,h=this._new,r={},s=[],e=[],t,i,n,f,u;for(ylt(o,{},s,"_oldKeyGetter",this),ylt(h,r,e,"_newKeyGetter",this),t=0;t<o.length;t++)i=s[t],n=r[i],null!=n?(u=n.length,u?(1===u&&(r[i]=null),n=n.unshift()):r[i]=null,this._update&&this._update(n,t)):this._remove&&this._remove(t);for(t=0;t<e.length;t++)if(i=e[t],r.hasOwnProperty(i)){if(n=r[i],null==n)continue;if(n.length)for(f=0,u=n.length;u>f;f++)this._add&&this._add(n[f]);else this._add&&this._add(n)}}};var ngt=a(["tooltip","label","itemName","itemId","seriesName"]),sw=f,hw="undefined",edi="e\x00\x00",odi={float:typeof Float64Array===hw?Array:Float64Array,int:typeof Int32Array===hw?Array:Int32Array,ordinal:Array,number:Array,time:Array},tgt=typeof Uint32Array===hw?Array:Uint32Array,sdi=typeof Uint16Array===hw?Array:Uint16Array,hdi=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],cdi=["_extent","_approximateExtent","_rawExtent"],bi=function(n,t){var i,r;n=n||["x","y"];for(var f={},e=[],o={},u=0;u<n.length;u++)i=n[u],dt(i)&&(i={name:i}),r=i.name,i.type=i.type||"float",i.coordDim||(i.coordDim=r,i.coordDimIndex=0),i.otherDims=i.otherDims||{},e.push(r),f[r]=i,i.index=u,i.createInvertedIndices&&(o[r]=[]);this.dimensions=e;this._dimensionInfos=f;this.hostModel=t;this.dataType;this._indices=null;this._count=0;this._rawCount=0;this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this._visual={};this._layout={};this._itemVisuals=[];this.hasItemVisual={};this._itemLayouts=[];this._graphicEls=[];this._chunkSize=1e5;this._chunkCount=0;this._rawData;this._rawExtent={};this._extent={};this._approximateExtent={};this._dimensionsSummary=rhi(this);this._invertedIndicesMap=o;this._calculationInfo={}},r=bi.prototype;r.type="list";r.hasItemOption=!0;r.getDimension=function(n){return isNaN(n)||(n=this.dimensions[n]||n),n};r.getDimensionInfo=function(n){return this._dimensionInfos[this.getDimension(n)]};r.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()};r.mapDimension=function(n,t){var r=this._dimensionsSummary,i;return null==t?r.encodeFirstDimNotExtra[n]:(i=r.encode[n],t===!0?(i||[]).slice():i&&i[t])};r.initData=function(n,t,i){var r=rr.isInstance(n)||nu(n);r&&(n=new lct(n,this.dimensions.length));this._rawData=n;this._storage={};this._indices=null;this._nameList=t||[];this._idList=[];this._nameRepeatCount={};i||(this.hasItemOption=!1);this.defaultDimValueGetter=vki[this._rawData.getSource().sourceFormat];this._dimValueGetter=i=i||this.defaultDimValueGetter;this._rawExtent={};this._initDataFromProvider(0,n.count());n.pure&&(this.hasItemOption=!1)};r.getProvider=function(){return this._rawData};r.appendData=function(n){var t=this._rawData,r=this.count(),i;t.appendData(n);i=t.count();t.persistent||(i+=r);this._initDataFromProvider(r,i)};r._initDataFromProvider=function(n,t){var i,k,rt,v,ut,y,s,f,u,w,r,ft,et,d,h;if(!(n>=t)){for(var g,e=this._chunkSize,c=this._rawData,o=this._storage,b=this.dimensions,nt=b.length,ot=this._dimensionInfos,st=this._nameList,at=this._idList,tt=this._rawExtent,l=this._nameRepeatCount={},ht=this._chunkCount,it=ht-1,a=0;nt>a;a++){if(i=b[a],tt[i]||(tt[i]=fg()),k=ot[i],0===k.otherDims.itemName&&(g=this._nameDimIdx=a),0===k.otherDims.itemId&&(this._idDimIdx=a),rt=odi[k.type],o[i]||(o[i]=[]),v=o[i][it],v&&v.length<e){for(ut=new rt(Math.min(t-it*e,e)),y=0;y<v.length;y++)ut[y]=v[y];o[i][it]=ut}for(s=ht*e;t>s;s+=e)o[i].push(new rt(Math.min(t-s,e)));this._chunkCount=o[i].length}for(f=new Array(nt),u=n;t>u;u++){f=c.getItem(u,f);for(var ct=Math.floor(u/e),lt=u%e,s=0;nt>s;s++){var i=b[s],vt=o[i][ct],p=this._dimValueGetter(f,i,u,s);vt[lt]=p;w=tt[i];p<w[0]&&(w[0]=p);p>w[1]&&(w[1]=p)}c.pure||(r=st[u],f&&null==r&&(null!=f.name?st[u]=r=f.name:null!=g&&(ft=b[g],et=o[ft][ct],et&&(r=et[lt],d=ot[ft].ordinalMeta,d&&d.categories.length&&(r=d.categories[r])))),h=null==f?null:f.id,null==h&&null!=r&&(l[r]=l[r]||0,h=r,l[r]>0&&(h+="__ec__"+l[r]),l[r]++),null!=h&&(at[u]=h))}!c.persistent&&c.clean&&c.clean();this._rawCount=this._count=t;this._extent={};ohi(this)}};r.count=function(){return this._count};r.getIndices=function(){var t,r=this._indices,i,u,n;if(r)if(i=r.constructor,u=this._count,i===Array)for(t=new i(u),n=0;u>n;n++)t[n]=r[n];else t=new i(r.buffer,0,u);else for(var i=ev(this),t=new i(this.count()),n=0;n<t.length;n++)t[n]=n;return t};r.get=function(n,t){var i;if(!(t>=0&&t<this._count)||(i=this._storage,!i[n]))return NaN;t=this.getRawIndex(t);var r=Math.floor(t/this._chunkSize),u=t%this._chunkSize,f=i[n][r];return f[u]};r.getByRawIndex=function(n,t){var i;if(!(t>=0&&t<this._rawCount)||(i=this._storage[n],!i))return NaN;var r=Math.floor(t/this._chunkSize),u=t%this._chunkSize,f=i[r];return f[u]};r._getFast=function(n,t){var i=Math.floor(t/this._chunkSize),r=t%this._chunkSize,u=this._storage[n][i];return u[r]};r.getValues=function(n,t){var r=[],i,f;for(u(n)||(t=n,n=this.dimensions),i=0,f=n.length;f>i;i++)r.push(this.get(n[i],t));return r};r.hasValue=function(n){for(var i=this._dimensionsSummary.dataDimsOnCoord,r=this._dimensionInfos,t=0,u=i.length;u>t;t++)if("ordinal"!==r[i[t]].type&&isNaN(this.get(i[t],n)))return!1;return!0};r.getDataExtent=function(n){var o,r,t,s,h,i;if(n=this.getDimension(n),o=this._storage[n],r=fg(),!o)return r;if(s=this.count(),h=!this._indices,h)return this._rawExtent[n].slice();if(t=this._extent[n])return t.slice();t=r;for(var u=t[0],f=t[1],e=0;s>e;e++)i=this._getFast(n,this.getRawIndex(e)),u>i&&(u=i),i>f&&(f=i);return t=[u,f],this._extent[n]=t,t};r.getApproximateExtent=function(n){return n=this.getDimension(n),this._approximateExtent[n]||this.getDataExtent(n)};r.setApproximateExtent=function(n,t){t=this.getDimension(t);this._approximateExtent[t]=n.slice()};r.getCalculationInfo=function(n){return this._calculationInfo[n]};r.setCalculationInfo=function(n,t){sw(n)?c(this._calculationInfo,n):this._calculationInfo[n]=t};r.getSum=function(n){var f=this._storage[n],r=0,t,u,i;if(f)for(t=0,u=this.count();u>t;t++)i=this.get(n,t),isNaN(i)||(r+=i);return r};r.getMedian=function(n){var r=[],i,t;return this.each(n,function(n){isNaN(n)||r.push(n)}),i=[].concat(r).sort(function(n,t){return n-t}),t=this.count(),0===t?0:t%2==1?i[(t-1)/2]:(i[t/2]+i[t/2-1])/2};r.rawIndexOf=function(n,t){var r=n&&this._invertedIndicesMap[n],i=r[t];return null==i||isNaN(i)?-1:i};r.indexOfName=function(n){for(var t=0,i=this.count();i>t;t++)if(this.getName(t)===n)return t;return-1};r.indexOfRawIndex=function(n){var i,r,u,f,t;if(!this._indices)return n;if(n>=this._rawCount||0>n)return-1;if(i=this._indices,r=i[n],null!=r&&r<this._count&&r===n)return n;for(u=0,f=this._count-1;f>=u;)if(t=(u+f)/2|0,i[t]<n)u=t+1;else{if(!(i[t]>n))return t;f=t-1}return-1};r.indicesOfNearest=function(n,t,i){var h=this._storage,c=h[n],u=[],r,e;if(!c)return u;null==i&&(i=1/0);for(var o=Number.MAX_VALUE,s=-1,f=0,l=this.count();l>f;f++)r=t-this.get(n,f),e=Math.abs(r),i>=r&&o>=e&&((o>e||r>=0&&0>s)&&(o=e,s=r,u.length=0),u.push(f));return u};r.getRawIndex=uc;r.getRawDataItem=function(n){var i,t,r;if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(n));for(i=[],t=0;t<this.dimensions.length;t++)r=this.dimensions[t],i.push(this.get(r,n));return i};r.getName=function(n){var t=this.getRawIndex(n);return this._nameList[t]||wlt(this,this._nameDimIdx,t)||""};r.getId=function(n){return rg(this,this.getRawIndex(n))};r.each=function(n,t,r,u){var s,f,e,o;if(this._count)for("function"==typeof n&&(u=r,r=t,t=n,n=[]),r=r||u||this,n=i(ug(n),this.getDimension,this),s=n.length,f=0;f<this.count();f++)switch(s){case 0:t.call(r,f);break;case 1:t.call(r,this.get(n[0],f),f);break;case 2:t.call(r,this.get(n[0],f),this.get(n[1],f),f);break;default:for(e=0,o=[];s>e;e++)o[e]=this.get(n[e],f);o[e]=f;t.apply(r,o)}};r.filterSelf=function(n,t,r,u){var o,s,p,e;if(this._count){"function"==typeof n&&(u=r,r=t,t=n,n=[]);r=r||u||this;n=i(ug(n),this.getDimension,this);for(var h=this.count(),w=ev(this),v=new w(h),c=[],l=n.length,a=0,y=n[0],f=0;h>f;f++){if(s=this.getRawIndex(f),0===l)o=t.call(r,f);else if(1===l)p=this._getFast(y,s),o=t.call(r,p,f);else{for(e=0;l>e;e++)c[e]=this._getFast(y,s);c[e]=f;o=t.apply(r,c)}o&&(v[a++]=s)}return h>a&&(this._indices=v),this._count=a,this._extent={},this.getRawIndex=this._indices?fc:uc,this}};r.selectRange=function(n){var u,h,f,s,b,r,a,v,t,k,i;if(this._count){u=[];for(h in n)n.hasOwnProperty(h)&&u.push(h);if(f=u.length,f){var c=this.count(),tt=ev(this),o=new tt(c),e=0,l=u[0],y=n[l][0],p=n[l][1],w=!1;if(!this._indices)if(s=0,1===f){for(b=this._storage[u[0]],r=0;r<this._chunkCount;r++)for(var d=b[r],g=Math.min(this._count-r*this._chunkSize,this._chunkSize),t=0;g>t;t++)i=d[t],(i>=y&&p>=i||isNaN(i))&&(o[e++]=s),s++;w=!0}else if(2===f){for(var b=this._storage[l],it=this._storage[u[1]],rt=n[u[1]][0],ut=n[u[1]][1],r=0;r<this._chunkCount;r++)for(var d=b[r],ft=it[r],g=Math.min(this._count-r*this._chunkSize,this._chunkSize),t=0;g>t;t++)i=d[t],a=ft[t],(i>=y&&p>=i||isNaN(i))&&(a>=rt&&ut>=a||isNaN(a))&&(o[e++]=s),s++;w=!0}if(!w)if(1===f)for(t=0;c>t;t++)v=this.getRawIndex(t),i=this._getFast(l,v),(i>=y&&p>=i||isNaN(i))&&(o[e++]=v);else for(t=0;c>t;t++){for(var nt=!0,v=this.getRawIndex(t),r=0;f>r;r++)k=u[r],i=this._getFast(h,v),(i<n[k][0]||i>n[k][1])&&(nt=!1);nt&&(o[e++]=this.getRawIndex(t))}return c>e&&(this._indices=o),this._count=e,this._extent={},this.getRawIndex=this._indices?fc:uc,this}}};r.mapArray=function(n,t,i,r){"function"==typeof n&&(r=i,i=t,t=n,n=[]);i=i||r||this;var u=[];return this.each(n,function(){u.push(t&&t.apply(this,arguments))},i),u};r.map=function(n,t,r,u){var f,s,e;r=r||u||this;n=i(ug(n),this.getDimension,this);f=blt(this,n);f._indices=this._indices;f.getRawIndex=f._indices?fc:uc;for(var d=f._storage,v=[],y=this._chunkSize,p=n.length,g=this.count(),a=[],nt=f._rawExtent,o=0;g>o;o++){for(s=0;p>s;s++)a[s]=this.get(n[s],o);if(a[p]=o,e=t&&t.apply(r,a),null!=e){"object"!=typeof e&&(v[0]=e,e=v);for(var w=this.getRawIndex(o),tt=Math.floor(w/y),it=w%y,c=0;c<e.length;c++){var b=n[c],h=e[c],l=nt[b],k=d[b];k&&(k[tt][it]=h);h<l[0]&&(l[0]=h);h>l[1]&&(l[1]=h)}}}return f};r.downSample=function(n,t,i,r){for(var h,u=blt(this,[n]),k=u._storage,c=[],o=Math.floor(1/t),y=k[n],s=this.count(),l=this._chunkSize,a=u._rawExtent[n],p=new(ev(this))(s),w=0,f=0;s>f;f+=o){for(o>s-f&&(o=s-f,c.length=o),h=0;o>h;h++){var b=this.getRawIndex(f+h),d=Math.floor(b/l),g=b%l;c[h]=y[d][g]}var e=i(c),v=this.getRawIndex(Math.min(f+r(c,e)||0,s-1)),nt=Math.floor(v/l),tt=v%l;y[nt][tt]=e;e<a[0]&&(a[0]=e);e>a[1]&&(a[1]=e);p[w++]=v}return u._count=w,u._indices=p,u.getRawIndex=fc,u};r.getItemModel=function(n){var t=this.hostModel;return new g(this.getRawDataItem(n),t,t&&t.ecModel)};r.diff=function(n){var t=this;return new rc(n?n.getIndices():[],this.getIndices(),function(t){return rg(n,t)},function(n){return rg(t,n)})};r.getVisual=function(n){var t=this._visual;return t&&t[n]};r.setVisual=function(n,t){if(sw(n))for(var i in n)n.hasOwnProperty(i)&&this.setVisual(i,n[i]);else this._visual=this._visual||{},this._visual[n]=t};r.setLayout=function(n,t){if(sw(n))for(var i in n)n.hasOwnProperty(i)&&this.setLayout(i,n[i]);else this._layout[n]=t};r.getLayout=function(n){return this._layout[n]};r.getItemLayout=function(n){return this._itemLayouts[n]};r.setItemLayout=function(n,t,i){this._itemLayouts[n]=i?c(this._itemLayouts[n]||{},t):t};r.clearItemLayouts=function(){this._itemLayouts.length=0};r.getItemVisual=function(n,t,i){var r=this._itemVisuals[n],u=r&&r[t];return null!=u||i?u:this.getVisual(t)};r.setItemVisual=function(n,t,i){var u=this._itemVisuals[n]||{},f=this.hasItemVisual,r;if(this._itemVisuals[n]=u,sw(t))for(r in t)t.hasOwnProperty(r)&&(u[r]=t[r],f[r]=!0);else u[t]=i,f[t]=!0};r.clearAllVisual=function(){this._visual={};this._itemVisuals=[];this.hasItemVisual={}};igt=function(n){n.seriesIndex=this.seriesIndex;n.dataIndex=this.dataIndex;n.dataType=this.dataType};r.setItemGraphicEl=function(n,t){var i=this.hostModel;t&&(t.dataIndex=n,t.dataType=this.dataType,t.seriesIndex=i&&i.seriesIndex,"group"===t.type&&t.traverse(igt,t));this._graphicEls[n]=t};r.getItemGraphicEl=function(n){return this._graphicEls[n]};r.eachItemGraphicEl=function(n,i){t(this._graphicEls,function(t,r){t&&n&&n.call(i,t,r)})};r.cloneShallow=function(n){var t,r;return n||(t=i(this.dimensions,this.getDimensionInfo,this),n=new bi(t,this.hostModel)),(n._storage=this._storage,plt(n,this),this._indices)?(r=this._indices.constructor,n._indices=new r(this._indices)):n._indices=null,n.getRawIndex=n._indices?fc:uc,n};r.wrapMethod=function(n,t){var i=this[n];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var n=i.apply(this,arguments);return t.apply(this,[n].concat(ob(arguments)))})};r.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];r.CHANGABLE_METHODS=["filterSelf","selectRange"];cw=function(n,t){return t=t||{},klt(t.coordDimensions||[],n,{dimsDef:t.dimensionsDefine||n.dimensionsDefine,encodeDef:t.encodeDefine||n.encodeDefine,dimCount:t.dimensionsCount,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})};et.prototype.parse=function(n){return n};et.prototype.getSetting=function(n){return this._setting[n]};et.prototype.contain=function(n){var t=this._extent;return n>=t[0]&&n<=t[1]};et.prototype.normalize=function(n){var t=this._extent;return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])};et.prototype.scale=function(n){var t=this._extent;return n*(t[1]-t[0])+t[0]};et.prototype.unionExtent=function(n){var t=this._extent;n[0]<t[0]&&(t[0]=n[0]);n[1]>t[1]&&(t[1]=n[1])};et.prototype.unionExtentFromData=function(n,t){this.unionExtent(n.getApproximateExtent(t))};et.prototype.getExtent=function(){return this._extent.slice()};et.prototype.setExtent=function(n,t){var i=this._extent;isNaN(n)||(i[0]=n);isNaN(t)||(i[1]=t)};et.prototype.isBlank=function(){return this._isBlank};et.prototype.setBlank=function(n){this._isBlank=n};et.prototype.getLabel=null;ah(et);pa(et,{registerWhenExtend:!0});ec.createByAxisModel=function(n){var t=n.option,r=t.data,u=r&&i(r,ahi);return new ec({categories:u,needCollect:!u,deduplication:t.dedplication!==!1})};out=ec.prototype;out.getOrdinal=function(n){return tat(this).get(n)};out.parseAndCollect=function(n){var t,i=this._needCollect,r;return"string"!=typeof n&&!i?n:i&&!this._deduplication?(t=this.categories.length,this.categories[t]=n,t):(r=tat(this),t=r.get(n),null==t&&(i?(t=this.categories.length,this.categories[t]=n,r.set(n,t)):t=NaN),t)};lw=et.prototype;aw=et.extend({type:"ordinal",init:function(n,t){(!n||u(n))&&(n=new ec({categories:n}));this._ordinalMeta=n;this._extent=t||[0,n.categories.length-1]},parse:function(n){return"string"==typeof n?this._ordinalMeta.getOrdinal(n):Math.round(n)},contain:function(n){return n=this.parse(n),lw.contain.call(this,n)&&null!=this._ordinalMeta.categories[n]},normalize:function(n){return lw.normalize.call(this,this.parse(n))},scale:function(n){return Math.round(lw.scale.call(this,n))},getTicks:function(){for(var t=[],i=this._extent,n=i[0];n<=i[1];)t.push(n),n++;return t},getLabel:function(n){if(!this.isBlank())return this._ordinalMeta.categories[n]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(n,t){this.unionExtent(n.getApproximateExtent(t))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:pu,niceExtent:pu});aw.create=function(){return new aw};var sut=ii,hut=ii,au=et.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(n,t){var i=this._extent;isNaN(n)||(i[0]=parseFloat(n));isNaN(t)||(i[1]=parseFloat(t))},unionExtent:function(n){var t=this._extent;n[0]<t[0]&&(t[0]=n[0]);n[1]>t[1]&&(t[1]=n[1]);au.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(n){this._interval=n;this._niceExtent=this._extent.slice();this._intervalPrecision=iat(n)},getTicks:function(){return yhi(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(n,t){if(null==n)return"";var i=t&&t.precision;return null==i?i=da(n)||0:"auto"===i&&(i=this._intervalPrecision),n=hut(n,i,!0),wh(n)},niceTicks:function(n,t,i){var r,u,f;n=n||5;r=this._extent;u=r[1]-r[0];isFinite(u)&&(0>u&&(u=-u,r.reverse()),f=vhi(r,n,t,i),this._intervalPrecision=f.intervalPrecision,this._interval=f.interval,this._niceExtent=f.niceTickExtent)},niceExtent:function(n){var t=this._extent,r,u,i;t[0]===t[1]&&(0!==t[0]?(r=t[0],n.fixMax?t[0]-=r/2:(t[1]+=r/2,t[0]-=r/2)):t[1]=1);u=t[1]-t[0];isFinite(u)||(t[0]=0,t[1]=1);this.niceTicks(n.splitNumber,n.minInterval,n.maxInterval);i=this._interval;n.fixMin||(t[0]=hut(Math.floor(t[0]/i)*i));n.fixMax||(t[1]=hut(Math.ceil(t[1]/i)*i))}});au.create=function(){return new au};var ldi="__ec_stack_",rgt=.5,adi="undefined"!=typeof Float32Array?Float32Array:Array,vdi={seriesType:"bar",plan:grt(),reset:function(n){function s(n,f){for(var l,a=new adi(2*n.count),s=[],v=[],y=0;null!=(l=n.next());)v[o]=f.get(h,l),v[1-o]=f.get(c,l),s=i.dataToPoint(v,null,s),a[y++]=s[0],a[y++]=s[1];f.setLayout({largePoints:a,barWidth:u,valueAxisStart:hat(t,r,!1),valueAxisHorizontal:e})}if(oat(n)&&sat(n)){var f=n.getData(),i=n.coordinateSystem,t=i.getBaseAxis(),r=i.getOtherAxis(t),h=f.mapDimension(r.dim),c=f.mapDimension(t.dim),e=r.isHorizontal(),o=e?0:1,u=eat(hg([n]),t,n).width;return u>rgt||(u=rgt),{progress:s}}}},ydi=au.prototype,ugt=Math.ceil,fgt=Math.floor,gs=1e3,nh=60*gs,hl=60*nh,tt=24*hl,pdi=function(n,t,i,r){for(;r>i;){var u=i+r>>>1;n[u][1]<t?i=u+1:r=u}return i},cut=au.extend({type:"time",getLabel:function(n){var t=this._stepLvl,i=new Date(n);return ed(t[0],i,this.getSetting("useUTC"))},niceExtent:function(n){var t=this._extent,r,i;(t[0]===t[1]&&(t[0]-=tt,t[1]+=tt),t[1]===-1/0&&1/0===t[0])&&(r=new Date,t[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),t[0]=t[1]-tt);this.niceTicks(n.splitNumber,n.minInterval,n.maxInterval);i=this._interval;n.fixMin||(t[0]=ii(fgt(t[0]/i)*i));n.fixMax||(t[1]=ii(ugt(t[1]/i)*i))},niceTicks:function(n,t,i){var l,a,e,s;n=n||10;var r=this._extent,h=r[1]-r[0],f=h/n;null!=t&&t>f&&(f=t);null!=i&&f>i&&(f=i);var c=vw.length,v=pdi(vw,f,0,c),o=vw[Math.min(v,c-1)],u=o[1];"year"===o[0]&&(l=h/u,a=ud(l/n,!0),u*=a);e=this.getSetting("useUTC")?0:6e4*new Date(+r[0]||+r[1]).getTimezoneOffset();s=[Math.round(ugt((r[0]-e)/u)*u+e),Math.round(fgt((r[1]-e)/u)*u+e)];uat(s,r);this._stepLvl=o;this._interval=u;this._niceExtent=s},parse:function(n){return+ga(n)}});t(["contain","normalize"],function(n){cut.prototype[n]=function(t){return ydi[n].call(this,this.parse(t))}});vw=[["hh:mm:ss",gs],["hh:mm:ss",5*gs],["hh:mm:ss",10*gs],["hh:mm:ss",15*gs],["hh:mm:ss",30*gs],["hh:mm\nMM-dd",nh],["hh:mm\nMM-dd",5*nh],["hh:mm\nMM-dd",10*nh],["hh:mm\nMM-dd",15*nh],["hh:mm\nMM-dd",30*nh],["hh:mm\nMM-dd",hl],["hh:mm\nMM-dd",2*hl],["hh:mm\nMM-dd",6*hl],["hh:mm\nMM-dd",12*hl],["MM-dd\nyyyy",tt],["MM-dd\nyyyy",2*tt],["MM-dd\nyyyy",3*tt],["MM-dd\nyyyy",4*tt],["MM-dd\nyyyy",5*tt],["MM-dd\nyyyy",6*tt],["week",7*tt],["MM-dd\nyyyy",10*tt],["week",14*tt],["week",21*tt],["month",31*tt],["week",42*tt],["month",62*tt],["week",42*tt],["quarter",95*tt],["month",124*tt],["month",155*tt],["half-year",190*tt],["month",248*tt],["month",310*tt],["year",380*tt]];cut.create=function(n){return new cut({useUTC:n.ecModel.get("useUTC")})};var yw=et.prototype,pw=au.prototype,wdi=da,bdi=ii,kdi=Math.floor,ddi=Math.ceil,ww=Math.pow,kr=Math.log,lut=et.extend({type:"log",base:10,$constructor:function(){et.apply(this,arguments);this._originalScale=new au},getTicks:function(){var n=this._originalScale,t=this._extent,r=n.getExtent();return i(pw.getTicks.call(this),function(i){var u=ii(ww(this.base,i));return u=i===t[0]&&n.__fixMin?ov(u,r[0]):u,u=i===t[1]&&n.__fixMax?ov(u,r[1]):u},this)},getLabel:pw.getLabel,scale:function(n){return n=yw.scale.call(this,n),ww(this.base,n)},setExtent:function(n,t){var i=this.base;n=kr(n)/kr(i);t=kr(t)/kr(i);pw.setExtent.call(this,n,t)},getExtent:function(){var r=this.base,n=yw.getExtent.call(this),t,i;return n[0]=ww(r,n[0]),n[1]=ww(r,n[1]),t=this._originalScale,i=t.getExtent(),t.__fixMin&&(n[0]=ov(n[0],i[0])),t.__fixMax&&(n[1]=ov(n[1],i[1])),n},unionExtent:function(n){this._originalScale.unionExtent(n);var t=this.base;n[0]=kr(n[0])/kr(t);n[1]=kr(n[1])/kr(t);yw.unionExtent.call(this,n)},unionExtentFromData:function(n,t){this.unionExtent(n.getApproximateExtent(t))},niceTicks:function(n){var i,r,t,u,f;if(n=n||10,i=this._extent,r=i[1]-i[0],!(1/0===r||0>=r)){for(t=ght(r),u=n/r*t,.5>=u&&(t*=10);!isNaN(t)&&Math.abs(t)<1&&Math.abs(t)>0;)t*=10;f=[ii(ddi(i[0]/t)*t),ii(kdi(i[1]/t)*t)];this._interval=t;this._niceExtent=f}},niceExtent:function(n){pw.niceExtent.call(this,n);var t=this._originalScale;t.__fixMin=n.fixMin;t.__fixMax=n.fixMax}});t(["contain","normalize"],function(n){lut.prototype[n]=function(t){return t=kr(t)/kr(this.base),yw[n].call(this,t)}});lut.create=function(){return new lut};var aut={getMin:function(n){var i=this.option,t=n||null==i.rangeStart?i.min:i.rangeStart;return this.axis&&null!=t&&"dataMin"!==t&&"function"!=typeof t&&!hh(t)&&(t=this.axis.scale.parse(t)),t},getMax:function(n){var i=this.option,t=n||null==i.rangeEnd?i.max:i.rangeEnd;return this.axis&&null!=t&&"dataMax"!==t&&"function"!=typeof t&&!hh(t)&&(t=this.axis.scale.parse(t)),t},getNeedCrossZero:function(){var n=this.option;return null!=n.rangeStart||null!=n.rangeEnd?!1:!n.scale},getCoordSysModel:pu,setRange:function(n,t){this.option.rangeStart=n;this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},gdi=ue({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var i=t.cx,r=t.cy,f=t.width/2,u=t.height/2;n.moveTo(i,r-u);n.lineTo(i+f,r+u);n.lineTo(i-f,r+u);n.closePath()}}),ngi=ue({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var i=t.cx,r=t.cy,u=t.width/2,f=t.height/2;n.moveTo(i,r-f);n.lineTo(i+u,r);n.lineTo(i,r+f);n.lineTo(i-u,r);n.closePath()}}),tgi=ue({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var r=t.x,o=t.y,c=t.width/5*3,l=Math.max(c,t.height),i=c/2,u=i*i/(l-i),f=o-l+i+u,e=Math.asin(u/i),s=Math.cos(e)*i,a=Math.sin(e),v=Math.cos(e),h=.6*i,y=.7*i;n.moveTo(r-s,f+u);n.arc(r,f,i,Math.PI-e,2*Math.PI+e);n.bezierCurveTo(r+s-a*h,f+u+v*h,r,o-y,r,o);n.bezierCurveTo(r,o-y,r-s+a*h,f+u+v*h,r-s,f+u);n.closePath()}}),igi=ue({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var u=t.height,e=t.width,i=t.x,r=t.y,f=e/3*2;n.moveTo(i,r);n.lineTo(i+f,r+u);n.lineTo(i,r+u/4*3);n.lineTo(i-f,r+u);n.lineTo(i,r);n.closePath()}}),rgi={line:vs,rect:ht,roundRect:ht,square:ht,circle:okt,diamond:ngi,pin:tgi,arrow:igi,triangle:gdi},ugi={line:function(n,t,i,r,u){u.x1=n;u.y1=t+r/2;u.x2=n+i;u.y2=t+r/2},rect:function(n,t,i,r,u){u.x=n;u.y=t;u.width=i;u.height=r},roundRect:function(n,t,i,r,u){u.x=n;u.y=t;u.width=i;u.height=r;u.r=Math.min(i,r)/4},square:function(n,t,i,r,u){var f=Math.min(i,r);u.x=n;u.y=t;u.width=f;u.height=f},circle:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.r=Math.min(i,r)/2},diamond:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.width=i;u.height=r},pin:function(n,t,i,r,u){u.x=n+i/2;u.y=t+r/2;u.width=i;u.height=r},arrow:function(n,t,i,r,u){u.x=n+i/2;u.y=t+r/2;u.width=i;u.height=r},triangle:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.width=i;u.height=r}},vut={};t(rgi,function(n,t){vut[t]=new n});var fgi=ue({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var n=this.style,t=this.shape;"pin"===t.symbolType&&"inside"===n.textPosition&&(n.textPosition=["50%","40%"],n.textAlign="center",n.textVerticalAlign="middle")},buildPath:function(n,t,i){var u=t.symbolType,r=vut[u];"none"!==t.symbolType&&(r||(u="rect",r=vut[u]),ugi[u](t.x,t.y,t.width,t.height,r.shape),r.buildPath(n,r.shape,i))}}),egi={isDimensionStacked:ff,enableDataStack:glt,getStackedDimension:nat},ogi=(Object.freeze||Object)({createList:ici,getLayoutRect:tf,dataStack:egi,createScale:rci,mixinAxisModelCommonMethods:uci,completeDimensions:klt,createDimensions:cw,createSymbol:ts}),sgi=1e-8;ag.prototype={constructor:ag,properties:null,getBoundingRect:function(){var f=this._rect,s;if(f)return f;for(var r=Number.MAX_VALUE,n=[r,r],t=[-r,-r],e=[],o=[],u=this.geometries,i=0;i<u.length;i++)"polygon"===u[i].type&&(s=u[i].exterior,vui(s,e,o),tu(n,n,e),iu(t,t,o));return 0===i&&(n[0]=n[1]=t[0]=t[1]=0),this._rect=new d(n[0],n[1],t[0]-n[0],t[1]-n[1])},contain:function(n){var o=this.getBoundingRect(),i=this.geometries,t,f,e,r,u;if(!o.contain(n[0],n[1]))return!1;n:for(t=0,f=i.length;f>t;t++)if("polygon"===i[t].type&&(e=i[t].exterior,r=i[t].interiors,aat(e,n[0],n[1]))){for(u=0;u<(r?r.length:0);u++)if(aat(r[u]))continue n;return!0}return!1},transformTo:function(n,t,i,r){var u=this.getBoundingRect(),l=u.width/u.height,e,f;i?r||(r=i/l):i=l*r;for(var a=new d(n,t,i,r),v=u.calculateTransform(a),h=this.geometries,o=0;o<h.length;o++)if("polygon"===h[o].type){for(var c=h[o].exterior,s=h[o].interiors,f=0;f<c.length;f++)ni(c[f],c[f],v);for(e=0;e<(s?s.length:0);e++)for(f=0;f<s[e].length;f++)ni(s[e][f],s[e][f],v)}u=this._rect;u.copy(a);this.center=[u.x+u.width/2,u.y+u.height/2]}};var egt=function(n){return fci(n),i(wt(n.features,function(n){return n.geometry&&n.properties&&n.geometry.coordinates.length>0}),function(n){var i=n.properties,r=n.geometry,u=r.coordinates,f=[],e;return"Polygon"===r.type&&f.push({type:"polygon",exterior:u[0],interiors:u.slice(1)}),"MultiPolygon"===r.type&&t(u,function(n){n[0]&&f.push({type:"polygon",exterior:n[0],interiors:n.slice(1)})}),e=new ag(i.name,f,i.cp),e.properties=i,e})},cl=tr(),ogt=[0,1],ll=function(n,t,i){this.dim=n;this.scale=t;this._extent=i||[0,0];this.inverse=!1;this.onBand=!1};ll.prototype={constructor:ll,contain:function(n){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return n>=i&&r>=n},containData:function(n){return this.contain(this.dataToCoord(n))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(n){return id(n||this.scale.getExtent(),this._extent)},setExtent:function(n,t){var i=this._extent;i[0]=n;i[1]=t},dataToCoord:function(n,t){var i=this._extent,r=this.scale;return n=r.normalize(n),this.onBand&&"ordinal"===r.type&&(i=i.slice(),nvt(i,r.count())),oe(n,ogt,i,t)},coordToData:function(n,t){var i=this._extent,r=this.scale,u;return this.onBand&&"ordinal"===r.type&&(i=i.slice(),nvt(i,r.count())),u=oe(n,i,ogt,t),this.scale.scale(u)},pointToData:function(){},getTicksCoords:function(n){n=n||{};var t=n.tickModel||this.getTickModel(),r=oci(this,t),f=r.ticks,u=i(f,function(n){return{coord:this.dataToCoord(n),tickValue:n}},this),e=t.get("alignWithLabel");return yci(this,u,r.tickCategoryInterval,e,n.clamp),u},getViewLabels:function(){return eci(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,i=this.scale.getExtent(),n=i[1]-i[0]+(this.onBand?1:0),r;return 0===n&&(n=1),r=Math.abs(t[1]-t[0]),Math.abs(r)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return aci(this)}};sgt=egt;yut={};t(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(n){yut[n]=wpi[n]});al=function(n){this._axes={};this._dimList=[];this.name=n||""};al.prototype={constructor:al,type:"cartesian",getAxis:function(n){return this._axes[n]},getAxes:function(){return i(this._dimList,pci,this)},getAxesByScale:function(n){return n=n.toLowerCase(),wt(this.getAxes(),function(t){return t.scale.type===n})},addAxis:function(n){var t=n.dim;this._axes[t]=n;this._dimList.push(t)},dataToCoord:function(n){return this._dataCoordConvert(n,"dataToCoord")},coordToData:function(n){return this._dataCoordConvert(n,"coordToData")},_dataCoordConvert:function(n,t){for(var i,e,u=this._dimList,f=n instanceof Array?[]:{},r=0;r<u.length;r++)i=u[r],e=this._axes[i],f[i]=e[t](n[i]);return f}};sc.prototype={constructor:sc,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(n){var t=this.getAxis("x"),i=this.getAxis("y");return t.contain(t.toLocalCoord(n[0]))&&i.contain(i.toLocalCoord(n[1]))},containData:function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},dataToPoint:function(n,t,i){var r=this.getAxis("x"),u=this.getAxis("y");return i=i||[],i[0]=r.toGlobalCoord(r.dataToCoord(n[0])),i[1]=u.toGlobalCoord(u.dataToCoord(n[1])),i},clampData:function(n,t){var u=this.getAxis("x").scale,f=this.getAxis("y").scale,i=u.getExtent(),r=f.getExtent(),e=u.parse(n[0]),o=f.parse(n[1]);return t=t||[],t[0]=Math.min(Math.max(Math.min(i[0],i[1]),e),Math.max(i[0],i[1])),t[1]=Math.min(Math.max(Math.min(r[0],r[1]),o),Math.max(r[0],r[1])),t},pointToData:function(n,t){var i=this.getAxis("x"),r=this.getAxis("y");return t=t||[],t[0]=i.coordToData(i.toLocalCoord(n[0])),t[1]=r.coordToData(r.toLocalCoord(n[1])),t},getOtherAxis:function(n){return this.getAxis("x"===n.dim?"y":"x")}};vt(sc,al);vl=function(n,t,i,r,u){ll.call(this,n,t,i);this.type=r||"value";this.position=u||"bottom"};vl.prototype={constructor:vl,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var n=this.position;return"top"===n||"bottom"===n},getGlobalExtent:function(n){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),n&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(n,t){return this.coordToData(this.toLocalCoord(n["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null};vt(vl,ll);put={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};vf={};vf.categoryAxis=s({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},put);vf.valueAxis=s({boundaryGap:[0,0],splitNumber:5},put);vf.timeAxis=l({scale:!0,min:"dataMin",max:"dataMax"},vf.valueAxis);vf.logAxis=l({scale:!0,logBase:10},vf.valueAxis);var hgi=["value","category","time","log"],hgt=function(n,i,r,u){t(hgi,function(t){i.extend({type:n+"Axis."+t,mergeDefaultAndTheme:function(i,u){var f=this.layoutMode,e=f?tv(i):{},o=u.getTheme();s(i,o.get(t+"Axis"));s(i,this.getDefaultOption());i.type=r(n,i);f&&ko(i,e,f)},optionUpdated:function(){var n=this.option;"category"===n.type&&(this.__ordinalMeta=ec.createByAxisModel(this))},getCategories:function(n){var t=this.option;if("category"===t.type)return n?t.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:fb([{},vf[t+"Axis"],u],!0)})});nt.registerSubTypeDefaulter(n+"Axis",p(r,n))},th=nt.extend({type:"cartesian2dAxis",axis:null,init:function(){th.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){th.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){th.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});s(th.prototype,aut);wut={offset:0};hgt("x",th,tvt,wut);hgt("y",th,tvt,wut);nt.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});at=is.prototype;at.type="grid";at.axisPointerEnabled=!0;at.getRect=function(){return this._rect};at.update=function(n,i){var r=this._axesMap;this._updateScale(n,this.model);t(r.x,function(n){cg(n.scale,n.model)});t(r.y,function(n){cg(n.scale,n.model)});t(r.x,function(n){ivt(r,"y",n)});t(r.y,function(n){ivt(r,"x",n)});this.resize(this.model,i)};at.resize=function(n,i,r){function e(){t(f,function(n){var t=n.isHorizontal(),i=t?[0,u.width]:[0,u.height],r=n.inverse?1:0;n.setExtent(i[r],i[1-r]);wci(n,t?u.x:u.y)})}var u=tf(n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),f;this._rect=u;f=this._axesList;e();!r&&n.get("containLabel")&&(t(f,function(n){var t,r,i;n.model.get("axisLabel.inside")||(t=ghi(n),t&&(r=n.isHorizontal()?"height":"width",i=n.model.get("axisLabel.margin"),u[r]-=t[r]+i,"top"===n.position?u.y+=t.height+i:"left"===n.position&&(u.x+=t.width+i)))}),e())};at.getAxis=function(n,t){var i=this._axesMap[n],r;if(null!=i){if(null==t)for(r in i)if(i.hasOwnProperty(r))return i[r];return i[t]}};at.getAxes=function(){return this._axesList.slice()};at.getCartesian=function(n,t){var u,i,r;if(null!=n&&null!=t)return u="x"+n+"y"+t,this._coordsMap[u];for(f(n)&&(t=n.yAxisIndex,n=n.xAxisIndex),i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===n||r[i].getAxis("y").index===t)return r[i]};at.getCartesians=function(){return this._coordsList.slice()};at.convertToPixel=function(n,t,i){var r=this._findConvertTarget(n,t);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null};at.convertFromPixel=function(n,t,i){var r=this._findConvertTarget(n,t);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null};at._findConvertTarget=function(n,t){var i,e,r=t.seriesModel,u=t.xAxisModel||r&&r.getReferringComponents("xAxis")[0],f=t.yAxisModel||r&&r.getReferringComponents("yAxis")[0],o=t.gridModel,h=this._coordsList,s;return r?(i=r.coordinateSystem,y(h,i)<0&&(i=null)):u&&f?i=this.getCartesian(u.componentIndex,f.componentIndex):u?e=this.getAxis("x",u.componentIndex):f?e=this.getAxis("y",f.componentIndex):o&&(s=o.coordinateSystem,s===this&&(i=this._coordsList[0])),{cartesian:i,axis:e}};at.containPoint=function(n){var t=this._coordsList[0];if(t)return t.containPoint(n)};at._initCartesian=function(n,i){function e(t){return function(e,o){var s,h,c;vg(e,n,i)&&(s=e.get("position"),"x"===t?"top"!==s&&"bottom"!==s&&(s="bottom",u[s]&&(s="top"===s?"bottom":"top")):"left"!==s&&"right"!==s&&(s="left",u[s]&&(s="left"===s?"right":"left")),u[s]=!0,h=new vl(t,cat(e),[0,0],e.get("type"),s),c="category"===h.type,h.onBand=c&&e.get("boundaryGap"),h.inverse=e.get("inverse"),e.axis=h,h.model=e,h.grid=this,h.index=o,this._axesList.push(h),r[t][o]=h,f[t]++)}}var u={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},f={x:0,y:0};return i.eachComponent("xAxis",e("x"),this),i.eachComponent("yAxis",e("y"),this),f.x&&f.y?(this._axesMap=r,void t(r.x,function(i,u){t(r.y,function(t,r){var e="x"+u+"y"+r,f=new sc(e);f.grid=this;f.model=n;this._coordsMap[e]=f;this._coordsList.push(f);f.addAxis(i);f.addAxis(t)},this)},this)):(this._axesMap={},void(this._axesList=[]))};at._updateScale=function(n,i){function r(n,i){t(n.mapDimension(i.dim,!0),function(t){i.scale.unionExtentFromData(n,nat(n,t))})}t(this._axesList,function(n){n.scale.setExtent(1/0,-1/0)});n.eachSeries(function(t){if(fvt(t)){var f=uvt(t,n),e=f[0],o=f[1];if(!vg(e,i,n)||!vg(o,i,n))return;var s=this.getCartesian(e.componentIndex,o.componentIndex),u=t.getData(),h=s.getAxis("x"),c=s.getAxis("y");"list"===u.type&&(r(u,h,t),r(u,c,t))}},this)};at.getTooltipAxes=function(n){var i=[],r=[];return t(this.getCartesians(),function(t){var u=null!=n&&"auto"!==n?t.getAxis(n):t.getBaseAxis(),f=t.getOtherAxis(u);y(i,u)<0&&i.push(u);y(r,f)<0&&r.push(f)}),{baseAxes:i,otherAxes:r}};cgt=["xAxis","yAxis"];is.create=function(n,t){var i=[];return n.eachComponent("grid",function(r,u){var f=new is(r,n,t);f.name="grid_"+u;f.resize(r,t,!0);r.coordinateSystem=f;i.push(f)}),n.eachSeries(function(t){if(fvt(t)){var i=uvt(t,n),r=i[0],u=i[1],f=r.getCoordSysModel(),e=f.coordinateSystem;t.coordinateSystem=e.getCartesian(r.componentIndex,u.componentIndex)}}),i};is.dimensions=is.prototype.dimensions=sc.prototype.dimensions;eu.register("cartesian2d",is);lgt=ks.extend({type:"series.__base_bar__",getInitialData:function(){return eg(this.getSource(),this)},getMarkerPosition:function(n){var t=this.coordinateSystem;if(t){var i=t.dataToPoint(t.clampData(n)),r=this.getData(),u=r.getLayout("offset"),f=r.getLayout("size"),e=t.getBaseAxis().isHorizontal()?0:1;return i[e]+=u+f/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});lgt.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):!1},getProgressiveThreshold:function(){var n=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>n&&(n=t),n}});var cgi=py([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),lgi={getBarItemStyle:function(n){var i=cgi(this,n),t;return this.getBorderLineDash&&(t=this.getBorderLineDash(),t&&(i.lineDash=t)),i}},agi=["itemStyle","barBorderWidth"];c(g.prototype,lgi);alt({type:"bar",render:function(n,t,i){this._updateDrawMode(n);var r=n.get("coordinateSystem");return("cartesian2d"===r||"polar"===r)&&(this._isLargeDraw?this._renderLarge(n,t,i):this._renderNormal(n,t,i)),this.group},incrementalPrepareRender:function(n){this._clear();this._updateDrawMode(n)},incrementalRender:function(n,t){this._incrementalRenderLarge(n,t)},_updateDrawMode:function(n){var t=n.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(n){var r,f=this.group,t=n.getData(),e=this._data,i=n.coordinateSystem,o=i.getBaseAxis(),u;"cartesian2d"===i.type?r=o.isHorizontal():"polar"===i.type&&(r="angle"===o.dim);u=n.isAnimationEnabled()?n:null;t.diff(e).add(function(e){if(t.hasValue(e)){var o=t.getItemModel(e),h=vgt[i.type](t,e,o),s=agt[i.type](t,e,o,h,r,u);t.setItemGraphicEl(e,s);f.add(s);cvt(s,t,e,o,h,n,r,"polar"===i.type)}}).update(function(o,s){var h=e.getItemGraphicEl(s),c,l;if(!t.hasValue(o))return void f.remove(h);c=t.getItemModel(o);l=vgt[i.type](t,o,c);h?ot(h,{shape:l},u,o):h=agt[i.type](t,o,c,l,r,u,!0);t.setItemGraphicEl(o,h);f.add(h);cvt(h,t,o,c,l,n,r,"polar"===i.type)}).remove(function(n){var t=e.getItemGraphicEl(n);"cartesian2d"===i.type?t&&svt(n,u,t):t&&hvt(n,u,t)}).execute();this._data=t},_renderLarge:function(n){this._clear();lvt(n,this.group)},_incrementalRenderLarge:function(n,t){lvt(t,this.group,!0)},dispose:pu,remove:function(n){this._clear(n)},_clear:function(n){var i=this.group,t=this._data;n&&n.get("animation")&&t&&!this._isLargeDraw?t.eachItemGraphicEl(function(t){"sector"===t.type?hvt(t.dataIndex,n,t):svt(t.dataIndex,n,t)}):i.removeAll();this._data=null}});var agt={cartesian2d:function(n,t,i,r,u,f,e){var o=new ht({shape:c({},r)});if(f){var l=o.shape,s=u?"height":"width",h={};l[s]=0;h[s]=r[s];sp[e?"updateProps":"initProps"](o,{shape:h},f,t)}return o},polar:function(n,t,i,r,u,f,e){var c=r.startAngle<r.endAngle,o=new ul({shape:l({clockwise:c},r)});if(f){var a=o.shape,s=u?"r":"endAngle",h={};a[s]=u?0:r.startAngle;h[s]=r[s];sp[e?"updateProps":"initProps"](o,{shape:h},f,t)}return o}},vgt={cartesian2d:function(n,t,i){var r=n.getItemLayout(t),u=kci(i,r),f=r.width>0?1:-1,e=r.height>0?1:-1;return{x:r.x+f*u/2,y:r.y+e*u/2,width:r.width-f*u,height:r.height-e*u}},polar:function(n,t){var i=n.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}},vgi=b.extend({type:"largeBar",shape:{points:[]},buildPath:function(n,t){for(var r=t.points,u=this.__startPoint,f=this.__valueIdx,i=0;i<r.length;i+=2)u[this.__valueIdx]=r[i+f],n.moveTo(u[0],u[1]),n.lineTo(r[i],r[i+1])}}),yf=Math.PI,yl=function(n,t){this.opt=t;this.axisModel=n;l(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new o;var i=new o({position:t.position.slice(),rotation:t.rotation});i.updateTransform();this._transform=i.transform;this._dumbGroup=i};yl.prototype={constructor:yl,hasBuilder:function(n){return!!ygt[n]},add:function(n){ygt[n].call(this)},getGroup:function(){return this.group}};var ygt={axisLine:function(){var e=this.opt,o=this.axisModel,h,l,a;if(o.get("axisLine.show")){var v=this.axisModel.axis.getExtent(),s=this._transform,n=[v[0],0],i=[v[1],0];s&&(ni(n,n,s),ni(i,i,s));h=c({lineCap:"round"},o.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new vs(vh({anid:"line",shape:{x1:n[0],y1:n[1],x2:i[0],y2:i[1]},style:h,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})));var r=o.get("axisLine.symbol"),u=o.get("axisLine.symbolSize"),f=o.get("axisLine.symbolOffset")||0;("number"==typeof f&&(f=[f,f]),null!=r)&&("string"==typeof r&&(r=[r,r]),("string"==typeof u||"number"==typeof u)&&(u=[u,u]),l=u[0],a=u[1],t([{rotate:e.rotation+Math.PI/2,offset:f[0],r:0},{rotate:e.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((n[0]-i[0])*(n[0]-i[0])+(n[1]-i[1])*(n[1]-i[1]))}],function(t,i){if("none"!==r[i]&&null!=r[i]){var u=ts(r[i],-l/2,-a/2,l,a,h.stroke,!0),f=t.r+t.offset,o=[n[0]+f*Math.cos(e.rotation),n[1]-f*Math.sin(e.rotation)];u.attr({rotation:t.rotate,position:o,silent:!0});this.group.add(u)}},this))}},axisTickLabel:function(){var n=this.axisModel,t=this.opt,i=tli(this,n,t),r=ili(this,n,t);nli(n,r,i)},axisName:function(){var i=this.opt,n=this.axisModel,r=yu(i.axisName,n.get("name")),f,t;if(r){var e,s=n.get("nameLocation"),y=i.nameDirection,h=n.getModel("nameTextStyle"),l=n.get("nameGap")||0,u=this.axisModel.axis.getExtent(),p=u[0]>u[1]?-1:1,tt=["start"===s?u[0]-p*l:"end"===s?u[1]+p*l:(u[0]+u[1])/2,pvt(s)?i.labelOffset+y*l:0],o=n.get("nameRotate");null!=o&&(o=o*yf/180);pvt(s)?e=pgt(i.rotation,null!=o?o:i.rotation,y):(e=gci(i,s,o||0,u),f=i.axisNameAvailableWidth,null!=f&&(f=Math.abs(f/Math.sin(e.rotation)),!isFinite(f)&&(f=null)));var w=h.getFont(),a=n.get("nameTruncate",!0)||{},b=a.ellipsis,k=yu(i.nameTruncateMaxWidth,a.maxWidth,f),d=null!=b&&null!=k?ykt(r,k,w,b,{minChar:2,placeholder:a.placeholder}):r,v=n.get("tooltip",!0),g=n.mainType,nt={componentType:g,name:r,$vars:["name"]};nt[g+"Index"]=n.componentIndex;t=new pi({anid:"name",__fullText:r,__truncatedText:d,position:tt,rotation:e.rotation,silent:vvt(n),z2:1,tooltip:v&&v.show?c({content:r,formatter:function(){return r},formatterParams:nt},v):null});fu(t.style,h,{text:d,textFont:w,textFill:h.getTextColor()||n.get("axisLine.lineStyle.color"),textAlign:e.textAlign,textVerticalAlign:e.textVerticalAlign});n.get("triggerEvent")&&(t.eventData=avt(n),t.eventData.targetType="axisName",t.eventData.name=r);this._dumbGroup.add(t);t.updateTransform();this.group.add(t);t.decomposeTransform()}}},pgt=yl.innerTextLayout=function(n,t,i){var u,f,r=rd(t-n);return ph(r)?(f=i>0?"top":"bottom",u="center"):ph(r-yf)?(f=i>0?"bottom":"top",u="center"):(f="middle",u=r>0&&yf>r?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:u,textVerticalAlign:f}},ih=t,but=p,pf=su({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(n,t,i,r){this.axisPointerClass&&sli(n);pf.superApply(this,"render",arguments);wvt(this,n,t,i,r,!0)},updateAxisPointer:function(n,t,i,r){wvt(this,n,t,i,r,!1)},remove:function(n,t){var i=this._axisPointer;i&&i.remove(t);pf.superApply(this,"remove",arguments)},dispose:function(n,t){bvt(this,t);pf.superApply(this,"dispose",arguments)}}),wgt=[];pf.registerAxisPointerClass=function(n,t){wgt[n]=t};pf.getAxisPointerClass=function(n){return n&&wgt[n]};var ygi=["axisLine","axisTickLabel","axisName"],pgi=["splitArea","splitLine"],kut=pf.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(n,i,r,u){var e;if(this.group.removeAll(),e=this._axisGroup,this._axisGroup=new o,this.group.add(this._axisGroup),n.get("show")){var s=n.getCoordSysModel(),h=bg(s,n),f=new yl(n,h);t(ygi,f.add,f);this._axisGroup.add(f.getGroup());t(pgi,function(t){n.get(t+".show")&&this["_"+t](n,s)},this);yht(e,this._axisGroup,n);kut.superCall(this,"render",n,i,r,u)}},remove:function(){this._splitAreaColors=null},_splitLine:function(n,t){var h=n.axis,s,y,p;if(!h.scale.isBlank()){var a=n.getModel("splitLine"),v=a.getModel("lineStyle"),i=v.get("color");i=u(i)?i:[i];for(var r=t.coordinateSystem.getRect(),w=h.isHorizontal(),b=0,c=h.getTicksCoords({tickModel:a}),f=[],e=[],k=v.getLineStyle(),o=0;o<c.length;o++)s=h.toGlobalCoord(c[o].coord),w?(f[0]=s,f[1]=r.y,e[0]=s,e[1]=r.y+r.height):(f[0]=r.x,f[1]=s,e[0]=r.x+r.width,e[1]=s),y=b++%i.length,p=c[o].tickValue,this._axisGroup.add(new vs(vh({anid:null!=p?"line_"+c[o].tickValue:null,shape:{x1:f[0],y1:f[1],x2:e[0],y2:e[1]},style:l({stroke:i[y]},k),silent:!0})))}},_splitArea:function(n,t){var e=n.axis,k,s,rt,i,h,c,p,w,d,v;if(!e.scale.isBlank()){var g=n.getModel("splitArea"),nt=g.getModel("areaStyle"),f=nt.get("color"),y=t.coordinateSystem.getRect(),r=e.getTicksCoords({tickModel:g,clamp:!0});if(r.length){var b=f.length,tt=this._splitAreaColors,it=a(),o=0;if(tt)for(i=0;i<r.length;i++)if(k=tt.get(r[i].tickValue),null!=k){o=(k+(b-1)*i)%b;break}for(s=e.toGlobalCoord(r[0].coord),rt=nt.getAreaStyle(),f=u(f)?f:[f],i=1;i<r.length;i++)d=e.toGlobalCoord(r[i].coord),e.isHorizontal()?(h=s,c=y.y,p=d-h,w=y.height,s=h+p):(h=y.x,c=s,p=y.width,w=d-c,s=c+w),v=r[i-1].tickValue,null!=v&&it.set(v,o),this._axisGroup.add(new ht({anid:null!=v?"area_"+v:null,shape:{x:h,y:c,width:p,height:w},style:l({fill:f[o]},rt),silent:!0})),o=(o+1)%b;this._splitAreaColors=it}}}});kut.extend({type:"xAxis"});kut.extend({type:"yAxis"});su({type:"grid",render:function(n){this.group.removeAll();n.get("show")&&this.group.add(new ht({shape:n.coordinateSystem.getRect(),style:l({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))}});rf(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})});tc(p(whi,"bar"));tc(vdi);ic({seriesType:"bar",reset:function(n){n.getData().setVisual("legendSymbol","roundRect")}});ks.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(){return eg(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});ki=rs.prototype;bgt=rs.getSymbolSize=function(n,t){var i=n.getItemVisual(t,"symbolSize");return i instanceof Array?i.slice():[+i,+i]};ki._createSymbol=function(n,t,i,r,u){this.removeAll();var e=t.getItemVisual(i,"color"),f=ts(n,-1,-1,2,2,e,u);f.attr({z2:100,culling:!0,scale:kg(r)});f.drift=cli;this._symbolType=n;this.add(f)};ki.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(n)};ki.getSymbolPath=function(){return this.childAt(0)};ki.getScale=function(){return this.childAt(0).scale};ki.highlight=function(){this.childAt(0).trigger("emphasis")};ki.downplay=function(){this.childAt(0).trigger("normal")};ki.setZ=function(n,t){var i=this.childAt(0);i.zlevel=n;i.z=t};ki.setDraggable=function(n){var t=this.childAt(0);t.draggable=n;t.cursor=n?"move":"pointer"};ki.updateData=function(n,t,i){var s,r;this.silent=!1;var e=n.getItemVisual(t,"symbol")||"circle",u=n.hostModel,f=bgt(n,t),o=e!==this._symbolType;if(o?(s=n.getItemVisual(t,"symbolKeepAspect"),this._createSymbol(e,n,t,f,s)):(r=this.childAt(0),r.silent=!1,ot(r,{scale:kg(f)},u,t)),this._updateCommon(n,t,f,i),o){var r=this.childAt(0),h=i&&i.fadeIn,c={scale:r.scale.slice()};h&&(c.style={opacity:r.style.opacity});r.scale=[0,0];h&&(r.style.opacity=0);ee(r,c,u,t)}this._seriesModel=u};var wgi=["itemStyle"],bgi=["emphasis","itemStyle"],kgi=["label"],dgi=["emphasis","label"];ki._updateCommon=function(n,t,i,r){function ft(t){return ut?n.getName(t):evt(n,t)}var u=this.childAt(0),b=n.hostModel,d=n.getItemVisual(t,"color"),f,a,v,y,h,ut,e,p,w;"image"!==u.type&&u.useStyle({strokeNoScale:!0});var g=r&&r.itemStyle,o=r&&r.hoverItemStyle,nt=r&&r.symbolRotate,s=r&&r.symbolOffset,tt=r&&r.labelModel,it=r&&r.hoverLabelModel,rt=r&&r.hoverAnimation,l=r&&r.cursorStyle;if(!r||n.hasItemOption?(f=r&&r.itemModel?r.itemModel:n.getItemModel(t),g=f.getModel(wgi).getItemStyle(["color"]),o=f.getModel(bgi).getItemStyle(),nt=f.getShallow("symbolRotate"),s=f.getShallow("symbolOffset"),tt=f.getModel(kgi),it=f.getModel(dgi),rt=f.getShallow("hoverAnimation"),l=f.getShallow("cursor")):o=c({},o),a=u.style,u.attr("rotation",(nt||0)*Math.PI/180||0),s&&u.attr("position",[k(s[0],i[0]),k(s[1],i[1])]),l&&u.attr("cursor",l),u.setColor(d,r&&r.symbolInnerColor),u.setStyle(g),v=n.getItemVisual(t,"opacity"),null!=v&&(a.opacity=v),y=n.getItemVisual(t,"liftZ"),h=u.__z2Origin,null!=y?null==h&&(u.__z2Origin=u.z2,u.z2+=y):null!=h&&(u.z2=h,u.__z2Origin=null),ut=r&&r.useNameLabel,yh(a,o,tt,it,{labelFetcher:b,labelDataIndex:t,defaultText:ft,isRectText:!0,autoColor:d}),u.off("mouseover").off("mouseout").off("emphasis").off("normal"),u.hoverStyle=o,nf(u),e=kg(i),rt&&b.isAnimationEnabled()){p=function(){if(!this.incremental){var n=e[1]/e[0];this.animateTo({scale:[Math.max(1.1*e[0],e[0]+3),Math.max(1.1*e[1],e[1]+3*n)]},400,"elasticOut")}};w=function(){this.incremental||this.animateTo({scale:e},400,"elasticOut")};u.on("mouseover",p).on("mouseout",w).on("emphasis",p).on("normal",w)}};ki.fadeOut=function(n,t){var i=this.childAt(0);this.silent=i.silent=!0;!(t&&t.keepLabel)&&(i.style.text=null);ot(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,n)};vt(rs,o);io=dg.prototype;io.updateData=function(n,t){t=kvt(t);var i=this.group,e=n.hostModel,r=this._data,u=this._symbolCtor,f=dvt(n);r||i.removeAll();n.diff(r).add(function(r){var o=n.getItemLayout(r),e;gg(n,o,r,t)&&(e=new u(n,r,f),e.attr("position",o),n.setItemGraphicEl(r,e),i.add(e))}).update(function(o,s){var h=r.getItemGraphicEl(s),c=n.getItemLayout(o);return gg(n,c,o,t)?(h?(h.updateData(n,o,f),ot(h,{position:c},e)):(h=new u(n,o),h.attr("position",c)),i.add(h),void n.setItemGraphicEl(o,h)):void i.remove(h)}).remove(function(n){var t=r.getItemGraphicEl(n);t&&t.fadeOut(function(){i.remove(t)})}).execute();this._data=n};io.isPersistent=function(){return!0};io.updateLayout=function(){var n=this._data;n&&n.eachItemGraphicEl(function(t,i){var r=n.getItemLayout(i);t.attr("position",r)})};io.incrementalPrepareUpdate=function(n){this._seriesScope=dvt(n);this._data=null;this.group.removeAll()};io.incrementalUpdate=function(n,t,i){function e(n){n.isGroup||(n.incremental=n.useHoverLayer=!0)}var r,f,u;for(i=kvt(i),r=n.start;r<n.end;r++)f=t.getItemLayout(r),gg(t,f,r,i)&&(u=new this._symbolCtor(t,r,this._seriesScope),u.traverse(e),u.attr("position",f),this.group.add(u),t.setItemGraphicEl(r,u))};io.remove=function(n){var t=this.group,i=this._data;i&&n?i.eachItemGraphicEl(function(n){n.fadeOut(function(){t.remove(n)})}):t.removeAll()};var ggi=function(n,t,i,r,u,f,e,o){for(var c,g,v,nt,tt,s,it=ali(n,t),y=[],p=[],w=[],b=[],rt=[],l=[],a=[],k=nn(u,t,e),d=nn(f,n,o),h=0;h<it.length;h++){c=it[h];g=!0;switch(c.cmd){case"=":v=n.getItemLayout(c.idx);nt=t.getItemLayout(c.idx1);(isNaN(v[0])||isNaN(v[1]))&&(v=nt.slice());y.push(v);p.push(nt);w.push(i[c.idx]);b.push(r[c.idx1]);a.push(t.getRawIndex(c.idx1));break;case"+":s=c.idx;y.push(u.dataToPoint([t.get(k.dataDimsForPoint[0],s),t.get(k.dataDimsForPoint[1],s)]));p.push(t.getItemLayout(s).slice());w.push(tn(k,u,t,s));b.push(r[s]);a.push(t.getRawIndex(s));break;case"-":s=c.idx;tt=n.getRawIndex(s);tt!==s?(y.push(n.getItemLayout(s)),p.push(f.dataToPoint([n.get(d.dataDimsForPoint[0],s),n.get(d.dataDimsForPoint[1],s)])),w.push(i[s]),b.push(tn(d,f,n,s)),a.push(tt)):g=!1}g&&(rt.push(c),l.push(l.length))}l.sort(function(n,t){return a[n]-a[t]});for(var ut=[],ft=[],et=[],ot=[],st=[],h=0;h<l.length;h++)s=l[h],ut[h]=y[s],ft[h]=p[s],et[h]=w[s],ot[h]=b[s],st[h]=rt[s];return{current:ut,next:ft,stackedOnCurrent:et,stackedOnNext:ot,status:st}},kgt=tu,dgt=iu,ggt=ret,bw=iet,dut=[],di=[],gi=[],nni=b.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:srt(b.prototype.brush),buildPath:function(n,t){var u=t.points,r=0,i=u.length,f=un(u,t.smoothConstraint);if(t.connectNulls){for(;i>0&&hu(u[i-1]);i--);for(;i>r&&hu(u[r]);r++);}for(;i>r;)r+=rn(n,u,r,i,i,1,f.min,f.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),tni=b.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:srt(b.prototype.brush),buildPath:function(n,t){var u=t.points,e=t.stackedOnPoints,r=0,i=u.length,o=t.smoothMonotone,s=un(u,t.smoothConstraint),h=un(e,t.smoothConstraint),f;if(t.connectNulls){for(;i>0&&hu(u[i-1]);i--);for(;i>r&&hu(u[r]);r++);}for(;i>r;)f=rn(n,u,r,i,i,1,s.min,s.max,t.smooth,o,t.connectNulls),rn(n,e,r+f-1,f,i,-1,h.min,h.max,t.stackedOnSmooth,o,t.connectNulls),r+=f+1,n.closePath()}});li.extend({type:"line",init:function(){var t=new o,n=new dg;this.group.add(n.group);this._symbolDraw=n;this._lineGroup=t},render:function(n,t,i){var r=n.coordinateSystem,it=this.group,u=n.getData(),ft=n.getModel("lineStyle"),p=n.getModel("areaStyle"),f=u.mapArray(u.getItemLayout),rt="polar"===r.type,et=this._coordSys,w=this._symbolDraw,h=this._polyline,e=this._polygon,c=this._lineGroup,a=n.get("animation"),b=!p.isEmpty(),k=p.get("origin"),ot=nn(r,u,k),o=pli(r,u,ot),v=n.get("showSymbol"),ut=v&&!rt&&dli(n,u,r),d=this._data,s,g,y,nt,tt;d&&d.eachItemGraphicEl(function(n,t){n.__temp&&(it.remove(n),d.setItemGraphicEl(t,null))});v||w.remove();it.add(c);s=!rt&&n.get("step");h&&et.type===r.type&&s===this._step?(b&&!e?e=this._newPolygon(f,o,r,a):e&&!b&&(c.remove(e),e=this._polygon=null),c.setClipPath(sv(r,!1,!1,n)),v&&w.updateData(u,{isIgnore:ut,clipShape:sv(r,!1,!0,n)}),u.eachItemGraphicEl(function(n){n.stopAnimation(!0)}),gvt(this._stackedOnPoints,o)&&gvt(this._points,f)||(a?this._updateAnimation(u,o,r,i,s,k):(s&&(f=ef(f,r,s),o=ef(o,r,s)),h.setShape({points:f}),e&&e.setShape({points:f,stackedOnPoints:o})))):(v&&w.updateData(u,{isIgnore:ut,clipShape:sv(r,!1,!0,n)}),s&&(f=ef(f,r,s),o=ef(o,r,s)),h=this._newPolyline(f,r,a),b&&(e=this._newPolygon(f,o,r,a)),c.setClipPath(sv(r,!0,!1,n)));g=kli(u,r)||u.getVisual("color");h.useStyle(l(ft.getLineStyle(),{fill:"none",stroke:g,lineJoin:"bevel"}));y=n.get("smooth");(y=nyt(n.get("smooth")),h.setShape({smooth:y,smoothMonotone:n.get("smoothMonotone"),connectNulls:n.get("connectNulls")}),e)&&(nt=u.getCalculationInfo("stackedOnSeries"),tt=0,e.useStyle(l(p.getAreaStyle(),{fill:g,opacity:.7,lineJoin:"bevel"})),nt&&(tt=nyt(nt.get("smooth"))),e.setShape({smooth:y,stackedOnSmooth:tt,smoothMonotone:n.get("smoothMonotone"),connectNulls:n.get("connectNulls")}));this._data=u;this._coordSys=r;this._stackedOnPoints=o;this._points=f;this._step=s;this._valueOrigin=k},dispose:function(){},highlight:function(n,t,i,r){var e=n.getData(),f=va(e,r),u,o;if(!(f instanceof Array)&&null!=f&&f>=0){if(u=e.getItemGraphicEl(f),!u){if(o=e.getItemLayout(f),!o)return;u=new rs(e,f);u.position=o;u.setZ(n.get("zlevel"),n.get("z"));u.ignore=isNaN(o[0])||isNaN(o[1]);u.__temp=!0;e.setItemGraphicEl(f,u);u.stopSymbolAnimation(!0);this.group.add(u)}u.highlight()}else li.prototype.highlight.call(this,n,t,i,r)},downplay:function(n,t,i,r){var e=n.getData(),f=va(e,r),u;null!=f&&f>=0?(u=e.getItemGraphicEl(f),u&&(u.__temp?(e.setItemGraphicEl(f,null),this.group.remove(u)):u.downplay())):li.prototype.downplay.call(this,n,t,i,r)},_newPolyline:function(n){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new nni({shape:{points:n},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(n,t){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new tni({shape:{points:n,stackedOnPoints:t},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_updateAnimation:function(n,t,i,r,u,f){var o=this._polyline,c=this._polygon,p=n.hostModel,e=ggi(this._data,n,this._stackedOnPoints,t,this._coordSys,i,this._valueOrigin,f),l=e.current,w=e.stackedOnCurrent,a=e.next,b=e.stackedOnNext,k,y;u&&(l=ef(e.current,i,u),w=ef(e.stackedOnCurrent,i,u),a=ef(e.next,i,u),b=ef(e.stackedOnNext,i,u));o.shape.__points=e.current;o.shape.points=l;ot(o,{shape:{points:a}},p);c&&(c.setShape({points:l,stackedOnPoints:w}),ot(c,{shape:{points:a,stackedOnPoints:b}},p));for(var h=[],v=e.status,s=0;s<v.length;s++)k=v[s].cmd,"="===k&&(y=n.getItemGraphicEl(v[s].idx1),y&&h.push({el:y,ptIdx:s}));o.animators&&o.animators.length&&o.animators[0].during(function(){for(var t,n=0;n<h.length;n++)t=h[n].el,t.attr("position",o.shape.__points[h[n].ptIdx])})},remove:function(){var t=this.group,n=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);n&&n.eachItemGraphicEl(function(i,r){i.__temp&&(t.remove(i),n.setItemGraphicEl(r,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var ini=function(n,t,i){return{seriesType:n,performRawSeries:!0,reset:function(n,r){function s(t,i){var f,e;if("function"==typeof u&&(f=n.getRawValue(i),e=n.getDataParams(i),t.setItemVisual(i,"symbolSize",u(f,e))),t.hasItemOption){var r=t.getItemModel(i),o=r.getShallow("symbol",!0),s=r.getShallow("symbolSize",!0),h=r.getShallow("symbolKeepAspect",!0);null!=o&&t.setItemVisual(i,"symbol",o);null!=s&&t.setItemVisual(i,"symbolSize",s);null!=h&&t.setItemVisual(i,"symbolKeepAspect",h)}}var f=n.getData(),e=n.get("symbol")||t,u=n.get("symbolSize"),h=n.get("symbolKeepAspect"),o;if(f.setVisual({legendSymbol:i||e,symbol:e,symbolSize:u,symbolKeepAspect:h}),!r.isSeriesFiltered(n))return o="function"==typeof u,{dataEach:f.hasItemOption||o?s:null}}}},rni=function(n){return{seriesType:n,plan:grt(),reset:function(n){function s(n,i){for(var r,s,v,y=n.end-n.start,h=f&&new Float32Array(y*e),o=n.start,l=0,c=[],a=[];o<n.end;o++)1===e?(s=i.get(t[0],o),r=!isNaN(s)&&u.dataToPoint(s,null,a)):(s=c[0]=i.get(t[0],o),v=c[1]=i.get(t[1],o),r=!isNaN(s)&&!isNaN(v)&&u.dataToPoint(c,null,a)),f?(h[l++]=r?r[0]:NaN,h[l++]=r?r[1]:NaN):i.setItemLayout(o,r&&r.slice()||[NaN,NaN]);f&&i.setLayout("symbolPoints",h)}var r=n.getData(),u=n.coordinateSystem,h=n.pipelineContext,f=h.large;if(u){var t=i(u.dimensions,function(n){return r.mapDimension(n)}).slice(0,2),e=t.length,o=r.getCalculationInfo("stackResultDimension");return ff(r,t[0])&&(t[0]=o),ff(r,t[1])&&(t[1]=o),e&&{progress:s}}}}},uni={average:function(n){for(var r=0,i=0,t=0;t<n.length;t++)isNaN(n[t])||(r+=n[t],i++);return 0===i?NaN:r/i},sum:function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t]||0;return i},max:function(n){for(var t=-1/0,i=0;i<n.length;i++)n[i]>t&&(t=n[i]);return isFinite(t)?t:NaN},min:function(n){for(var t=1/0,i=0;i<n.length;i++)n[i]<t&&(t=n[i]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},fni=function(n){return Math.round(n.length/2)},eni=function(n){return{seriesType:n,modifyOutputEnd:!0,reset:function(n){var r=n.getData(),t=n.get("sampling"),u=n.coordinateSystem,i;if("cartesian2d"===u.type&&t){var f=u.getBaseAxis(),s=u.getOtherAxis(f),e=f.getExtent(),h=e[1]-e[0],o=Math.round(r.count()/h);o>1&&("string"==typeof t?i=uni[t]:"function"==typeof t&&(i=t),i&&n.setData(r.downSample(r.mapDimension(s.dim),1/o,i,fni)))}}}};ic(ini("line","circle","line"));tc(rni("line"));he(rut.PROCESSOR.STATISTIC,eni("line"));var oni=function(n,t,i){t=u(t)&&{coordDimensions:t}||c({},t);var r=n.getSource(),e=cw(r,t),f=new bi(e,n);return f.initData(r,i),f},sni={updateSelectedMap:function(n){this._targetList=u(n)?n.slice():[];this._selectTargetMap=oh(n||[],function(n,t){return n.set(t.name,t),n},a())},select:function(n,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(n),r=this.get("selectedMode");"single"===r&&this._selectTargetMap.each(function(n){n.selected=!1});i&&(i.selected=!0)},unSelect:function(n,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(n);i&&(i.selected=!1)},toggleSelected:function(n,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(n);if(null!=i)return(this[i.selected?"unSelect":"select"](n,t),i.selected)},isSelected:function(n,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(n);return i&&i.selected}},kw=llt({type:"series.pie",init:function(n){kw.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(this._createSelectableList());this._defaultLabelLine(n)},mergeOption:function(n){kw.superCall(this,"mergeOption",n);this.updateSelectedMap(this._createSelectableList())},getInitialData:function(){return oni(this,["value"])},_createSelectableList:function(){for(var n=this.getRawData(),r=n.mapDimension("value"),i=[],t=0,u=n.count();u>t;t++)i.push({name:n.getName(t),value:n.get(r,t),selected:hoi(n,t,"selected")});return i},getDataParams:function(n){var t=this.getData(),i=kw.superCall(this,"getDataParams",n),r=[];return t.each(t.mapDimension("value"),function(n){r.push(n)}),i.percent=dht(r,n,t.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(n){ca(n,"labelLine",["show"]);var t=n.labelLine,i=n.emphasis.labelLine;t.show=t.show&&n.label.show;i.show=i.show&&n.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});rt(kw,sni);gut=fn.prototype;gut.updateData=function(n,t,i){function h(){r.stopAnimation(!0);r.animateTo({shape:{r:f.r+u.get("hoverOffset")}},300,"elasticOut")}function a(){r.stopAnimation(!0);r.animateTo({shape:{r:f.r}},300,"elasticOut")}var r=this.childAt(0),u=n.hostModel,e=n.getItemModel(t),f=n.getItemLayout(t),o=c({},f),v,y,s;(o.label=null,i)?(r.setShape(o),v=u.getShallow("animationType"),"scale"===v?(r.shape.r=f.r0,ee(r,{shape:{r:f.r}},u,t)):(r.shape.endAngle=f.startAngle,ot(r,{shape:{endAngle:f.endAngle}},u,t))):ot(r,{shape:o},u,t);y=n.getItemVisual(t,"color");r.useStyle(l({lineJoin:"bevel",fill:y},e.getModel("itemStyle").getItemStyle()));r.hoverStyle=e.getModel("emphasis.itemStyle").getItemStyle();s=e.getShallow("cursor");s&&r.attr("cursor",s);iyt(this,n.getItemLayout(t),u.isSelected(null,t),u.get("selectedOffset"),u.get("animation"));r.off("mouseover").off("mouseout").off("emphasis").off("normal");e.get("hoverAnimation")&&u.isAnimationEnabled()&&r.on("mouseover",h).on("mouseout",a).on("emphasis",h).on("normal",a);this._updateLabel(n,t);nf(this)};gut._updateLabel=function(n,t){var r=this.childAt(1),u=this.childAt(2),s=n.hostModel,e=n.getItemModel(t),v=n.getItemLayout(t),i=v.label,h=n.getItemVisual(t,"color"),f;ot(r,{shape:{points:i.linePoints||[[i.x,i.y],[i.x,i.y],[i.x,i.y]]}},s,t);ot(u,{style:{x:i.x,y:i.y}},s,t);u.attr({rotation:i.rotation,origin:[i.x,i.y],z2:10});var c=e.getModel("label"),l=e.getModel("emphasis.label"),o=e.getModel("labelLine"),a=e.getModel("emphasis.labelLine"),h=n.getItemVisual(t,"color");yh(u.style,u.hoverStyle={},c,l,{labelFetcher:n.hostModel,labelDataIndex:t,defaultText:n.getName(t),autoColor:h,useInsideStyle:!!i.inside},{textAlign:i.textAlign,textVerticalAlign:i.verticalAlign,opacity:n.getItemVisual(t,"opacity")});u.ignore=u.normalIgnore=!c.get("show");u.hoverIgnore=!l.get("show");r.ignore=r.normalIgnore=!o.get("show");r.hoverIgnore=!a.get("show");r.setStyle({stroke:h,opacity:n.getItemVisual(t,"opacity")});r.setStyle(o.getModel("lineStyle").getLineStyle());r.hoverStyle=a.getModel("lineStyle").getLineStyle();f=o.get("smooth");f&&f===!0&&(f=.4);r.setShape({smooth:f})};vt(fn,o);var hni=(li.extend({type:"pie",init:function(){var n=new o;this._sectorGroup=n},render:function(n,t,i,r){if(!r||r.from!==this.uid){var u=n.getData(),e=this._data,f=this.group,s=t.get("animation"),h=!e,c=n.get("animationType"),l=p(nai,this.uid,n,s,i),a=n.get("selectedMode");if(u.diff(e).add(function(n){var t=new fn(u,n);h&&"scale"!==c&&t.eachChild(function(n){n.stopAnimation(!0)});a&&t.on("click",l);u.setItemGraphicEl(n,t);f.add(t)}).update(function(n,t){var i=e.getItemGraphicEl(t);i.updateData(u,n);i.off("click");a&&i.on("click",l);f.add(i);u.setItemGraphicEl(n,i)}).remove(function(n){var t=e.getItemGraphicEl(n);f.remove(t)}).execute(),s&&h&&u.count()>0&&"scale"!==c){var o=u.getItemLayout(0),v=Math.max(i.getWidth(),i.getHeight())/2,y=ut(f.removeClipPath,f);f.setClipPath(this._createClipPath(o.cx,o.cy,v,o.startAngle,o.clockwise,y,n))}this._data=u}},dispose:function(){},_createClipPath:function(n,t,i,r,u,f,e){var o=new ul({shape:{cx:n,cy:t,r0:0,r:i,startAngle:r,endAngle:r,clockwise:u}});return ee(o,{shape:{endAngle:r+(u?1:-1)*Math.PI*2}},e,f),o},containPoint:function(n,t){var e=t.getData(),i=e.getItemLayout(0);if(i){var r=n[0]-i.cx,u=n[1]-i.cy,f=Math.sqrt(r*r+u*u);return f<=i.r&&f>=i.r0}}}),function(n,i){t(i,function(t){t.update="updateView";pt(t,function(i,r){var u={};return r.eachComponent({mainType:"series",subType:n,query:i},function(n){n[t.method]&&n[t.method](i.name,i.dataIndex);var r=n.getData();r.each(function(t){var i=r.getName(t);u[i]=n.isSelected(i)||!1})}),{name:i.name,selected:u}})})}),cni=function(n){return{getTargetSeries:function(t){var r={},i=a();return t.eachSeriesByType(n,function(n){n.__paletteScope=r;i.set(n.uid,n)}),i},reset:function(n){var t=n.getRawData(),r={},i=n.getData();i.each(function(n){var t=i.getRawIndex(n);r[t]=n});t.each(function(u){var f=r[u],o=null!=f&&i.getItemVisual(f,"color",!0),s,e;o?t.setItemVisual(u,"color",o):(s=t.getItemModel(u),e=s.get("itemStyle.color")||n.getColorFromPalette(t.getName(u)||u+"",n.__paletteScope,t.count()),t.setItemVisual(u,"color",e),null!=f&&i.setItemVisual(f,"color",e))})}}},lni=function(n,t,i,r){var f,e,u=n.getData(),o=[],s=!1;u.each(function(i){var l,a,tt,v,r=u.getItemLayout(i),d=u.getItemModel(i),g=d.getModel("label"),y=g.get("position")||d.get("emphasis.label.position"),it=d.getModel("labelLine"),nt=it.get("length"),rt=it.get("length2"),p=(r.startAngle+r.endAngle)/2,h=Math.cos(p),w=Math.sin(p),c,b,k;if(f=r.cx,e=r.cy,c="inside"===y||"inner"===y,"center"===y)l=r.cx,a=r.cy,v="center";else{if(b=(c?(r.r+r.r0)/2*h:r.r*h)+f,k=(c?(r.r+r.r0)/2*w:r.r*w)+e,l=b+3*h,a=k+3*w,!c){var ut=b+h*(nt+t-r.r),ft=k+w*(nt+t-r.r),et=ut+(0>h?-1:1)*rt,ot=ft;l=et+(0>h?-5:5);a=ot;tt=[[b,k],[ut,ft],[et,ot]]}v=c?"center":h>0?"left":"right"}var ht=g.getFont(),st=g.get("rotate")?0>h?-p+Math.PI:-p:0,ct=n.getFormattedLabel(i,"normal")||u.getName(i),lt=ie(ct,ht,v,"top");s=!!st;r.label={x:l,y:a,position:y,height:lt.height,len:nt,len2:rt,linePoints:tt,textAlign:v,verticalAlign:"middle",rotation:st,inside:c};c||o.push(r.label)});!s&&n.get("avoidLabelOverlap")&&tai(o,f,e,t,i,r)},dw=2*Math.PI,nnt=Math.PI/180,ani=function(n,t,i){t.eachSeriesByType(n,function(n){var t=n.getData(),f=t.mapDimension("value"),e=n.get("center"),o=n.get("radius"),p;u(o)||(o=[0,o]);u(e)||(e=[e,e]);var w=i.getWidth(),b=i.getHeight(),tt=Math.min(w,b),it=k(e[0],w),rt=k(e[1],b),d=k(o[0],tt/2),l=k(o[1],tt/2),a=-n.get("startAngle")*nnt,s=n.get("minAngle")*nnt,h=0;t.each(f,function(n){isNaN(n)||h++});var ut=t.getSum(f),v=Math.PI/(ut||h)*2,g=n.get("clockwise"),nt=n.get("roseType"),ot=n.get("stillShowZeroSum"),ft=t.getDataExtent(f);ft[0]=0;var y=dw,et=0,r=a,c=g?1:-1;(t.each(f,function(n,i){var u,f;if(isNaN(n))return void t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:g,cx:it,cy:rt,r0:d,r:nt?NaN:l});u="area"!==nt?0===ut&&ot?v:n*v:dw/h;s>u?(u=s,y-=s):et+=n;f=r+c*u;t.setItemLayout(i,{angle:u,startAngle:r,endAngle:f,clockwise:g,cx:it,cy:rt,r0:d,r:nt?oe(n,ft,[d,l]):l});r=f}),dw>y&&h)&&(.001>=y?(p=dw/h,t.each(f,function(n,i){if(!isNaN(n)){var r=t.getItemLayout(i);r.angle=p;r.startAngle=a+c*i*p;r.endAngle=a+c*(i+1)*p}})):(v=y/et,r=a,t.each(f,function(n,i){if(!isNaN(n)){var u=t.getItemLayout(i),f=u.angle===s?s:n*v;u.startAngle=r;u.endAngle=r+c*f;r+=c*f}})));lni(n,l,w,b)})},vni=function(n){return{seriesType:n,reset:function(n,t){var i=t.findComponents({mainType:"legend"}),r;i&&i.length&&(r=n.getData(),r.filterSelf(function(n){for(var u=r.getName(n),t=0;t<i.length;t++)if(!i[t].isSelected(u))return!1;return!0}))}}};hni("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);ic(cni("pie"));tc(p(ani,"pie"));he(vni("pie"));uf({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});su({type:"title",render:function(n,t,i){var f,l,r,y,o,p,w;if(this.group.removeAll(),n.get("show")){var s=this.group,b=n.getModel("textStyle"),k=n.getModel("subtextStyle"),e=n.get("textAlign"),u=n.get("textBaseline"),h=new pi({style:fu({},b,{text:n.get("text"),textFill:b.getTextColor()},{disableBox:!0}),z2:10}),g=h.getBoundingRect(),d=n.get("subtext"),c=new pi({style:fu({},k,{text:d,textFill:k.getTextColor(),y:g.height+n.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),a=n.get("link"),v=n.get("sublink");h.silent=!a;c.silent=!v;a&&h.on("click",function(){window.open(a,"_"+n.get("target"))});v&&c.on("click",function(){window.open(v,"_"+n.get("subtarget"))});s.add(h);d&&s.add(c);f=s.getBoundingRect();l=n.getBoxLayoutParams();l.width=f.width;l.height=f.height;r=tf(l,{width:i.getWidth(),height:i.getHeight()},n.get("padding"));e||(e=n.get("left")||n.get("right"),"middle"===e&&(e="center"),"right"===e?r.x+=r.width:"center"===e&&(r.x+=r.width/2));u||(u=n.get("top")||n.get("bottom"),"center"===u&&(u="middle"),"bottom"===u?r.y+=r.height:"middle"===u&&(r.y+=r.height/2),u=u||"top");s.attr("position",[r.x,r.y]);y={textAlign:e,textVerticalAlign:u};h.setStyle(y);c.setStyle(y);f=s.getBoundingRect();o=r.margin;p=n.getItemStyle(["color","opacity"]);p.fill=n.get("backgroundColor");w=new ht({shape:{x:f.x-o[3],y:f.y-o[0],width:f.width+o[1]+o[3],height:f.height+o[0]+o[2],r:n.get("borderRadius")},style:p,silent:!0});gst(w);s.add(w)}}});nft=uf({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(n,t,i){this.mergeDefaultAndTheme(n,i);n.selected=n.selected||{}},mergeOption:function(n){nft.superCall(this,"mergeOption",n)},optionUpdated:function(){var n,i,t,r;if(this._updateData(this.ecModel),n=this._data,n[0]&&"single"===this.get("selectedMode")){for(i=!1,t=0;t<n.length;t++)if(r=n[t].get("name"),this.isSelected(r)){this.select(r);i=!0;break}i||this.select(n[0].get("name"))}},_updateData:function(n){var t=[],r=[],u,f;n.eachRawSeries(function(i){var o=i.name,f,e,u;r.push(o);i.legendDataProvider?(e=i.legendDataProvider(),u=e.mapArray(e.getName),n.isSeriesFiltered(i)||(r=r.concat(u)),u.length?t=t.concat(u):f=!0):f=!0;f&&bk(i)&&t.push(i.name)});this._availableNames=r;u=this.get("data")||t;f=i(u,function(n){return("string"==typeof n||"number"==typeof n)&&(n={name:n}),new g(n,this,this.ecModel)},this);this._data=f},getData:function(){return this._data},select:function(n){var i=this.option.selected,u=this.get("selectedMode"),r;"single"===u&&(r=this._data,t(r,function(n){i[n.get("name")]=!1}));i[n]=!0},unSelect:function(n){"single"!==this.get("selectedMode")&&(this.option.selected[n]=!1)},toggleSelected:function(n){var t=this.option.selected;t.hasOwnProperty(n)||(t[n]=!0);this[t[n]?"unSelect":"select"](n)},isSelected:function(n){var t=this.option.selected;return!(t.hasOwnProperty(n)&&!t[n])&&y(this._availableNames,n)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});pt("legendToggleSelect","legendselectchanged",p(en,"toggleSelected"));pt("legendSelect","legendselected",p(en,"select"));pt("legendUnSelect","legendunselected",p(en,"unSelect"));var rh=p,yni=t,tft=o,pni=su({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new tft);this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(n,t,i){var r;if(this.resetInner(),n.get("show",!0)){r=n.get("align");r&&"auto"!==r||(r="right"===n.get("left")&&"vertical"===n.get("orient")?"right":"left");this.renderInner(r,n,t,i);var f=n.getBoxLayoutParams(),e={width:i.getWidth(),height:i.getHeight()},o=n.get("padding"),h=tf(f,e,o),u=this.layoutInner(n,r,h),s=tf(l({width:u.width,height:u.height},f),e,o);this.group.attr("position",[s.x-u.x,s.y-u.y]);this.group.add(this._backgroundEl=uyt(u,n))}},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(n,t,i,r){var o=this.getContentGroup(),f=a(),e=t.get("selectedMode"),u=[];i.eachRawSeries(function(n){n.get("legendHoverLink")||u.push(n.id)});yni(t.getData(),function(s,h){var c=s.get("name"),l,v,a;if(!this.newlineDisabled&&(""===c||"\n"===c))return void o.add(new tft({newline:!0}));if(l=i.getSeriesByName(c)[0],!f.get(c))if(l){v=l.getData();a=v.getVisual("color");"function"==typeof a&&(a=a(l.getDataParams(0)));var y=v.getVisual("legendSymbol")||"roundRect",p=v.getVisual("symbol"),w=this._createItem(c,h,s,t,y,p,n,a,e);w.on("click",rh(fyt,c,r)).on("mouseover",rh(eyt,l,null,r,u)).on("mouseout",rh(oyt,l,null,r,u));f.set(c,!0)}else i.eachRawSeries(function(i){var o,l;if(!f.get(c)&&i.legendDataProvider){if(o=i.legendDataProvider(),l=o.indexOfName(c),0>l)return;var a=o.getItemVisual(l,"color"),v=this._createItem(c,h,s,t,"roundRect",null,n,a,e);v.on("click",rh(fyt,c,r)).on("mouseover",rh(eyt,i,c,r,u)).on("mouseout",rh(oyt,i,c,r,u));f.set(c,!0)}},this)},this)},_createItem:function(n,t,i,r,u,f,e,o,s){var p=r.get("itemWidth"),v=r.get("itemHeight"),w=r.get("inactiveColor"),y=r.get("symbolKeepAspect"),b=r.isSelected(n),h=new tft,nt=i.getModel("textStyle"),tt=i.get("icon"),k=i.getModel("tooltip"),it=k.parentModel,l,g;(u=tt||u,h.add(ts(u,0,0,p,v,b?o:w,null==y?!0:y)),!tt&&f&&(f!==u||"none"==f))&&(l=.8*v,"none"===f&&(f="circle"),h.add(ts(f,(p-l)/2,(v-l)/2,l,l,b?o:w,null==y?!0:y)));var rt="left"===e?p+5:-5,ut=e,a=r.get("formatter"),d=n;return"string"==typeof a&&a?d=a.replace("{name}",null!=n?n:""):"function"==typeof a&&(d=a(n)),h.add(new pi({style:fu({},nt,{text:d,x:rt,y:v/2,textFill:b?nt.getTextColor():w,textAlign:ut,textVerticalAlign:"middle"})})),g=new ht({shape:h.getBoundingRect(),invisible:!0,tooltip:k.get("show")?c({content:n,formatter:it.get("formatter",!0)||function(){return n},formatterParams:{componentType:"legend",legendIndex:r.componentIndex,name:n,$vars:["name"]}},k.option):null}),h.add(g),h.eachChild(function(n){n.silent=!0}),g.silent=!s,this.getContentGroup().add(h),nf(h),h.__legendDataIndex=t,h},layoutInner:function(n,t,i){var r=this.getContentGroup(),u;return ap(n.get("orient"),r,n.get("itemGap"),i.width,i.height),u=r.getBoundingRect(),r.attr("position",[-u.x,-u.y]),this.group.getBoundingRect()}}),wni=function(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(n){for(var i=0;i<t.length;i++)if(!t[i].isSelected(n.name))return!1;return!0})};he(wni);nt.registerSubTypeDefaulter("legend",function(){return"plain"});var tnt=nft.extend({type:"legend.scroll",setScrollDataIndex:function(n){this.option.scrollDataIndex=n},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(n,t,i,r){var u=tv(n);tnt.superCall(this,"init",n,t,i,r);syt(this,n,u)},mergeOption:function(n,t){tnt.superCall(this,"mergeOption",n,t);syt(this,this.option,n)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),int=o,gw=["width","height"],rnt=["x","y"],ift=pni.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){ift.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new int);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new int);this._showController},resetInner:function(){ift.superCall(this,"resetInner");this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(n,t,i,r){function s(n,i){var o=n+"DataIndex",u=ba(t.get("pageIcons",!0)[t.getOrient().name][i],{onclick:ut(h._pageGo,h,o,t,r)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});u.name=n;e.add(u)}var h=this,e,f,o;ift.superCall(this,"renderInner",n,t,i,r);e=this._controllerGroup;f=t.get("pageIconSize",!0);u(f)||(f=[f,f]);s("pagePrev",0);o=t.getModel("pageTextStyle");e.add(new pi({name:"pageText",style:{textFill:o.getTextColor(),font:o.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0}));s("pageNext",1)},layoutInner:function(n,t,i){var h=this.getContentGroup(),l=this._containerGroup,a=this._controllerGroup,u=n.getOrient().index,r=gw[u],e=gw[1-u],w=rnt[1-u],g,o,c,p;ap(n.get("orient"),h,n.get("itemGap"),u?i.width:null,u?null:i.height);ap("horizontal",a,n.get("pageButtonItemGap",!0));var s=h.getBoundingRect(),f=a.getBoundingRect(),v=this._showController=s[r]>i[r],b=[-s.x,-s.y];b[u]=h.position[u];var k=[0,0],y=[-f.x,-f.y],d=gt(n.get("pageButtonGap",!0),n.get("itemGap",!0));return v&&(g=n.get("pageButtonPosition",!0),"end"===g?y[u]+=i[r]-f[r]:k[u]+=f[r]+d),y[1-u]+=s[e]/2-f[e]/2,h.attr("position",b),l.attr("position",k),a.attr("position",y),o=this.group.getBoundingRect(),o={x:0,y:0},(o[r]=v?i[r]:s[r],o[e]=Math.max(s[e],f[e]),o[w]=Math.min(0,f[w]+y[1-u]),l.__rectSize=i[r],v)?(c={x:0,y:0},c[r]=Math.max(i[r]-f[r]-d,0),c[e]=o[e],l.setClipPath(new ht({shape:c})),l.__rectSize=c[r]):a.eachChild(function(n){n.attr({invisible:!0,silent:!0})}),p=this._getPageInfo(n),null!=p.pageIndex&&ot(h,{position:p.contentPosition},v?n:!1),this._updatePageInfoView(n,p),o},_pageGo:function(n,t,i){var r=this._getPageInfo(t)[n];null!=r&&i.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:t.id})},_updatePageInfoView:function(n,i){var u=this._controllerGroup;t(["pagePrev","pageNext"],function(t){var f=null!=i[t+"DataIndex"],r=u.childOfName(t);r&&(r.setStyle("fill",f?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),r.cursor=f?"pointer":"default")});var f=u.childOfName("pageText"),r=n.get("pageFormatter"),e=i.pageIndex,o=null!=e?e+1:0,s=i.pageCount;f&&r&&f.setStyle("text",dt(r)?r.replace("{current}",o).replace("{total}",s):r({current:o,total:s}))},_getPageInfo:function(n){function y(n){var i=n.getBoundingRect().clone();return i[t]+=n.position[f],i}var l,p,w,s,tt=n.get("scrollDataIndex",!0),e=this.getContentGroup(),o=e.getBoundingRect(),a=this._containerGroup.__rectSize,f=n.getOrient().index,u=gw[f],g=gw[1-f],t=rnt[f],b=e.position.slice(),h,k,d,i,r,c,nt,v;if(this._showController?e.eachChild(function(n){n.__legendDataIndex===tt&&(s=n)}):s=e.childAt(0),h=a?Math.ceil(o[u]/a):0,s&&(k=s.getBoundingRect(),d=s.position[f]+k[t],b[f]=-d-o[t],l=Math.floor(h*(d+k[t]+a/2)/o[u]),l=o[u]&&h?Math.max(0,Math.min(h-1,l)):-1,i={x:0,y:0},i[u]=a,i[g]=o[g],i[t]=-b[f]-o[t],c=e.children(),e.eachChild(function(n,f){var e=y(n);e.intersect(i)&&(null==r&&(r=f),w=n.__legendDataIndex);f===c.length-1&&e[t]+e[u]<=i[t]+i[u]&&(w=null)}),null!=r))if(nt=c[r],v=y(nt),i[t]=v[t]+v[u]-i[u],0>=r&&v[t]>=i[t])p=null;else{for(;r>0&&y(c[r-1]).intersect(i);)r--;p=c[r].__legendDataIndex}return{contentPosition:b,pageIndex:l,pageCount:h,pagePrevDataIndex:p,pageNextDataIndex:w}}});pt("legendScroll","legendscroll",function(n,t){var i=n.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:n},function(n){n.setScrollDataIndex(i)})});var unt=function(n,t){var e,c=[],l=n.seriesIndex,o,r,s,h,f;return null==l||!(e=t.getSeriesByIndex(l))?{point:[]}:(o=e.getData(),r=va(o,n),null==r||0>r||u(r))?{point:[]}:(s=o.getItemGraphicEl(r),h=e.coordinateSystem,e.getTooltipPosition?c=e.getTooltipPosition(r)||[]:h&&h.dataToPoint?c=h.dataToPoint(o.getValues(i(h.dimensions,function(n){return o.mapDimension(n)}),r,!0))||[]:s&&(f=s.getBoundingRect().clone(),f.applyTransform(s.transform),c=[f.x+f.width/2,f.y+f.height/2]),{point:c,el:s})},dr=t,fnt=p,ent=tr(),bni=function(n,t,i){var p=n.currTrigger,r=[n.x,n.y],s=n,c=n.dispatchAction||ut(i.dispatchAction,i),u=t.getComponent("axisPointer").coordSysAxesInfo,h;if(u){hv(r)&&(r=unt({seriesIndex:s.seriesIndex,dataIndex:s.dataIndex},t).point);var l=hv(r),a=s.axesInfo,f=u.axesInfo,w="leave"===p||hv(r),e={},o={},v={list:[],map:{}},y={showPointer:fnt(uai,o),showTooltip:fnt(fai,v)};return dr(u.coordSysMap,function(n,t){var i=l||n.containPoint(r);dr(u.coordSysAxesInfo[t],function(n){var f=n.axis,u=hai(a,n),t;!w&&i&&(!a||u)&&(t=u&&u.value,null!=t||l||(t=f.pointToData(r)),null!=t&&hyt(n,t,y,!1,e))})}),h={},dr(f,function(n,t){var i=n.linkGroup;i&&!o[t]&&dr(i.axesInfo,function(t,r){var f=o[r],u;t!==n&&f&&(u=f.value,i.mapper&&(u=n.axis.scale.parse(i.mapper(u,cyt(t),cyt(n)))),h[n.key]=u)})}),dr(h,function(n,t){hyt(f[t],n,y,!0,e)}),eai(o,f,e),oai(v,r,n,c),sai(f,c,i),e}},vu=(uf({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),tr()),kni=t,ont=su({type:"axisPointer",render:function(n,t,i){var r=t.getComponent("tooltip"),u=n.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";lyt("axisPointer",i,function(n,t,i){"none"!==u&&("leave"===n||u.indexOf(n)>=0)&&i({type:"updateAxisPointer",currTrigger:n,x:t&&t.offsetX,y:t&&t.offsetY})})},remove:function(n,t){on(t.getZr(),"axisPointer");ont.superApply(this._model,"remove",arguments)},dispose:function(n,t){on("axisPointer",t);ont.superApply(this._model,"dispose",arguments)}}),ro=tr(),snt=v,rft=ut;cc.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(n,t,i,r){var s=t.get("value"),h=t.get("status"),u,e,f,c,a,l;if(this._axisModel=n,this._axisPointerModel=t,this._api=i,r||this._lastValue!==s||this._lastStatus!==h){if(this._lastValue=s,this._lastStatus=h,u=this._group,e=this._handle,!h||"hide"===h)return u&&u.hide(),void(e&&e.hide());u&&u.show();e&&e.show();f={};this.makeElOption(f,s,n,t,i);c=f.graphicKey;c!==this._lastGraphicKey&&this.clear(i);this._lastGraphicKey=c;a=this._moveAnimation=this.determineAnimation(n,t);u?(l=p(vyt,t,a),this.updatePointerEl(u,f,l,t),this.updateLabelEl(u,f,l,t)):(u=this._group=new o,this.createPointerEl(u,f,n,t),this.createLabelEl(u,f,n,t),i.getZr().add(u));wyt(u,t,!0);this._renderHandle(s)}},remove:function(n){this.clear(n)},dispose:function(n){this.clear(n)},determineAnimation:function(n,t){var i=t.get("animation"),r=n.axis,e="category"===r.type,o=t.get("snap"),u,s,f;return!o&&!e?!1:"auto"===i||null==i?(u=this.animationThreshold,e&&r.getBandWidth()>u)?!0:o?(s=pg(n).seriesDataCount,f=r.getExtent(),Math.abs(f[0]-f[1])/s>u):!1:i===!0},makeElOption:function(){},createPointerEl:function(n,t){var i=t.pointer,r;i&&(r=ro(n).pointerEl=new sp[i.type](snt(t.pointer)),n.add(r))},createLabelEl:function(n,t,i,r){if(t.label){var u=ro(n).labelEl=new ht(snt(t.label));n.add(u);pyt(u,r)}},updatePointerEl:function(n,t,i){var r=ro(n).pointerEl;r&&(r.setStyle(t.pointer.style),i(r,{shape:t.pointer.shape}))},updateLabelEl:function(n,t,i,r){var u=ro(n).labelEl;u&&(u.setStyle(t.label.style),i(u,{shape:t.label.shape,position:t.label.position}),pyt(u,r))},_renderHandle:function(n){var s,h,i;if(!this._dragging&&this.updateHandleTransform){var f=this._axisPointerModel,e=this._api.getZr(),t=this._handle,r=f.getModel("handle"),o=f.get("status");if(!r.get("show")||!o||"hide"===o)return t&&e.remove(t),void(this._handle=null);this._handle||(s=!0,t=this._handle=ba(r.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(n){vbt(n.event)},onmousedown:rft(this._onHandleDragMove,this,0,0),drift:rft(this._onHandleDragMove,this),ondragend:rft(this._onHandleDragEnd,this)}),e.add(t));wyt(t,f,!1);h=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];t.setStyle(r.getItemStyle(null,h));i=r.get("size");u(i)||(i=[i,i]);t.attr("scale",[i[0]/2,i[1]/2]);koi(this,"_doDispatchAxisPointer",r.get("throttle")||0,"fixRate");this._moveHandleToValue(n,s)}},_moveHandleToValue:function(n,t){vyt(this._axisPointerModel,!t&&this._moveAnimation,this._handle,sn(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(n,t){var i=this._handle,r;i&&(this._dragging=!0,r=this.updateHandleTransform(sn(i),[n,t],this._axisModel,this._axisPointerModel),this._payloadInfo=r,i.stopAnimation(),i.attr(sn(r)),ro(i).lastProp=null,this._doDispatchAxisPointer())},_doDispatchAxisPointer:function(){var i=this._handle,n,t;i&&(n=this._payloadInfo,t=this._axisModel,this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]}))},_onHandleDragEnd:function(){var n,t;this._dragging=!1;n=this._handle;n&&(t=this._axisPointerModel.get("value"),this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"}))},getHandleTransform:null,updateHandleTransform:null,clear:function(n){this._lastValue=null;this._lastStatus=null;var t=n.getZr(),i=this._group,r=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(n,t,i){return i=i||0,{x:n[i],y:n[1-i],width:t[i],height:t[1-i]}}};cc.prototype.constructor=cc;ah(cc);hnt=cc.extend({makeElOption:function(n,t,i,r,u){var f=i.axis,h=f.grid,o=r.get("type"),l=dyt(h,f).getOtherAxis(f).getGlobalExtent(),a=f.toGlobalCoord(f.dataToCoord(t,!0)),s,e,c;o&&"none"!==o&&(s=yai(r),e=cnt[o](f,a,l,s),e.style=s,n.graphicKey=e.type,n.pointer=e);c=bg(h.model,i);bai(t,n,c,i,r,u)},getHandleTransform:function(n,t,i){var r=bg(t.axis.grid.model,t,{labelInside:!1});return r.labelMargin=i.get("handle.margin"),{position:kyt(t.axis,n,r),rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(n,t,i){var f=i.axis,l=f.grid,s=f.getGlobalExtent(!0),h=dyt(l,f).getOtherAxis(f).getGlobalExtent(),r="x"===f.dim?0:1,u=n.position,e,o,c;return u[r]+=t[r],u[r]=Math.min(s[1],u[r]),u[r]=Math.max(s[0],u[r]),e=(h[1]+h[0])/2,o=[e,e],o[r]=u[r],c=[{verticalAlign:"middle"},{align:"center"}],{position:u,rotation:n.rotation,cursorPoint:o,tooltipOption:c[r]}}});cnt={line:function(n,t,i,r){var u=kai([t,i[0]],[t,i[1]],gyt(n));return vh({shape:u,style:r}),{type:"Line",shape:u}},shadow:function(n,t,i){var r=Math.max(1,n.getBandWidth()),u=i[1]-i[0];return{type:"Rect",shape:dai([t-r/2,i[0]],[r,u],gyt(n))}}};pf.registerAxisPointerClass("CartesianAxisPointer",hnt);rf(function(n){if(n){n.axisPointer&&0!==n.axisPointer.length||(n.axisPointer={});var t=n.axisPointer.link;t&&!u(t)&&(n.axisPointer.link=[t])}});he(rut.PROCESSOR.STATISTIC,function(n,t){n.getComponent("axisPointer").coordSysAxesInfo=rli(n,t)});pt({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},bni);uf({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var lnt=t,dni=tct,gni=["","-webkit-","-moz-","-o-"],ntr="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";hn.prototype={constructor:hn,_enterable:!0,update:function(){var n=this._container,i=n.currentStyle||document.defaultView.getComputedStyle(n),t=n.style;"absolute"!==t.position&&"absolute"!==i.position&&(t.position="relative")},show:function(n){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText=ntr+tvi(n)+";left:"+this._x+"px;top:"+this._y+"px;"+(n.get("extraCssText")||"");t.style.display=t.innerHTML?"block":"none";this._show=!0},setContent:function(n){this.el.innerHTML=null==n?"":n},setEnterable:function(n){this._enterable=n},getSize:function(){var n=this.el;return[n.clientWidth,n.clientHeight]},moveTo:function(n,t){var i,r=this._zr,u;r&&r.painter&&(i=r.painter.getViewportRootOffset())&&(n+=i.offsetLeft,t+=i.offsetTop);u=this.el.style;u.left=n+"px";u.top=t+"px";this._x=n;this._y=t},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(n){!this._show||this._inContent&&this._enterable||(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(ut(this.hide,this),n)):this.hide())},isShow:function(){return this._show}};var ant=ut,pl=t,vnt=k,ttr=new ht({shape:{x:-1,y:-1,width:2,height:2}});su({type:"tooltip",init:function(n,t){if(!e.node){var i=new hn(t.getDom(),t);this._tooltipContent=i}},render:function(n,t,i){if(!e.node&&!e.wxa){this.group.removeAll();this._tooltipModel=n;this._ecModel=t;this._api=i;this._lastDataByCoordSys=null;this._alwaysShowContent=n.get("alwaysShowContent");var r=this._tooltipContent;r.update();r.setEnterable(n.get("enterable"));this._initGlobalListener();this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel,n=t.get("triggerOn");lyt("itemTooltip",this._api,ant(function(t,i,r){"none"!==n&&(n.indexOf(t)>=0?this._tryShow(i,r):"leave"===t&&this._hide(r))},this))},_keepShow:function(){var t=this._tooltipModel,i=this._ecModel,r=this._api,n;null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")&&(n=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.manuallyShowTip(t,i,r,{x:n._lastX,y:n._lastY})}))},manuallyShowTip:function(n,t,i,r){var u,s,f;if(r.from!==this.uid&&!e.node)if(u=npt(r,i),this._ticket="",s=r.dataByCoordSys,r.tooltip&&null!=r.x&&null!=r.y)f=ttr,f.position=[r.x,r.y],f.update(),f.tooltip=r.tooltip,this._tryShow({offsetX:r.x,offsetY:r.y,target:f},u);else if(s)this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,event:{},dataByCoordSys:r.dataByCoordSys,tooltipOption:r.tooltipOption},u);else if(null!=r.seriesIndex){if(this._manuallyAxisShowTip(n,t,i,r))return;var o=unt(r,t),h=o.point[0],c=o.point[1];null!=h&&null!=c&&this._tryShow({offsetX:h,offsetY:c,position:r.position,target:o.el,event:{}},u)}else null!=r.x&&null!=r.y&&(i.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:i.getZr().findHover(r.x,r.y).target,event:{}},u))},manuallyHideTip:function(n,t,i,r){var u=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&u.hideLater(this._tooltipModel.get("hideDelay"));this._lastX=this._lastY=null;r.from!==this.uid&&this._hide(npt(r,i))},_manuallyAxisShowTip:function(n,t,i,r){var f=r.seriesIndex,e=r.dataIndex,s=t.getComponent("axisPointer").coordSysAxesInfo,u,o,n;if(null!=f&&null!=e&&null!=s&&(u=t.getSeriesByIndex(f),u&&(o=u.getData(),n=cn([o.getItemModel(e),u,(u.coordinateSystem||{}).model,n]),"axis"===n.get("trigger"))))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:f,dataIndex:e,position:r.position}),!0},_tryShow:function(n,t){var i=n.target,u=this._tooltipModel,r;u&&(this._lastX=n.offsetX,this._lastY=n.offsetY,r=n.dataByCoordSys,r&&r.length?this._showAxisTooltip(r,n):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(n,i,t)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(n,i,t)):(this._lastDataByCoordSys=null,this._hide(t)))},_showOrMove:function(n,t){var i=n.get("showDelay");t=ut(t,this);clearTimeout(this._showTimout);i>0?this._showTimout=setTimeout(t,i):t()},_showAxisTooltip:function(n,i){var f=this._ecModel,h=this._tooltipModel,u=[i.offsetX,i.offsetY],r=[],e=[],o=cn([i.tooltipOption,h]),s;pl(n,function(n){pl(n.dataByAxis,function(n){var i=f.getComponent(n.axisDim+"Axis",n.axisIndex),u=n.value,h=[],o,s;i&&null!=u&&(o=byt(u,i.axis,f,n.seriesDataIndices,n.valueLabelOpt),t(n.seriesDataIndices,function(t){var s=f.getSeriesByIndex(t.seriesIndex),c=t.dataIndexInside,r=s&&s.getDataParams(c);r.axisDim=n.axisDim;r.axisIndex=n.axisIndex;r.axisType=n.axisType;r.axisId=n.axisId;r.axisValue=lg(i.axis,u);r.axisValueLabel=o;r&&(e.push(r),h.push(s.formatTooltip(c,!0)))}),s=o,r.push((s?hi(s)+"<br />":"")+h.join("<br />")))})},this);r.reverse();r=r.join("<br /><br />");s=i.position;this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(n)?this._updatePosition(o,s,u[0],u[1],this._tooltipContent,e):this._showTooltipContent(o,r,e,Math.random(),u[0],u[1],s)})},_showSeriesItemTooltip:function(n,t,i){var l=this._ecModel,o=t.seriesIndex,f=l.getSeriesByIndex(o),u=t.dataModel||f,r=t.dataIndex,s=t.dataType,h=u.getData(),e=cn([h.getItemModel(r),u,f&&(f.coordinateSystem||{}).model,this._tooltipModel]),c=e.get("trigger");if(null==c||"item"===c){var a=u.getDataParams(r,s),v=u.formatTooltip(r,!1,s),y="item_"+u.name+"_"+r;this._showOrMove(e,function(){this._showTooltipContent(e,v,a,y,n.offsetX,n.offsetY,n.position,n.target)});i({type:"showTip",dataIndexInside:r,dataIndex:h.getRawIndex(r),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(n,t,i){var r=t.tooltip,f;"string"==typeof r&&(f=r,r={content:f,formatter:f});var u=new g(r,this._tooltipModel,this._ecModel),e=u.get("content"),o=Math.random();this._showOrMove(u,function(){this._showTooltipContent(u,e,u.get("formatterParams")||{},o,n.offsetX,n.offsetY,n.position,t)});i({type:"showTip",from:this.uid})},_showTooltipContent:function(n,t,i,r,u,f,e,o){var s,h,c,l;(this._ticket="",n.get("showContent")&&n.get("show"))&&(s=this._tooltipContent,h=n.get("formatter"),e=e||n.get("position"),c=t,h&&"string"==typeof h?c=fd(h,i,!0):"function"==typeof h&&(l=ant(function(t,r){t===this._ticket&&(s.setContent(r),this._updatePosition(n,e,u,f,s,i,o))},this),this._ticket=r,c=h(i,r,l)),s.setContent(c),s.show(n),this._updatePosition(n,e,u,f,s,i,o))},_updatePosition:function(n,t,i,r,e,o,s){var l=this._api.getWidth(),a=this._api.getHeight(),w,h;t=t||n.get("position");var c=e.getSize(),v=n.get("align"),y=n.get("verticalAlign"),p=s&&s.getBoundingRect().clone();(s&&p.applyTransform(s.transform),"function"==typeof t&&(t=t([i,r],o,e.el,p,{viewSize:[l,a],contentSize:c.slice()})),u(t))?(i=vnt(t[0],l),r=vnt(t[1],a)):f(t)?(t.width=c[0],t.height=c[1],w=tf(t,{width:l,height:a}),i=w.x,r=w.y,v=null,y=null):"string"==typeof t&&s?(h=uvi(t,p,c),i=h[0],r=h[1]):(h=ivi(i,r,e.el,l,a,v?null:20,y?null:20),i=h[0],r=h[1]);(v&&(i-=ipt(v)?c[0]/2:"right"===v?c[0]:0),y&&(r-=ipt(y)?c[1]/2:"bottom"===y?c[1]:0),n.get("confine"))&&(h=rvi(i,r,e.el,l,a),i=h[0],r=h[1]);e.moveTo(i,r)},_updateContentNotChangedOnAxis:function(n){var i=this._lastDataByCoordSys,t=!!i&&i.length===n.length;return t&&pl(i,function(i,r){var u=i.dataByAxis||{},e=n[r]||{},f=e.dataByAxis||[];t&=u.length===f.length;t&&pl(u,function(n,i){var r=f[i]||{},u=n.seriesDataIndices||[],e=r.seriesDataIndices||[];t&=n.value===r.value&&n.axisType===r.axisType&&n.axisId===r.axisId&&u.length===e.length;t&&pl(u,function(n,i){var r=e[i];t&=n.seriesIndex===r.seriesIndex&&n.dataIndex===r.dataIndex})})}),this._lastDataByCoordSys=n,!!t},_hide:function(n){this._lastDataByCoordSys=null;n({type:"hideTip",from:this.uid})},dispose:function(n,t){e.node||e.wxa||(this._tooltipContent.hide(),on("itemTooltip",t))}});pt({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});pt({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var ynt=wh,uft=hi,nb=uf({type:"marker",dependencies:["series","grid","polar","geo"],init:function(n,t,i,r){this.mergeDefaultAndTheme(n,i);this.mergeOption(n,i,r.createdBySelf,!0)},isAnimationEnabled:function(){if(e.node)return!1;var n=this.__hostSeries;return this.getShallow("animation")&&n&&n.isAnimationEnabled()},mergeOption:function(n,i,r,u){var e=this.constructor,f=this.mainType+"Model";r||i.eachSeries(function(n){var r=n.get(this.mainType,!0),o=n[f];return r&&r.data?(o?o.mergeOption(r,i,!0):(u&&cv(r),t(r.data,function(n){n instanceof Array?(cv(n[0]),cv(n[1])):cv(n)}),o=new e(r,this,i),c(o,{mainType:this.mainType,seriesIndex:n.seriesIndex,name:n.name,createdBySelf:!0}),o.__hostSeries=n),void(n[f]=o)):void(n[f]=null)},this)},formatTooltip:function(n){var e=this.getData(),t=this.getRawValue(n),o=u(t)?i(t,ynt).join(", "):ynt(t),f=e.getName(n),r=uft(this.name);return(null!=t||f)&&(r+="<br />"),f&&(r+=uft(f),null!=t&&(r+=" : ")),null!=t&&(r+=uft(o)),r},getData:function(){return this._data},setData:function(n){this._data=n}});rt(nb,ndt);nb.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var pnt=y,fft=p,eft={min:fft(ln,"min"),max:fft(ln,"max"),average:fft(ln,"average")},oft=su({type:"marker",init:function(){this.markerGroupMap=a()},render:function(n,t,i){var r=this.markerGroupMap,u;r.each(function(n){n.__keep=!1});u=this.type+"Model";t.eachSeries(function(n){var r=n[u];r&&this.renderSeries(n,r,t,i)},this);r.each(function(n){n.__keep||this.group.remove(n.group)},this)},renderSeries:function(){}});oft.extend({type:"markPoint",updateTransform:function(n,t,i){t.eachSeries(function(n){var t=n.markPointModel;t&&(fpt(t.getData(),n,i),this.markerGroupMap.get(n.id).updateLayout(t))},this)},renderSeries:function(n,t,i,r){var s=n.coordinateSystem,e=n.id,h=n.getData(),o=this.markerGroupMap,f=o.get(e)||o.set(e,new dg),u=svi(s,n,t);t.setData(u);fpt(t.getData(),n,r);u.each(function(n){var r=u.getItemModel(n),i=r.getShallow("symbolSize");"function"==typeof i&&(i=i(t.getRawValue(n),t.getDataParams(n)));u.setItemVisual(n,{symbolSize:i,color:r.get("itemStyle.color")||h.getVisual("color"),symbol:r.getShallow("symbol")})});f.updateData(u);this.group.add(f.group);u.eachItemGraphicEl(function(n){n.traverse(function(n){n.dataModel=t})});f.__keep=!0;f.group.silent=t.get("silent")||n.get("silent")}});rf(function(n){n.markPoint=n.markPoint||{}});nb.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var wnt=vs.prototype,sft=skt.prototype,itr=ue({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(n,t){(vn(t)?wnt:sft).buildPath(n,t)},pointAt:function(n){return vn(this.shape)?wnt.pointAt.call(this,n):sft.pointAt.call(this,n)},tangentAt:function(n){var t=this.shape,i=vn(t)?[t.x2-t.x1,t.y2-t.y1]:sft.tangentAt.call(this,n);return gl(i,i)}}),hft=["fromSymbol","toSymbol"],wf=pn.prototype;wf.beforeUpdate=cvi;wf._createLine=function(n,i,r){var e=n.hostModel,o=n.getItemLayout(i),u=hvi(o),f;u.shape.percent=0;ee(u,{shape:{percent:1}},e,i);this.add(u);f=new pi({name:"label"});this.add(f);t(hft,function(t){var r=opt(t,n,i);this.add(r);this[ept(t)]=n.getItemVisual(i,t)},this);this._updateCommonStl(n,i,r)};wf.updateData=function(n,i,r){var f=n.hostModel,e=this.childOfName("line"),o=n.getItemLayout(i),u={shape:{}};yn(u.shape,o);ot(e,u,f,i);t(hft,function(t){var r=n.getItemVisual(i,t),u=ept(t),f;this[u]!==r&&(this.remove(this.childOfName(t)),f=opt(t,n,i),this.add(f));this[u]=r},this);this._updateCommonStl(n,i,r)};wf._updateCommonStl=function(n,i,r){var a=n.hostModel,k=this.childOfName("line"),v=r&&r.lineStyle,d=r&&r.hoverLineStyle,h=r&&r.labelModel,u=r&&r.hoverLabelModel,e,c,y,s;(!r||n.hasItemOption)&&(e=n.getItemModel(i),v=e.getModel("lineStyle").getLineStyle(),d=e.getModel("emphasis.lineStyle").getLineStyle(),h=e.getModel("label"),u=e.getModel("emphasis.label"));c=n.getItemVisual(i,"color");y=oo(n.getItemVisual(i,"opacity"),v.opacity,1);k.useStyle(l({strokeNoScale:!0,fill:"none",stroke:c,opacity:y},v));k.hoverStyle=d;t(hft,function(n){var t=this.childOfName(n);t&&(t.setColor(c),t.setStyle({opacity:y}))},this);var g,o,p=h.getShallow("show"),w=u.getShallow("show"),f=this.childOfName("label");(p||w)&&(g=c||"#000",o=a.getFormattedLabel(i,"normal",n.dataType),null==o)&&(s=a.getRawValue(i),o=null==s?n.getName(i):isFinite(s)?ii(s):s);var nt=p?o:null,b=w?gt(a.getFormattedLabel(i,"emphasis",n.dataType),o):null,tt=f.style;(null!=nt||null!=b)&&(fu(f.style,h,{text:nt},{autoColor:g}),f.__textAlign=tt.textAlign,f.__verticalAlign=tt.textVerticalAlign,f.__position=h.get("position")||"middle");f.hoverStyle=null!=b?{text:b,textFill:u.getTextColor(!0),fontStyle:u.getShallow("fontStyle"),fontWeight:u.getShallow("fontWeight"),fontSize:u.getShallow("fontSize"),fontFamily:u.getShallow("fontFamily")}:{text:null};f.ignore=!p&&!w;nf(this)};wf.highlight=function(){this.trigger("emphasis")};wf.downplay=function(){this.trigger("normal")};wf.updateLayout=function(n,t){this.setLinePoints(n.getItemLayout(t))};wf.setLinePoints=function(n){var t=this.childOfName("line");yn(t.shape,n);t.dirty()};vt(pn,o);bf=spt.prototype;bf.isPersistent=function(){return!0};bf.updateData=function(n){var t=this,u=t.group,i=t._lineData,r;t._lineData=n;i||u.removeAll();r=hpt(n);n.diff(i).add(function(i){lvi(t,n,i,r)}).update(function(u,f){avi(t,i,n,f,u,r)}).remove(function(n){u.remove(i.getItemGraphicEl(n))}).execute()};bf.updateLayout=function(){var n=this._lineData;n&&n.eachItemGraphicEl(function(t,i){t.updateLayout(n,i)},this)};bf.incrementalPrepareUpdate=function(n){this._seriesScope=hpt(n);this._lineData=null;this.group.removeAll()};bf.incrementalUpdate=function(n,t){function f(n){n.isGroup||(n.incremental=n.useHoverLayer=!0)}for(var u,r,i=n.start;i<n.end;i++)u=t.getItemLayout(i),wn(u)&&(r=new this._ctor(t,i,this._seriesScope),r.traverse(f),this.group.add(r),t.setItemGraphicEl(i,r))};bf.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};bf._clearIncremental=function(){var n=this._incremental;n&&n.clearDisplaybles()};bnt=function(n,t,i,r){var w=n.getData(),e=r.type,b,o,f,a,p;if(!u(r)&&("min"===e||"max"===e||"average"===e||"median"===e||null!=r.xAxis||null!=r.yAxis)){null!=r.yAxis||null!=r.xAxis?(o=null!=r.yAxis?"y":"x",b=t.getAxis(o),f=yu(r.yAxis,r.xAxis)):(a=rpt(r,w,t,n),o=a.valueDataDim,b=a.valueAxis,f=an(w,o,e));var y="x"===o?0:1,k=1-y,h=v(r),l={};h.type=null;h.coord=[];l.coord=[];h.coord[k]=-1/0;l.coord[k]=1/0;p=i.get("precision");p>=0&&"number"==typeof f&&(f=+f.toFixed(Math.min(p,20)));h.coord[y]=l.coord[y]=f;r=[h,l,{type:e,valueIndex:r.valueIndex,value:f}]}return r=[lc(n,r[0]),lc(n,r[1]),c({},r[2])],r[2].type=r[2].type||"",s(r[2],r[0]),s(r[2],r[1]),r};oft.extend({type:"markLine",updateTransform:function(n,t,i){t.eachSeries(function(n){var t=n.markLineModel;if(t){var u=t.getData(),r=t.__from,f=t.__to;r.each(function(t){bn(r,t,!0,n,i);bn(f,t,!1,n,i)});u.each(function(n){u.setItemLayout(n,[r.getItemLayout(n),f.getItemLayout(n)])});this.markerGroupMap.get(n.id).updateLayout()}},this)},renderSeries:function(n,t,i,r){function a(t,i,u){var f=t.getItemModel(i);bn(t,i,u,n,r);t.setItemVisual(i,{symbolSize:f.get("symbolSize")||s[u?0:1],symbol:f.get("symbol",!0)||o[u?0:1],color:f.get("itemStyle.color")||w.getVisual("color")})}var p=n.coordinateSystem,v=n.id,w=n.getData(),y=this.markerGroupMap,l=y.get(v)||y.set(v,new spt),o,s;this.group.add(l.group);var h=yvi(p,n,t),e=h.from,c=h.to,f=h.line;t.__from=e;t.__to=c;t.setData(f);o=t.get("symbol");s=t.get("symbolSize");u(o)||(o=[o,o]);"number"==typeof s&&(s=[s,s]);h.from.each(function(n){a(e,n,!0);a(c,n,!1)});f.each(function(n){var t=f.getItemModel(n).get("lineStyle.color");f.setItemVisual(n,{color:t||e.getItemVisual(n,"color")});f.setItemLayout(n,[e.getItemLayout(n),c.getItemLayout(n)]);f.setItemVisual(n,{fromSymbolSize:e.getItemVisual(n,"symbolSize"),fromSymbol:e.getItemVisual(n,"symbol"),toSymbolSize:c.getItemVisual(n,"symbolSize"),toSymbol:c.getItemVisual(n,"symbol")})});l.updateData(f);h.line.eachItemGraphicEl(function(n){n.traverse(function(n){n.dataModel=t})});l.__keep=!0;l.group.silent=t.get("silent")||n.get("silent")}});rf(function(n){n.markLine=n.markLine||{}});nb.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});knt=function(n,t,i,r){var f=lc(n,r[0]),e=lc(n,r[1]),o=yu,s=f.coord,h=e.coord,u;return s[0]=o(s[0],-1/0),s[1]=o(s[1],-1/0),h[0]=o(h[0],1/0),h[1]=o(h[1],1/0),u=fb([{},f,e]),u.coord=[f.coord,e.coord],u.x0=f.x,u.y0=f.y,u.x1=e.x,u.y1=e.y,u};cft=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];oft.extend({type:"markArea",updateTransform:function(n,t,r){t.eachSeries(function(n){var u=n.markAreaModel,t;u&&(t=u.getData(),t.each(function(u){var f=i(cft,function(i){return vpt(t,u,i,n,r)}),e;t.setItemLayout(u,f);e=t.getItemGraphicEl(u);e.setShape("points",f)}))},this)},renderSeries:function(n,t,r,u){var c=n.coordinateSystem,s=n.id,a=n.getData(),h=this.markerGroupMap,e=h.get(s)||h.set(s,{group:new o}),f;this.group.add(e.group);e.__keep=!0;f=wvi(c,n,t);t.setData(f);f.each(function(t){f.setItemLayout(t,i(cft,function(i){return vpt(f,t,i,n,u)}));f.setItemVisual(t,{color:a.getVisual("color")})});f.diff(e.__data).add(function(n){var t=new hrt({shape:{points:f.getItemLayout(n)}});f.setItemGraphicEl(n,t);e.group.add(t)}).update(function(n,i){var r=e.__data.getItemGraphicEl(i);ot(r,{shape:{points:f.getItemLayout(n)}},t,n);e.group.add(r);f.setItemGraphicEl(n,r)}).remove(function(n){var t=e.__data.getItemGraphicEl(n);e.group.remove(t)}).execute();f.eachItemGraphicEl(function(n,i){var r=f.getItemModel(i),e=r.getModel("label"),o=r.getModel("emphasis.label"),u=f.getItemVisual(i,"color");n.useStyle(l(r.getModel("itemStyle").getItemStyle(),{fill:cet(u,.4),stroke:u}));n.hoverStyle=r.getModel("emphasis.itemStyle").getItemStyle();yh(n.style,n.hoverStyle,e,o,{labelFetcher:t,labelDataIndex:i,defaultText:f.getName(i)||"",isRectText:!0,autoColor:u});nf(n,{});n.dataModel=t});e.__data=f;e.group.silent=t.get("silent")||n.get("silent")}});rf(function(n){n.markArea=n.markArea||{}});lft={};dnt=uf({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){dnt.superApply(this,"optionUpdated",arguments);t(this.option.feature,function(n,t){var i=ypt(t);i&&s(n,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});su({type:"toolbox",render:function(n,i,r,u){function s(t,f){var e,s=o[t],v=o[f],p=h[s],a=new g(p,n,n.ecModel),y;if(s&&!v){if(bvi(s))e={model:a,onclick:a.option.onclick,featureName:s};else{if(y=ypt(s),!y)return;e=new y(a,i,r)}c[s]=e}else{if(e=c[v],!e)return;e.model=a;e.ecModel=i;e.api=r}return!s&&v?void(e.dispose&&e.dispose(i,r)):!a.get("show")||e.unusable?void(e.remove&&e.remove(i,r)):(l(a,e,s),a.setIconStatus=function(n,t){var i=this.option,r=this.iconPaths;i.iconStatus=i.iconStatus||{};i.iconStatus[n]=t;r[n]&&r[n].trigger(t)},void(e.render&&e.render(a,i,r,u)))}function l(u,o,s){var p=u.getModel("iconStyle"),l=u.getModel("emphasis.iconStyle"),h=o.getIcons?o.getIcons():u.get("icon"),c=u.get("title")||{},a,v,y;"string"==typeof h&&(a=h,v=c,h={},c={},h[s]=a,c[s]=v);y=u.iconPaths={};t(h,function(t,s){var h=ba(t,{},{x:-e/2,y:-e/2,width:e,height:e});h.setStyle(p.getItemStyle());h.hoverStyle=l.getItemStyle();nf(h);n.get("showTitle")&&(h.__title=c[s],h.on("mouseover",function(){var n=l.getItemStyle();h.setStyle({text:c[s],textPosition:n.textPosition||"bottom",textFill:n.fill||n.stroke||"#000",textAlign:n.textAlign||"center"})}).on("mouseout",function(){h.setStyle({textFill:null})}));h.trigger(u.get("iconStatus."+s)||"normal");f.add(h);h.on("click",ut(o.onclick,o,i,r,s));y[s]=h})}var f=this.group;if(f.removeAll(),n.get("show")){var e=+n.get("itemSize"),h=n.get("feature")||{},c=this._features||(this._features={}),o=[];t(h,function(n,t){o.push(t)});new rc(this._featureNames||[],o).add(s).update(s).remove(p(s,null)).execute();this._featureNames=o;iai(f,n,r);f.add(uyt(f.getBoundingRect(),n));f.eachChild(function(n){var o=n.__title,t=n.hoverStyle,u;if(t&&o){var i=ie(o,oot(t)),s=n.position[0]+f.position[0],c=n.position[1]+f.position[1]+e,h=!1;c+i.height>r.getHeight()&&(t.textPosition="top",h=!0);u=h?-5-i.height:e+8;s+i.width/2>r.getWidth()?(t.textPosition=["100%",u],t.textAlign="right"):s-i.width/2<0&&(t.textPosition=[0,u],t.textAlign="left")}})}},updateView:function(n,i,r,u){t(this._features,function(n){n.updateView&&n.updateView(n.model,i,r,u)})},remove:function(n,i){t(this._features,function(t){t.remove&&t.remove(n,i)});this.group.removeAll()},dispose:function(n,i){t(this._features,function(t){t.dispose&&t.dispose(n,i)})}});aft=no.toolbox.saveAsImage;vv.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:aft.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:aft.lang.slice()};vv.prototype.unusable=!e.canvasSupported;gnt=vv.prototype;gnt.onclick=function(n,t){var i=this.model,s=i.get("name")||n.get("title.0.text")||"echarts",r=document.createElement("a"),o=i.get("type",!0)||"png",u,l,v;if(r.download=s+"."+o,r.target="_blank",u=t.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),r.href=u,"function"!=typeof MouseEvent||e.browser.ie||e.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var h=atob(u.split(",")[1]),f=h.length,c=new Uint8Array(f);f--;)c[f]=h.charCodeAt(f);l=new Blob([c]);window.navigator.msSaveOrOpenBlob(l,s+"."+o)}else{var a=i.get("lang"),y='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(a&&a[0]||"")+'" /><\/body>',p=window.open();p.document.write(y)}else v=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),r.dispatchEvent(v)};vc("saveAsImage",vv);nti=no.toolbox.magicType;kn.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:v(nti.title),option:{},seriesIndex:{}};vft=kn.prototype;vft.getIcons=function(){var n=this.model,i=n.get("icon"),r={};return t(n.get("type"),function(n){i[n]&&(r[n]=i[n])}),r};yft={line:function(n,t,i,r){if("bar"===n)return s({id:t,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},r.get("option.line")||{},!0)},bar:function(n,t,i,r){if("line"===n)return s({id:t,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},r.get("option.bar")||{},!0)},stack:function(n,t,i,r){if("line"===n||"bar"===n)return s({id:t,stack:"__ec_magicType_stack__"},r.get("option.stack")||{},!0)},tiled:function(n,t,i,r){if("line"===n||"bar"===n)return s({id:t,stack:""},r.get("option.tiled")||{},!0)}};tti=[["line","bar"],["stack","tiled"]];vft.onclick=function(n,i,r){var f=this.model,e=f.get("seriesIndex."+r),u,o;yft[r]&&(u={series:[]},o=function(t){var a=t.subType,v=t.id,s=yft[r](a,v,t,f),e,h,c;if(s&&(l(s,t.option),u.series.push(s)),e=t.coordinateSystem,e&&"cartesian2d"===e.type&&("line"===r||"bar"===r)&&(h=e.getAxesByScale("ordinal")[0],h)){var y=h.dim,i=y+"Axis",p=n.queryComponents({mainType:i,index:t.get(name+"Index"),id:t.get(name+"Id")})[0],o=p.componentIndex;for(u[i]=u[i]||[],c=0;o>=c;c++)u[i][o]=u[i][o]||{};u[i][o].boundaryGap="bar"===r?!0:!1}},t(tti,function(n){y(n,r)>=0&&t(n,function(n){f.setIconStatus(n,"normal")})}),f.setIconStatus(r,"emphasis"),n.eachComponent({mainType:"series",query:null==e?null:{seriesIndex:e}},o),i.dispatchAction({type:"changeMagicType",currentType:r,newOption:u}))};pt({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});vc("magicType",kn);var iti=no.toolbox.dataView,tb=new Array(60).join("-"),uo="    ",pft=new RegExp("["+uo+"]+","g");yc.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:v(iti.title),lang:v(iti.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};yc.prototype.onclick=function(n,t){function y(){h.removeChild(u);d._dom=null}var h=t.getDom(),i=this.model,u,e,c,f,r,o,k,s,d;this._dom&&h.removeChild(this._dom);u=document.createElement("div");u.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";u.style.backgroundColor=i.get("backgroundColor")||"#fff";e=document.createElement("h4");c=i.get("lang")||[];e.innerHTML=c[0]||i.get("title");e.style.cssText="margin: 10px 20px;";e.style.color=i.get("textColor");f=document.createElement("div");r=document.createElement("textarea");f.style.cssText="display:block;width:100%;overflow:auto;";var p=i.get("optionToContent"),w=i.get("contentToOption"),b=nyi(n);"function"==typeof p?(o=p(t.getOption()),"string"==typeof o?f.innerHTML=o:sh(o)&&f.appendChild(o)):(f.appendChild(r),r.readOnly=i.get("readOnly"),r.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",r.style.color=i.get("textColor"),r.style.borderColor=i.get("textareaBorderColor"),r.style.backgroundColor=i.get("textareaColor"),r.value=b.value);k=b.meta;s=document.createElement("div");s.style.cssText="position:absolute;bottom:0;left:0;right:0;";var l="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",a=document.createElement("div"),v=document.createElement("div");l+=";background-color:"+i.get("buttonColor");l+=";color:"+i.get("buttonTextColor");d=this;ha(a,"click",y);ha(v,"click",function(){var n;try{n="function"==typeof w?w(f,t.getOption()):uyi(r.value,k)}catch(i){throw y(),new Error("Data view format error "+i);}n&&t.dispatchAction({type:"changeDataView",newOption:n});y()});a.innerHTML=c[1];v.innerHTML=c[2];v.style.cssText=l;a.style.cssText=l;!i.get("readOnly")&&s.appendChild(v);s.appendChild(a);ha(r,"keydown",function(n){if(9===(n.keyCode||n.which)){var t=this.value,i=this.selectionStart,r=this.selectionEnd;this.value=t.substring(0,i)+uo+t.substring(r);this.selectionStart=this.selectionEnd=i+1;vbt(n)}});u.appendChild(e);u.appendChild(f);u.appendChild(s);f.style.height=h.clientHeight-80+"px";h.appendChild(u);this._dom=u};yc.prototype.remove=function(n,t){this._dom&&t.getDom().removeChild(this._dom)};yc.prototype.dispose=function(n,t){this.remove(n,t)};vc("dataView",yc);pt({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,i){var r=[];t(n.newOption.series,function(n){var t=i.getSeriesByName(n.name)[0],u;t?(u=t.get("data"),r.push({name:n.name,data:fyi(n.data,u)})):r.push(c({type:"scatter"},n))});i.mergeOption(l({series:r},n.newOption))});wft="\x00_ec_interaction_mutex";pt({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var kf=p,gr=t,rtr=i,wl=Math.min,uh=Math.max,utr=Math.pow,ftr=1e4,etr=6,otr=6,rti="globalPan",str={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},htr={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},uti={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},ctr=0;pv.prototype={constructor:pv,enableBrush:function(n){return this._brushType&&hyi(this),n.brushType&&syi(this,n),this},setPanels:function(n){if(n&&n.length){var i=this._panels={};t(n,function(n){i[n.panelId]=v(n)})}else this._panels=null;return this},mount:function(n){n=n||{};this._enableGlobalPan=n.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:n.position||[0,0],rotation:n.rotation||0,scale:n.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(n,t){gr(this._covers,n,t)},updateCovers:function(n){function u(n,t){return(null!=n.id?n.id:l+t)+"-"+n.brushType}function h(n,t){return u(n.__brushOption,t)}function f(i,u){var f=n[i],s;null!=u&&t[u]===o?e[i]=t[u]:(s=e[i]=null!=u?(t[u].__brushOption=f,t[u]):bpt(r,wpt(r,f)),dn(r,s))}function c(n){t[n]!==o&&r.group.remove(t[n])}n=i(n,function(n){return s(v(uti),n,!0)});var l="\x00-brush-index-",t=this._covers,e=this._covers=[],r=this,o=this._creatingCover;return new rc(t,n,h,u).add(f).update(f).remove(c).execute(),this},unmount:function(){return this.enableBrush(!1),ttt(this),this._zr.remove(this.group),this},dispose:function(){this.unmount();this.off()}};rt(pv,st);var ltr={mousedown:function(n){var t,i;this._dragging?swt.call(this,n):n.target&&n.target.draggable||(ett(n),t=this.group.transformCoordToLocal(n.offsetX,n.offsetY),this._creatingCover=null,i=this._creatingPanel=ntt(this,n,t),i&&(this._dragging=!0,this._track=[t.slice()]))},mousemove:function(n){var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY),t;(yyi(this,n,i),this._dragging)&&(ett(n),t=ewt(this,n,i,!1),t&&ce(this,t))},mouseup:swt},ib={lineX:hwt(0),lineY:hwt(1),rect:{createCover:function(n,t){return twt(kf(uwt,function(n){return n},function(n){return n}),n,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(n){var t=nwt(n);return rwt(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,i,r){iwt(n,t,i,r)},updateCommon:itt,contain:ott},polygon:{createCover:function(n,t){var i=new o;return i.add(new crt({name:"main",style:rtt(t),silent:!0})),i},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0));t.add(new hrt({name:"main",draggable:!0,drift:kf(ayi,n,t),ondragend:kf(ce,n,{isEnd:!0})}))},updateCoverShape:function(n,t,i){t.childAt(0).setShape({points:ftt(n,t,i)})},updateCommon:itt,contain:ott}},atr={axisPointer:1,tooltip:1,brush:1},df=t,rb=y,ub=p,bft=["dataToPoint","pointToData"],vtr=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],fh=htt.prototype;fh.setOutputRanges=function(n,t){this.matchOutputRanges(n,t,function(n,t,i){if((n.coordRanges||(n.coordRanges=[])).push(t),!n.coordRange){n.coordRange=t;var r=kft[n.brushType](0,i,t);n.__rangeOffset={offset:oti[n.brushType](r.values,n.range,[1,1]),xyMinMax:r.xyMinMax}}})};fh.matchOutputRanges=function(n,i,r){df(n,function(n){var u=this.findTargetInfo(n,i);u&&u!==!0&&t(u.coordSyses,function(t){var u=kft[n.brushType](1,t,n.range);r(n,u.values,t,i)})},this)};fh.setInputRanges=function(n,t){df(n,function(n){var i=this.findTargetInfo(n,t),r,u;(n.range=n.range||[],i&&i!==!0)&&(n.panelId=i.panelId,r=kft[n.brushType](0,i.coordSys,n.coordRange),u=n.__rangeOffset,n.range=u?oti[n.brushType](r.values,u.offset,dyi(r.xyMinMax,u.xyMinMax)):r.values)},this)};fh.makePanelOpts=function(n,t){return i(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t&&t(i),clipPath:wyi(r),isTargetByCursor:kyi(r,n,i.coordSysModel),getLinearBrushOtherExtent:byi(r)}})};fh.controlSeries=function(n,t,i){var r=this.findTargetInfo(n,i);return r===!0||r&&rb(r.coordSyses,t.coordinateSystem)>=0};fh.findTargetInfo=function(n,t){for(var r,u,f=this._targetInfoList,e=cwt(t,n),i=0;i<f.length;i++)if(r=f[i],u=n.panelId,u){if(r.panelId===u)return r}else for(i=0;i<fti.length;i++)if(fti[i](e,r))return r;return!0};var ytr={grid:function(n,t){var r=n.xAxisModels,u=n.yAxisModels,o=n.gridModels,i=a(),f={},e={};(r||u||o)&&(df(r,function(n){var t=n.axis.grid.model;i.set(t.id,t);f[t.id]=!0}),df(u,function(n){var t=n.axis.grid.model;i.set(t.id,t);e[t.id]=!0}),df(o,function(n){i.set(n.id,n);f[n.id]=!0;e[n.id]=!0}),i.each(function(n){var o=n.coordinateSystem,i=[];df(o.getCartesians(),function(n){(rb(r,n.getAxis("x").model)>=0||rb(u,n.getAxis("y").model)>=0)&&i.push(n)});t.push({panelId:"grid--"+n.id,gridModel:n,coordSysModel:n,coordSys:i[0],coordSyses:i,getPanelRect:eti.grid,xAxisDeclared:f[n.id],yAxisDeclared:e[n.id]})}))},geo:function(n,t){df(n.geoModels,function(n){var i=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:i,coordSyses:[i],getPanelRect:eti.geo})})}},fti=[function(n,t){var r=n.xAxisModel,u=n.yAxisModel,i=n.gridModel;return!i&&r&&(i=r.axis.grid.model),!i&&u&&(i=u.axis.grid.model),i&&i===t.gridModel},function(n,t){var i=n.geoModel;return i&&i===t.geoModel}],eti={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(gk(n)),t}},kft={lineX:ub(lwt,0),lineY:ub(lwt,1),rect:function(n,t,i){var r=t[bft[n]]([i[0][0],i[1][0]]),u=t[bft[n]]([i[0][1],i[1][1]]),f=[ctt([r[0],u[0]]),ctt([r[1],u[1]])];return{values:f,xyMinMax:f}},polygon:function(n,t,r){var u=[[1/0,-1/0],[1/0,-1/0]],f=i(r,function(i){var r=t[bft[n]](i);return u[0][0]=Math.min(u[0][0],r[0]),u[1][0]=Math.min(u[1][0],r[1]),u[0][1]=Math.max(u[0][1],r[0]),u[1][1]=Math.max(u[1][1],r[1]),r});return{values:f,xyMinMax:u}}},oti={lineX:ub(awt,0),lineY:ub(awt,1),rect:function(n,t,i){return[[n[0][0]-i[0]*t[0][0],n[0][1]-i[0]*t[0][1]],[n[1][0]-i[1]*t[1][0],n[1][1]-i[1]*t[1][1]]]},polygon:function(n,t,r){return i(n,function(n,i){return[n[0]-r[0]*t[i][0],n[1]-r[1]*t[i][1]]})}},sti=t,dft="\x00_ec_hist_store",ptr=function(n,t,i,r,u,f){var c,o,h,s,e;return t[0]=wv(t[0],i),t[1]=wv(t[1],i),n=n||0,c=i[1]-i[0],null!=u&&(u=wv(u,[0,c])),null!=f&&(f=Math.max(f,null!=u?u:0)),"all"===r&&(u=f=Math.abs(t[1]-t[0]),r=0),o=att(t,r),t[r]+=n,h=u||0,s=i.slice(),o.sign<0?s[0]+=h:s[1]-=h,t[r]=wv(t[r],s),e=att(t,r),null!=u&&(e.sign!==o.sign||e.span<u)&&(t[1-r]=t[r]+o.sign*u),e=att(t,r),null!=f&&e.span>f&&(t[1-r]=t[r]+e.sign*f),t};nt.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var wtr=["cartesian2d","polar","singleAxis"],hti=upi(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),gf=t,cti=bht,gft=function(n,t,i,r){this._dimName=n;this._axisIndex=t;this._valueWindow;this._percentWindow;this._dataExtent;this._minMaxSpan;this.ecModel=r;this._dataZoomModel=i};gft.prototype={constructor:gft,hostedBy:function(n){return this._dataZoomModel===n},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var n=[],t=this.ecModel;return t.eachSeries(function(i){if(rpi(i.get("coordinateSystem"))){var r=this._dimName,u=t.queryComponents({mainType:r+"Axis",index:i.get(r+"AxisIndex"),id:i.get(r+"AxisId")})[0];this._axisIndex===(u&&u.componentIndex)&&n.push(i)}},this),n},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var i,n,t=this._dimName,u=this.ecModel,f=this.getAxisModel(),e="x"===t||"y"===t,r;return e?(n="gridIndex",i="x"===t?"y":"x"):(n="polarIndex",i="angle"===t?"radius":"angle"),u.eachComponent(i+"Axis",function(t){(t.get(n)||0)===(f.get(n)||0)&&(r=t)}),r},getMinMaxSpan:function(){return v(this._minMaxSpan)},calculateDataWindow:function(n){var u=this._dataExtent,e=this.getAxisModel(),f=e.axis.scale,o=this._dataZoomModel.getRangePropMode(),i=[0,100],r=[n.start,n.end],t=[];return gf(["startValue","endValue"],function(i){t.push(null!=n[i]?f.parse(n[i]):null)}),gf([0,1],function(n){var s=t[n],e=r[n];"percent"===o[n]?(null==e&&(e=i[n]),s=f.parse(oe(e,i,u,!0))):e=oe(s,u,i,!0);t[n]=s;r[n]=e}),{valueWindow:cti(t),percentWindow:cti(r)}},reset:function(n){var i,t;n===this._dataZoomModel&&(i=this.getTargetSeriesModels(),this._dataExtent=epi(this,this._dimName,i),t=this.calculateDataWindow(n.option),this._valueWindow=t.valueWindow,this._percentWindow=t.percentWindow,spi(this),ywt(this))},restore:function(n){n===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,ywt(this,!0))},filterData:function(n){function r(n){return n>=t[0]&&n<=t[1]}if(n===this._dataZoomModel){var u=this._dimName,f=this.getTargetSeriesModels(),i=n.get("filterMode"),t=this._valueWindow;"none"!==i&&gf(f,function(n){var f=n.getData(),e=f.mapDimension(u,!0);"weakFilter"===i?f.filterSelf(function(n){for(var u,o,s,i=0;i<e.length;i++){var r=f.get(e[i],n),h=!isNaN(r),c=r<t[0],l=r>t[1];if(h&&!c&&!l)return!0;h&&(s=!0);c&&(u=!0);l&&(o=!0)}return s&&u&&o}):gf(e,function(u){if("empty"===i)n.setData(f.map(u,function(n){return r(n)?n:NaN}));else{var e={};e[u]=t;f.selectRange(e)}});gf(e,function(n){f.setApproximateExtent(t,n)})})}}};var eh=t,fo=hti,btr=uf({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(n,t,i){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;this._rangePropMode=["percent","percent"];var r=pwt(n);this.mergeDefaultAndTheme(n,i);this.doInit(r)},mergeOption:function(n){var t=pwt(n);s(this.option,n,!0);this.doInit(t)},doInit:function(n){var t=this.option;e.canvasSupported||(t.realtime=!1);this._setDefaultThrottle(n);wwt(this,n);eh([["start","startValue"],["end","endValue"]],function(n,i){"value"===this._rangePropMode[i]&&(t[n[0]]=null)},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var n=this._axisProxies;this.eachTargetAxis(function(t,i,r,u){var f=this.dependentModels[t.axis][i],e=f.__dzAxisProxy||(f.__dzAxisProxy=new gft(t.name,i,this,u));n[t.name+"_"+i]=e},this)},_resetTarget:function(){var n=this.option,t=this._judgeAutoMode();fo(function(t){var i=t.axisIndex;n[i]=oi(n[i])},this);"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var n=this.option,t=!1,i;return fo(function(i){null!=n[i.axisIndex]&&(t=!0)},this),i=n.orient,null==i&&t?"orient":t?void 0:(null==i&&(n.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var n=!0,r=this.get("orient",!0),t=this.option,u=this.dependentModels,i;n&&(i="vertical"===r?"y":"x",u[i+"Axis"].length?(t[i+"AxisIndex"]=[0],n=!1):eh(u.singleAxis,function(i){n&&i.get("orient",!0)===r&&(t.singleAxisIndex=[i.componentIndex],n=!1)}));n&&fo(function(i){var r,f,u,e;if(n){if(r=[],f=this.dependentModels[i.axis],f.length&&!r.length)for(u=0,e=f.length;e>u;u++)"category"===f[u].get("type")&&r.push(u);t[i.axisIndex]=r;r.length&&(n=!1)}},this);n&&this.ecModel.eachSeries(function(n){this._isSeriesHasAllAxesTypeOf(n,"value")&&fo(function(i){var u=t[i.axisIndex],r=n.get(i.axisIndex),f=n.get(i.axisId),e=n.ecModel.queryComponents({mainType:i.axis,index:r,id:f})[0];r=e.componentIndex;y(u,r)<0&&u.push(r)})},this)},_autoSetOrient:function(){var n;this.eachTargetAxis(function(t){n||(n=t.name)},this);this.option.orient="y"===n?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(n,t){var i=!0;return fo(function(r){var f=n.get(r.axisIndex),u=this.dependentModels[r.axis][f];u&&u.get("type")===t||(i=!1)},this),i},_setDefaultThrottle:function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var n;return fo(function(t){if(null==n){var i=this.get(t.axisIndex);i.length&&(n=this.dependentModels[t.axis][i[0]])}},this),n},eachTargetAxis:function(n,t){var i=this.ecModel;fo(function(r){eh(this.get(r.axisIndex),function(u){n.call(t,r,u,this,i)},this)},this)},getAxisProxy:function(n,t){return this._axisProxies[n+"_"+t]},getAxisModel:function(n,t){var i=this.getAxisProxy(n,t);return i&&i.getAxisModel()},setRawRange:function(n,t){var i=this.option;eh([["start","startValue"],["end","endValue"]],function(t){(null!=n[t[0]]||null!=n[t[1]])&&(i[t[0]]=n[t[0]],i[t[1]]=n[t[1]])},this);t||wwt(this,n)},getPercentRange:function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},getValueRange:function(n,t){if(null!=n||null!=t)return this.getAxisProxy(n,t).getDataValueWindow();var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()},findRepresentativeAxisProxy:function(n){var t,i;if(n)return n.__dzAxisProxy;t=this._axisProxies;for(i in t)if(t.hasOwnProperty(i)&&t[i].hostedBy(this))return t[i];for(i in t)if(t.hasOwnProperty(i)&&!t[i].hostedBy(this))return t[i]},getRangePropMode:function(){return this._rangePropMode.slice()}}),ktr=wr.extend({type:"dataZoom",render:function(n,t,i){this.dataZoomModel=n;this.ecModel=t;this.api=i},getTargetCoordInfo:function(){function t(n,t,i,r){for(var u,f=0;f<i.length;f++)if(i[f].model===n){u=i[f];break}u||i.push(u={model:n,axisModels:[],coordIndex:r});u.axisModels.push(t)}var i=this.dataZoomModel,r=this.ecModel,n={};return i.eachTargetAxis(function(i,u){var e=r.getComponent(i.axis,u),f;e&&(f=e.getCoordSysModel(),f&&t(f,e,n[f.mainType]||(n[f.mainType]=[]),f.componentIndex))},this),n}});btr.extend({type:"dataZoom.select"});ktr.extend({type:"dataZoom.select"});he({getTargetSeries:function(n){var i=a();return n.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(n,r,u){var f=u.getAxisProxy(n.name,r);t(f.getTargetSeriesModels(),function(n){i.set(n.uid,n)})})}),i},modifyOutputEnd:!0,overallReset:function(n,t){n.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(n,i,r){r.getAxisProxy(n.name,i).reset(r,t)});n.eachTargetAxis(function(n,i,r){r.getAxisProxy(n.name,i).filterData(r,t)})});n.eachComponent("dataZoom",function(n){var t=n.findRepresentativeAxisProxy(),i=t.getDataPercentWindow(),r=t.getDataValueWindow();n.setRawRange({start:i[0],end:i[1],startValue:r[0],endValue:r[1]},!0)})}});pt("dataZoom",function(n,i){var u=fpi(ut(i.eachComponent,i,"dataZoom"),hti,function(n,t){return n.get(t.axisIndex)}),r=[];i.eachComponent({mainType:"dataZoom",query:n},function(n){r.push.apply(r,u(n).nodes)});t(r,function(t){t.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})});var dtr=no.toolbox.dataZoom,lti=t,gtr="\x00_ec_\x00toolbox-dataZoom_";vtt.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:v(dtr.title)};eo=vtt.prototype;eo.render=function(n,t,i,r){this.model=n;this.ecModel=t;this.api=i;cpi(n,t,this,r,i);hpi(n,t)};eo.onclick=function(n,t,i){ati[i].call(this)};eo.remove=function(){this._brushController.unmount()};eo.dispose=function(){this._brushController.dispose()};ati={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(npi(this.ecModel))}};eo._onBrush=function(n,t){function u(n,t,u){var s=t.getAxis(n),h=s.model,f=e(n,h,i),o=f.findRepresentativeAxisProxy(h).getMinMaxSpan();(null!=o.minValueSpan||null!=o.maxValueSpan)&&(u=ptr(0,u.slice(),s.scale.getExtent(),0,o.minValueSpan,o.maxValueSpan));f&&(r[f.id]={dataZoomId:f.id,startValue:u[0],endValue:u[1]})}function e(n,t,i){var r;return i.eachComponent({mainType:"dataZoom",subType:"select"},function(i){var u=i.getAxisModel(n,t.componentIndex);u&&(r=i)}),r}var r,i,f;t.isEnd&&n.length&&(r={},i=this.ecModel,this._brushController.updateCovers([]),f=new htt(bwt(this.model.option),i,{include:["grid"]}),f.matchOutputRanges(n,i,function(n,t,i){if("cartesian2d"===i.type){var r=n.brushType;"rect"===r?(u("x",i,t[0]),u("y",i,t[1])):u({lineX:"x",lineY:"y"}[r],i,t)}}),gyi(i,r),this._dispatchZoomAction(r))};eo._dispatchZoomAction=function(n){var t=[];lti(n,function(n){t.push(v(n))});t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})};vc("dataZoom",vtt);rf(function(n){function f(n,t){if(t){var f=n+"Index",r=t[f];null==r||"all"==r||u(r)||(r=r===!1||"none"===r?[]:[r]);e(n,function(t,u){if(null==r||"all"==r||-1!==y(r,u)){var e={type:"select",$fromToolbox:!0,id:gtr+n+u};e[f]=u;i.push(e)}})}}function e(t,i){var r=n[t];u(r)||(r=r?[r]:[]);lti(r,i)}var i,t,r;n&&(i=n.dataZoom||(n.dataZoom=[]),u(i)||(n.dataZoom=i=[i]),t=n.toolbox,t&&(u(t)&&(t=t[0]),t&&t.feature)&&(r=t.feature.dataZoom,f("xAxis",r),f("yAxis",r)))});vti=no.toolbox.restore;ytt.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:vti.title};yti=ytt.prototype;yti.onclick=function(n,t){tpi(n);t.dispatchAction({type:"restore",from:this.uid})};vc("restore",ytt);pt({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});n.version="4.1.0";n.dependencies={zrender:"4.0.4"};n.PRIORITY=rut;n.init=ysi;n.connect=psi;n.disConnect=hlt;n.disconnect=fdi;n.dispose=wsi;n.getInstanceByDom=ng;n.getInstanceById=bsi;n.registerTheme=tg;n.registerPreprocessor=rf;n.registerProcessor=he;n.registerPostUpdate=ksi;n.registerAction=pt;n.registerCoordinateSystem=dsi;n.getCoordinateSystemDimensions=gsi;n.registerLayout=tc;n.registerVisual=ic;n.registerLoading=clt;n.extendComponentModel=uf;n.extendComponentView=su;n.extendSeriesModel=llt;n.extendChartView=alt;n.setCanvasCreator=nhi;n.registerMap=thi;n.getMap=ihi;n.dataTool=gdt;n.zrender=vwi;n.graphic=sp;n.number=bbi;n.format=nki;n.throttle=bd;n.helper=ogi;n.matrix=nwi;n.vector=dpi;n.color=rwi;n.parseGeoJSON=egt;n.parseGeoJson=sgt;n.util=yut;n.List=bi;n.Model=g;n.Axis=ll;n.env=e}),function(n,t){typeof define=="function"&&define.amd?define(["exports","echarts"],t):typeof exports=="object"&&typeof exports.nodeName!="string"?t(exports,require("echarts")):t({},n.echarts)}(this,function(n,t){var u=function(n){typeof console!="undefined"&&console&&console.error&&console.error(n)},i,r;if(!t){u("ECharts is not Loaded");return}i=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"];r={color:i,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:i[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},map:{label:{normal:{textStyle:{color:"#d87a80"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#fe994e"}}},graph:{color:i},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};t.registerTheme("macarons",r)});
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */
(function(n,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():n.NProgress=t()})(this,function(){function u(n,t,i){return n<t?t:n>i?i:n}function r(n){return(-1+n)*100}function l(n,i,u){var f;return f=t.positionUsing==="translate3d"?{transform:"translate3d("+r(n)+"%,0,0)"}:t.positionUsing==="translate"?{transform:"translate("+r(n)+"%,0)"}:{"margin-left":r(n)+"%"},f.transition="all "+i+"ms "+u,f}function o(n,t){var i=typeof n=="string"?n:f(n);return i.indexOf(" "+t+" ")>=0}function s(n,t){var i=f(n),r=i+t;o(i,t)||(n.className=r.substring(1))}function h(n,t){var r=f(n),i;o(n,t)&&(i=r.replace(" "+t+" "," "),n.className=i.substring(1,i.length-1))}function f(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function c(n){n&&n.parentNode&&n.parentNode.removeChild(n)}var n={},t,e,i;return n.version="0.2.0",t=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"><\/div><\/div><div class="spinner" role="spinner"><div class="spinner-icon"><\/div><\/div>'},n.configure=function(n){var i,r;for(i in n)r=n[i],r!==undefined&&n.hasOwnProperty(i)&&(t[i]=r);return this},n.status=null,n.set=function(r){var s=n.isStarted();r=u(r,t.minimum,1);n.status=r===1?null:r;var f=n.render(!s),h=f.querySelector(t.barSelector),o=t.speed,c=t.easing;return f.offsetWidth,e(function(u){t.positionUsing===""&&(t.positionUsing=n.getPositioningCSS());i(h,l(r,o,c));r===1?(i(f,{transition:"none",opacity:1}),f.offsetWidth,setTimeout(function(){i(f,{transition:"all "+o+"ms linear",opacity:0});setTimeout(function(){n.remove();u()},o)},o)):setTimeout(u,o)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var i=function(){setTimeout(function(){n.status&&(n.trickle(),i())},t.trickleSpeed)};return t.trickle&&i(),this},n.done=function(t){return!t&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(t){var i=n.status;return i?(typeof t!="number"&&(t=(1-i)*u(Math.random()*i,.1,.95)),i=u(i+t,0,.994),n.set(i)):n.start()},n.trickle=function(){return n.inc(Math.random()*t.trickleRate)},function(){var i=0,t=0;n.promise=function(r){return!r||r.state()==="resolved"?this:(t===0&&n.start(),i++,t++,r.always(function(){t--;t===0?(i=0,n.done()):n.set((i-t)/i)}),this)}}(),n.render=function(u){var f;if(n.isRendered())return document.getElementById("nprogress");s(document.documentElement,"nprogress-busy");f=document.createElement("div");f.id="nprogress";f.innerHTML=t.template;var h=f.querySelector(t.barSelector),l=u?"-100":r(n.status||0),e=document.querySelector(t.parent),o;return i(h,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),t.showSpinner||(o=f.querySelector(t.spinnerSelector),o&&c(o)),e!=document.body&&s(e,"nprogress-custom-parent"),e.appendChild(f),f},n.remove=function(){h(document.documentElement,"nprogress-busy");h(document.querySelector(t.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&c(n)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var n=document.body.style,t="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return t+"Perspective"in n?"translate3d":t+"Transform"in n?"translate":"margin"},e=function(){function t(){var i=n.shift();i&&i(t)}var n=[];return function(i){n.push(i);n.length==1&&t()}}(),i=function(){function r(n){return n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(n,t){return t.toUpperCase()})}function u(t){var u=document.body.style,i,f,r;if(t in u)return t;for(i=n.length,f=t.charAt(0).toUpperCase()+t.slice(1);i--;)if(r=n[i]+f,r in u)return r;return t}function f(n){return n=r(n),t[n]||(t[n]=u(n))}function i(n,t,i){t=f(t);n.style[t]=i}var n=["Webkit","O","Moz","ms"],t={};return function(n,t){var u=arguments,r,f;if(u.length==2)for(r in t)f=t[r],f!==undefined&&t.hasOwnProperty(r)&&i(n,r,f);else i(n,u[1],u[2])}}(),n});var main_vm=new Vue({el:"#mainapp",data:{menulist:[],messList:[],messCount:0,isDown:!1,siteList:[],block:!1,unreadquantity:0},created:function(){var n=this;document.querySelector("body").addEventListener("click",function(t){n.isDown=t.target.id==="notificdown"||t.target.id==="notificicon"?!0:!1})},methods:{clearCache:function(){os.success("这里是测试，可以ajax到后台清除网站缓存")},godown:function(){this.isDown=this.isDown?!1:!0},logout:function(){os.load();os.ajax("api/admin/logout",null,function(n){n.statusCode===200?window.location.href=n.data:os.error(n.message)})},updatepwd:function(){os.Open("修改密码","/fytadmin/updatepwd","500px","340px")},updateloginsum:function(){os.ajax("api/admin/updateloginsum",null,function(){})},unreadcount:function(){os.ajax("api/notice/unreadquantity",{},function(n){n.statusCode===200?(main_vm.block=parseInt(n.data)>0?!0:!1,main_vm.unreadquantity=n.data):os.error(n.message)})},noticelist:function(){os.Open("消息列表","/fytadmin/noticelist","600px","400px",main_vm.unreadcount)},qhSite:function(n){os.load();os.ajax("api/admin/rep/site",n,function(n){n.statusCode===200?window.location.reload():os.error(n.message)})}}}),os,rm_vm=new Vue({el:"#rmapp",data:{tmlist:[],list:[]}});layui.config({base:"/themes/js/modules/"}).use(["element","layer","jquery","common"],function(){var t=layui.element,n=layui.jquery;os=layui.common;os.ajax("api/cmssite/list",{},function(n){n.statusCode===200?main_vm.siteList=n.data:os.error(n.message)});os.ajax("api/menu/authmenu",null,function(i){i.statusCode===200?(n.each(i.data,function(n,t){t.layer===1&&main_vm.menulist.push(t)}),rm_vm.tmlist=main_vm.menulist,rm_vm.list=i.data,main_vm.$nextTick(function(){t.render();n(".layui-bg-black .fyt-nav-tree li a").each(function(){window.location.pathname===n(this).attr("href")&&(n(".layui-bg-black .fyt-nav-tree li").removeClass("layui-nav-itemed"),n(this).parents(".layui-nav-item").addClass("layui-nav-itemed"),n(this).parent().addClass("layui-this"))});n(".load8").fadeOut(200);t.on("nav(topmenu)",function(t){var i=n(t),r=i.data("index");n("#rmapp .layui-side-scroll ul").addClass("layui-hide");n("#rmapp .layui-side-scroll ul").eq(r).removeClass("layui-hide")});n("#rmapp .layui-side-scroll ul").eq(0).removeClass("layui-hide")})):(n(".load8").fadeOut(200),os.error(i.message))},"get");os.ajax("api/admin/loginsum",null,function(n){n&&os.Open("修改密码","/fytadmin/updatepwd","500px","340px",main_vm.updateloginsum)});n("#content-container").height(n("#main-container").height()-36);main_vm.unreadcount()});